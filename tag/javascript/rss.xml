<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Leteä¹ç‰¹ &#39;s Blog â€¢ Posts by &#34;javascript&#34; tag</title>
        <link>https://blog.imlete.cn</link>
        <description>æˆ‘ç›¸ä¿¡æˆ‘å¯ä»¥ï¼Œä½†æˆ‘ä¸€ç›´åœ¨è·¯ä¸Šï¼Œæ‰€ä»¥æˆ‘æœ‰æ— é™çš„å¯èƒ½ï¼ï¼</description>
        <language>zh-CN</language>
        <pubDate>Tue, 17 Oct 2023 20:00:29 +0000</pubDate>
        <lastBuildDate>Tue, 17 Oct 2023 20:00:29 +0000</lastBuildDate>
        <category>CSS</category>
        <category>è®°å½•</category>
        <category>JavaScript</category>
        <category>Git</category>
        <category>æ•™ç¨‹</category>
        <category>HTML</category>
        <category>CDN</category>
        <category>Github</category>
        <category>Jsdeliver</category>
        <category>SEO</category>
        <category>Hexo</category>
        <category>Yilia</category>
        <category>Valine</category>
        <category>Live2d</category>
        <category>Config</category>
        <category>LeanCloud</category>
        <category>IDEA</category>
        <category>Maven</category>
        <category>Java</category>
        <category>SpringBoot</category>
        <category>Thymeleaf</category>
        <category>java</category>
        <category>æºç </category>
        <category>è½¯ä»¶</category>
        <category>MyBatis</category>
        <category>SSM</category>
        <category>Gzip</category>
        <category>JQuery</category>
        <category>Node</category>
        <category>Cache</category>
        <category>Vue</category>
        <category>TypeScript</category>
        <category>Vercel</category>
        <category>HTTP</category>
        <category>Typecho</category>
        <category>Blog</category>
        <category>Webpack</category>
        <category>Windows</category>
        <category>Linux</category>
        <category>PhotoShop</category>
        <category>æŠ å›¾</category>
        <category>VSCode</category>
        <category>jsdelivr</category>
        <category>C#</category>
        <category>Google Chrome</category>
        <category>è°·æ­Œæ’ä»¶</category>
        <category>Google-Chrome</category>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/Virtual-DOM-slower-real-DOM.html</guid>
            <title>è™šæ‹Ÿ DOM æ¯”çœŸ DOM çƒ‚</title>
            <link>https://blog.imlete.cn/article/Virtual-DOM-slower-real-DOM.html</link>
            <category>JavaScript</category>
            <pubDate>Tue, 17 Oct 2023 20:00:29 +0000</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯´æ˜ä¸€ä¸‹ä¸ºä»€ä¹ˆå†™è¿™ç¯‡æ–‡ç« å§ã€‚è™šæ‹Ÿ DOMï¼ˆæœ¬æ–‡åé¢ç»Ÿä¸€ &lt;code&gt;vDOM&lt;/code&gt;ï¼‰ï¼Œè¿™ä¸ªè¯ç»å¸¸åœ¨é¢è¯•ã€ç¤¾åŒºæ–‡ç« ä¸­å‡ºç°ï¼Œéƒ½åœ¨è¯´ vDOM å¿«ã€è‡³äºå¿«åœ¨å“ªé‡Œä¹Ÿæ²¡ä¸ªäººèƒ½è¯´çš„æ¸…æ¥šï¼ˆå½“ç„¶ï¼Œæˆ‘ä¹Ÿä¸ä¸€å®šæ˜¯å¯¹çš„ï¼Œä¸»è¦æ˜¯åˆ†äº«è‡ªå·±å¯¹ vDOM å’Œ DOM çš„çœ‹æ³•ï¼‰ï¼Œä»ç½‘ä¸Šçœ‹åˆ°çš„èµ„æ–™æˆ‘èƒ½äº†è§£åˆ°çš„å°±æ˜¯ä½¿ç”¨ JavaScript çš„æ™®é€šå¯¹è±¡&lt;code&gt;æŠ½è±¡&lt;/code&gt;å‡ºä¸€ä¸ª vDOM æ ‘ï¼Œå½“æ•°æ®å˜åŒ–çš„æ—¶å€™é‡æ–°ç”Ÿæˆ vDOM æ ‘ï¼Œå†é€šè¿‡ &lt;code&gt;diif&lt;/code&gt; ç®—æ³•æ¯”è¾ƒ&lt;code&gt;æ–°&lt;/code&gt; vDOM å’Œ&lt;code&gt;æ—§&lt;/code&gt;çš„ vDOM å¯¹æ¯”ï¼Œçœ‹çœ‹æ˜¯å“ªå—çš„æ•°æ®å˜åŠ¨äº†ï¼Œæœ€åå°†å˜åŠ¨çš„åœ°æ–¹&lt;code&gt;æ˜ å°„&lt;/code&gt;åˆ° DOM ä¸Šï¼Œä»è€Œå®Œæˆé¡µé¢æ•°æ®çš„å±•ç¤ºã€‚é‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼Œæ—¢ç„¶æœ€åéƒ½è¦ä¿®æ”¹ DOM ä¸ºä»€ä¹ˆè¿˜è¦å¼„å‡ºä¸€ä¸ª vDOM å‘¢ï¼Ÿåƒé¥±äº†æ²¡äº‹å¹²ï¼Ÿè¿˜éå†å¯¹æ¯”æ–°æ—§ vDOM çš„å·®å¼‚ï¼Œé¥¶äº†ä¸€åœˆä¸è¿˜æ˜¯è¦æ”¹ DOM å—ï¼Ÿæˆ‘é™·å…¥äº†æ²‰æ€â€¦..&lt;/p&gt;
&lt;h2 id=&#34;æ­£æ–‡&#34;&gt;&lt;a href=&#34;#æ­£æ–‡&#34; class=&#34;headerlink&#34; title=&#34;æ­£æ–‡&#34;&gt;&lt;/a&gt;æ­£æ–‡&lt;/h2&gt;&lt;p&gt;ä»€ä¹ˆæ˜¯ vDOM æˆ‘å°±ä¸å¤šè¯´äº†ï¼ŒåŸºäº&lt;code&gt;å‰è¨€&lt;/code&gt;æœ€åä¸€å¥è¯çš„æ€è€ƒï¼Œæˆ‘æ›´æƒ³äº†è§£ vDOM å®ƒç©¶ç«Ÿå¸¦æ¥ä»€ä¹ˆä¼˜ç‚¹ï¼Œå‰ç«¯å·¨å¤´ Vueã€React éƒ½åœ¨ç”¨ï¼Œè¿™ç©¶ç«Ÿæ˜¯ä¸ºä»€ä¹ˆï¼Ÿï¼Ÿ&lt;/p&gt;
&lt;p&gt;äºæ˜¯æˆ‘æ‰“å¼€äº† Vue çš„å®˜ç½‘ &lt;a href=&#34;https://web.archive.org/web/20231017125349/https://cn.vuejs.org/guide/extras/rendering-mechanism&#34;&gt;Virtual DOM&lt;/a&gt;ï¼Œå¹¶æœªåœ¨æ–‡æ¡£é•¿çœ‹åˆ°æœ‰ä»»ä½•åœ°æ–¹æè¿° vDOM æ•ˆç‡é«˜ã€é€Ÿåº¦å¿«ã€å†…å­˜å ç”¨ä½ã€‚&lt;/p&gt;
&lt;p&gt;å†æ¥çœ‹çœ‹ React å®˜ç½‘ &lt;a href=&#34;https://web.archive.org/web/20231017131640/https://zh-hans.legacy.reactjs.org/docs/faq-internals.html&#34;&gt;Virtual DOM - ä¸­æ–‡&lt;/a&gt; &lt;a href=&#34;https://web.archive.org/web/20231017131401/https://legacy.reactjs.org/docs/faq-internals.html&#34;&gt;Virtual DOM - è‹±è¯­&lt;/a&gt;ï¼Œå’Œ Vue ä¸€æ ·ï¼Œå¹¶æœªæèµ· vDOM æ•ˆç‡é«˜ã€é€Ÿåº¦å¿«ã€å†…å­˜å ç”¨ä½ç­‰å­—çœ¼ã€‚å…¶ä¸­æœ‰ä¸€å¥è¯ï¼šåœ¨ React çš„ä¸–ç•Œé‡Œï¼Œæœ¯è¯­ â€œVirtual DOMâ€ é€šå¸¸ä¸ React å…ƒç´ å…³è”åœ¨ä¸€èµ·ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯ä»£è¡¨äº†&lt;code&gt;ç”¨æˆ·ç•Œé¢çš„å¯¹è±¡&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å› æ­¤ vDOM å¹¶ä¸æ˜¯åœ¨æé«˜æ•ˆç‡ï¼Œè€Œæ˜¯åœ¨æ¶ˆè€—æ•ˆç‡ã€‚ä¸ºä»€ä¹ˆè¿™ä¹ˆè¯´ï¼Ÿå› ä¸ºåŒæ ·æ˜¯å‰ç«¯æ¡†æ¶ï¼Œåèµ·ä¹‹ç§€ &lt;a href=&#34;https://svelte.dev&#34;&gt;Svelte.js&lt;/a&gt; å’Œ &lt;a href=&#34;https://www.solidjs.com&#34;&gt;Solid.js&lt;/a&gt; éƒ½æ²¡æœ‰ä½¿ç”¨ vDOM åè€Œæ•ˆç‡è¿˜åŠæ‰“ Vue.js å’Œ React.js ï¼Œæ•ˆç‡ç”šè‡³ç›´é€¼ Vanilla.js (åŸç”Ÿ JS)&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿ-DOM&#34;&gt;&lt;a href=&#34;#ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿ-DOM&#34; class=&#34;headerlink&#34; title=&#34;ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿ DOM&#34;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿ DOM&lt;/h3&gt;&lt;p&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œä¸ºä»€ä¹ˆéœ€è¦ vDOMï¼ŒvDOM æ•ˆç‡ä¸æ˜¯æ¯” DOM ä½å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜è¦ç”¨ï¼Ÿæ•´é‚£ä¹ˆå¤šåˆ¤æ–­å’Œæ•°æ®å¯¹æ¯”ï¼Œæœ€åä¸è¿˜æ˜¯è¦æ”¹ DOM å—ï¼Ÿä¸ºä»€ä¹ˆä¸ç›´æ¥æ”¹ DOMï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å…ˆæƒ³æƒ³ vDOM ç©¶ç«Ÿå¸¦æ¥äº†ä»€ä¹ˆä¼˜åŠ¿ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;è·¨å¹³å°ï¼šå€ŸåŠ©ä¸€äº›å·¥å…·å¯ä»¥å°† vDOM &lt;code&gt;è½¬æ¢&lt;/code&gt;æˆå¯¹åº”å¹³å°å¯ä»¥è®¤è¯†çš„ä¸œè¥¿&lt;br&gt;ä¾‹å¦‚åœ¨æµè§ˆå™¨ä¸­ react å°±éœ€è¦ react-dom è¿™ä¸ªåº“åœ¨å®ç°å°† vDOM è½¬æ¢æˆçœŸå® DOMã€‚&lt;br&gt;è¿˜æœ‰ react-native å°† vDOM è½¬æ¢æˆ &lt;code&gt;Android&lt;/code&gt; å’Œ &lt;code&gt;iOS&lt;/code&gt; å¹³å°å¯ä»¥ä½¿ç”¨çš„ç”¨æˆ·ç•Œé¢ã€‚&lt;br&gt;&lt;br&gt;å†ä¸¾ä¸ª ğŸŒ°ï¼Œå›½å†… uniApp å¾ˆå¤šå‰ç«¯å¼€å‘å¤šå¤šå°‘å°‘éƒ½å¬è¿‡å§ï¼Ÿåšå°ç¨‹åºï¼Œæˆ– APP çš„ï¼Œå®ƒä½¿ç”¨ Vue vDOM è½¬æ¢æˆå¯¹åº”å¹³å°ã€iOSã€Androidã€å°ç¨‹åº(å¾®ä¿¡/æ”¯ä»˜å®/ç™¾åº¦/å¤´æ¡/é£ä¹¦/QQ/å¿«æ‰‹/é’‰é’‰/æ·˜å®)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç®€å•æ–¹ä¾¿: èƒ½è®©ä½ è½»æ¾çš„æ“ä½œ DOMï¼Œä¹Ÿä¸ç”¨ä½ å»ç»´æŠ¤ DOM çš„çŠ¶æ€ã€‚&lt;br&gt;ä¸åƒæµè§ˆå™¨ä¸­çš„ DOM æ¯æ¬¡éƒ½è¦ document.querySelectorï¼Œç”šè‡³è¿˜è¦åˆ¤æ–­è·å–çš„è¿™ä¸ªçœŸå® DOM åˆ°åº•å­˜ä¸å­˜åœ¨ï¼Œè¿™æ ·å†™ä»£ç å°±éå¸¸çš„æ¶å¿ƒ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ€§èƒ½æå‡: ä¸æ˜¯è¯´ vDOM æ€§èƒ½æ¯”ä¸ä¸Š DOM å—ï¼Ÿä¸ºä»€ä¹ˆè¿˜è¯´å®ƒæ€§èƒ½æå‡ï¼Ÿ&lt;br&gt;åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒvDOM æ€§èƒ½ç¡®å®æ˜¯è¦æ¯” DOM æ€§èƒ½å¥½ï¼Œå¦‚æœæœ‰ 1000 ä¸ª DOM èŠ‚ç‚¹ï¼ˆä¸¾ä¾‹ ul&amp;gt;liï¼‰ï¼Œè¿™æ˜¯åç«¯è¿”å›çš„æ•°æ®ï¼Œéœ€è¦æ¸²æŸ“åˆ°é¡µé¢ä¸Šï¼ˆä¸€èˆ¬äººè°æ²¡äº‹åç«¯è¿”å›ä½ é‚£ä¹ˆå¤šæ•°æ®å¹²å˜›ï¼Œæ›´ä½•å†µä½ ä¹Ÿä¸èƒ½ä¸€æ¬¡æ€§æ¸²æŸ“é‚£ä¹ˆå¤šæ•°æ®å•Šï¼Œç”¨æˆ·åˆçœ‹ä¸åˆ°é‚£ä¹ˆå¤šï¼ŒåŸºæœ¬ä¸Šéƒ½æ˜¯åšåˆ†é¡µå¤„ç†ï¼‰ï¼Œå‡å¦‚æœ‰æŸç§ä¸šåŠ¡éœ€æ±‚ï¼Œä¿®æ”¹äº† 100 ä¸ª li æ¥ä¸‹æ¥çœ‹çœ‹ vDOM å’Œ DOM æ˜¯æ€ä¹ˆè¿è¡Œçš„å§&lt;br&gt;&lt;br&gt;vDOM ç”Ÿæˆä¸€ä¸ªæ–°çš„ vDOM è·Ÿæ—§çš„ vDOM å¯¹æ¯”ï¼Œå‘ç°æœ‰ 100 ä¸ª li æ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œè¿™æ—¶ vDOM å¼€å§‹ä¿®æ”¹ DOM ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­åªè§¦å‘ä¸€æ¬¡ DOM ä¿®æ”¹&lt;br&gt;&lt;br&gt;DOM å¯èƒ½ä¹Ÿä¼šå’Œ vDOM ä¸€æ ·æœ€ååªè§¦å‘ä¸€æ¬¡ DOM ä¿®æ”¹ï¼Œä¹Ÿå¯èƒ½è§¦å‘ 100 æ¬¡å·¦å³çš„ DOM ä¿®æ”¹ï¼Œå…·ä½“çœ‹ä»£ç æ˜¯æ€ä¹ˆå®ç°&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;!(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; ul = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;querySelector&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;ul&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; i = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;number&#34;&gt;100&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; li = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;createElement&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;li&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    li.&lt;span class=&#34;property&#34;&gt;textContent&lt;/span&gt; = i&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å…³é”®ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ¯æ¬¡ç»™ ul çš„å­å…ƒç´ éƒ½æ·»åŠ ä¸€ä¸ª liï¼Œå°±æ’ç‰ˆä¸€æ¬¡ï¼Œ100æ¬¡å¾ªç¯ç»“æŸåæ’ç‰ˆäº†100æ¬¡ï¼Œä¹Ÿç»˜åˆ¶æ¸²æŸ“äº†100æ¬¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// ä¸çŸ¥é“æˆ‘è¿™æ ·è¯´æ˜¯ä¸æ˜¯å¯¹çš„ï¼Œå› ä¸ºæˆ‘å¯¹æµè§ˆå™¨æ¸²æŸ“åŸç†ä¹Ÿä¸æ˜¯å¾ˆäº†è§£ã€‚é‡æ’ã€é‡ç»˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    ul.&lt;span class=&#34;title function_&#34;&gt;appendChild&lt;/span&gt;(li)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;!(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; ul = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;querySelector&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;ul&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; fragment = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;createDocumentFragment&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; i = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;number&#34;&gt;100&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; li = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;createElement&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;li&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    li.&lt;span class=&#34;property&#34;&gt;textContent&lt;/span&gt; = i&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å…³é”®ç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ¯æ¬¡ç»™æ–‡æ¡£ç¢ç‰‡é‡Œæ·»åŠ ä¸€ä¸ª li è¿™åªæ˜¯åœ¨å†…å­˜ä¸­ï¼Œå¹¶æ²¡æœ‰æ·»åŠ åˆ°é¡µé¢ä¸Šï¼Œæ‰€ä»¥é¡µé¢å¹¶ä¼šä¸ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    fragment.&lt;span class=&#34;title function_&#34;&gt;appendChild&lt;/span&gt;(li)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ç›´åˆ°å¾ªç¯å®Œæ¯•åï¼Œå°†æ–‡æ¡£ç¢ç‰‡é‡Œçš„æ‰€æœ‰ li ä¸€æ¬¡æ€§æ·»åŠ åˆ° ul é‡Œï¼Œæ­¤æ—¶é¡µé¢åªè§¦å‘ä¸€æ¬¡é‡æ’ã€é‡ç»˜&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ul.&lt;span class=&#34;title function_&#34;&gt;appendChild&lt;/span&gt;(fragment)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;æ€»ç»“&#34;&gt;&lt;a href=&#34;#æ€»ç»“&#34; class=&#34;headerlink&#34; title=&#34;æ€»ç»“&#34;&gt;&lt;/a&gt;æ€»ç»“&lt;/h3&gt;&lt;p&gt;æœ¬æ–‡ä»…ä»…æ˜¯ä¹ç‰¹å¯¹ vDOM çš„ç†è§£å’Œæ„Ÿæ‚Ÿï¼Œå¹¶æœªçœŸæ­£çš„å»ç¿»çœ‹æ–‡ä¸­æåˆ°çš„æ¡†æ¶æºç ï¼Œæ‰€ä»¥æˆ‘å¸Œæœ›å¤§å®¶çœ‹å®Œè¿™ç¯‡æ–‡ç« åèƒ½å¤Ÿæœ‰ä¸€äº›è‡ªå·±çš„çœ‹æ³•å’Œç†è§£ï¼Œå¹¶è‡ªå·±è¡ŒåŠ¨å»å¯»æ‰¾è‡ªå·±çš„ç­”æ¡ˆï¼Œè€Œä¸æ˜¯åœ¨ç½‘ä¸Šçœ‹åˆ°åˆ«äººå†™çš„æ–‡ç« å°±çœŸçš„ä»¥ä¸ºåˆ«äººè¯´çš„å°±æ˜¯å¯¹çš„ï¼Œä»è€Œä¸§å¤±è‡ªå·±çš„åˆ¤æ–­é‡Œã€‚å°±åƒç½‘ä¸Šå‘çš„çŸ­è§†é¢‘ï¼ŒæœªçŸ¥äº‹æƒ…çœŸä¼ªï¼Œä»…ä»…æ˜¯çœ‹åˆ°äº†åˆ«äººè£å‰ªè§†é¢‘çš„ä¸€å°éƒ¨åˆ†ï¼Œå°±åœ¨è¯„è®ºåŒºè·Ÿé£&lt;/p&gt;
&lt;p&gt;æ€»ç»“(è¿™æ‰æ˜¯çœŸæ­£çš„æ€»ç»“)ï¼ŒvDOM å¹¶æ²¡æœ‰æé«˜æ•ˆç‡ï¼Œåè€Œæ˜¯åœ¨é™ä½æ•ˆç‡ï¼Œç»§ç»­ä¸Šé¢æ‰€è¯´çš„ 1000 ä¸ª DOM èŠ‚ç‚¹ï¼Œå¦‚æœæˆ‘åªä¿®æ”¹äº† 1 ä¸ª li å‘¢ï¼ŸvDOM è¿˜æ˜¯ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ vDOM å’Œæ—§çš„ vDOM å¯¹æ¯”ï¼Œç™½ç™½è·‘äº† 1000 æ¬¡&lt;/p&gt;
&lt;p&gt;å¦‚æœæœ‰å“ªå†™çš„ä¸å¯¹çš„ï¼Œè¿˜è¯·å„ä½å¤§ä½¬æŒ‡å‡º ğŸ˜ğŸ˜&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/nonuse-es6+-implements-call-apply-bind.html</guid>
            <title>ä¸ä½¿ç”¨ ES6+ å®ç° call apply bind æ–¹æ³•</title>
            <link>https://blog.imlete.cn/article/nonuse-es6+-implements-call-apply-bind.html</link>
            <category>è®°å½•</category>
            <category>JavaScript</category>
            <pubDate>Fri, 04 Nov 2022 15:24:31 +0000</pubDate>
            <description><![CDATA[ &lt;p&gt;ä½¿ç”¨ ES6+ å®ç°è¿™ä¸‰ä¸ªæ–¹æ³•å…¶å®éå¸¸ç®€å•ï¼Œæœ¬æ–‡å°±æ¥æŒ‘æˆ˜ä¸€ä¸‹ï¼Œå¦‚æœä¸é€‚ç”¨ ES6+ çš„æƒ…å†µä¸‹å¦‚ä½•å®ç°è¿™ä¸‰ä¸ªæ–¹æ³•&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;éš¾ç‚¹: ä¸èƒ½ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦(â€¦)è¯¥å¦‚ä½•æ¥æ”¶å‚æ•°å’Œä¼ å…¥å‚æ•°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è‡³äºè¿™ä¸‰ä¸ªæ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«å¯ä»¥é˜…è¯»æˆ‘ä¹‹å‰çš„è¿™ç¯‡æ–‡ç«  &lt;a href=&#34;/article/call-apply-bind-distinction.html&#34;&gt;call()-apply()-bind()æ–¹æ³•æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;apply&#34;&gt;&lt;a href=&#34;#apply&#34; class=&#34;headerlink&#34; title=&#34;apply&#34;&gt;&lt;/a&gt;apply&lt;/h2&gt;&lt;p&gt;å°±ä¸å¤šè¯´åºŸè¯äº†ï¼Œç›´æ¥çœ‹ä»£ç &lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title class_&#34;&gt;Function&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;myApply&lt;/span&gt; = &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; (&lt;span class=&#34;params&#34;&gt;_this, args&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    _this = _this || &lt;span class=&#34;variable language_&#34;&gt;window&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    _this[&lt;span class=&#34;string&#34;&gt;&amp;#x27;#function#&amp;#x27;&lt;/span&gt;] = &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (!args) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; _this[&lt;span class=&#34;string&#34;&gt;&amp;#x27;#function#&amp;#x27;&lt;/span&gt;]()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125; &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; params = &lt;span class=&#34;title class_&#34;&gt;JSON&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;stringify&lt;/span&gt;(args)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;// å½“ JSON.stringify æŠŠä¸€ä¸ªæ•°ç»„è§£ææˆå­—ç¬¦ä¸²æ˜¯ä¼šå¤šå¥—ä¸€å±‚ â€˜[]â€™ ï¼Œæ‰€ä»¥éœ€è¦è£åˆ‡æ‰&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      params = params.&lt;span class=&#34;title function_&#34;&gt;slice&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;, params.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt; - &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;// ç”±äº Function æ— æ³•è®¿é—®ä¸Šçº§ä½œç”¨åŸŸï¼Œç”±äºä¸Šå±‚ä»¥åŠè£æ‰äº†é¦–å°¾éƒ¨åˆ†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;// æ‰€ä»¥å¾—åˆ° _this[&amp;quot;#function#&amp;quot;](1,2) è¿™æ ·å°±èƒ½å®ç°æ‰©å±•è¿ç®—ç¬¦(...)çš„æ“ä½œäº†ï¼Œå…³äº new Function è¯·è‡ªè¡ŒæŸ¥é˜…&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Function&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;_this&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;return _this[&amp;quot;#function#&amp;quot;](&amp;#x27;&lt;/span&gt; + params + &lt;span class=&#34;string&#34;&gt;&amp;#x27;)&amp;#x27;&lt;/span&gt;)(_this)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;// ------ ä¸Šé¢è¿™å¨ä½ ä¹Ÿå¯ä»¥æ”¹ä¸º eval() ------&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; params = []&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;// æ³¨æ„ï¼Œè¿™é‡Œçš„ i åˆå§‹å€¼æ˜¯ 1 ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å»é™¤ç¬¬ä¸€ä¸ªå‚æ•°(ä¹Ÿå°±æ˜¯ _this)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; i = &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;variable language_&#34;&gt;arguments&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        params.&lt;span class=&#34;title function_&#34;&gt;push&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;arguments[&amp;#x27;&lt;/span&gt; + i + &lt;span class=&#34;string&#34;&gt;&amp;#x27;]&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;// è¿™é‡Œè§£é‡Šä¸€ä¸‹ï¼Œå½“å¼•ç”¨ç±»å‹ä¸å­—ç¬¦ä¸²æ‹¼æ¥çš„æ—¶å€™ä¼šéšå¼è°ƒç”¨ toString() ï¼Œæ•°ç»„è°ƒç”¨ toString() ä¼šè¿”å›å¦‚ä¸‹ç»“æœ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;// _this[&amp;quot;#function#&amp;quot;](arguments[1],arguments[2],arguments[3])&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;comment&#34;&gt;// eval æ‰§è¡Œåå¯ä»¥è®¿é—®ä¸Šçº§ä½œç”¨åŸŸçš„å˜é‡ï¼Œè¿™é‡Œå°±å¯ä»¥å®ç°æ‰©å±•è¿ç®—ç¬¦(...)çš„æ“ä½œäº†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;eval&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;_this[&amp;quot;#function#&amp;quot;](&amp;#x27;&lt;/span&gt; + params + &lt;span class=&#34;string&#34;&gt;&amp;#x27;)&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125; &lt;span class=&#34;keyword&#34;&gt;finally&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;delete&lt;/span&gt; _this[&lt;span class=&#34;string&#34;&gt;&amp;#x27;#function#&amp;#x27;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;call&#34;&gt;&lt;a href=&#34;#call&#34; class=&#34;headerlink&#34; title=&#34;call&#34;&gt;&lt;/a&gt;call&lt;/h2&gt;&lt;p&gt;ç”±äºå‰é¢ä»¥åŠå®ç°äº† &lt;code&gt;myApply&lt;/code&gt; æ–¹æ³•ï¼Œå† &lt;code&gt;myCall&lt;/code&gt; å³å¯ç›´æ¥è°ƒç”¨ï¼Œå¦‚æœè¦å®Œæ•´å†™ä¸€ä¸ª &lt;code&gt;myCall&lt;/code&gt; ä¹Ÿåªæ˜¯å¢åŠ ä»£ç å†—ä½™è€Œå·²&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title class_&#34;&gt;Function&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;myCall&lt;/span&gt; = &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; (&lt;span class=&#34;params&#34;&gt;_this&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  _this = _this || &lt;span class=&#34;variable language_&#34;&gt;window&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; params = []&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// æ³¨æ„ï¼Œè¿™é‡Œçš„ i åˆå§‹å€¼æ˜¯ 1 ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å»é™¤ç¬¬ä¸€ä¸ªå‚æ•°(ä¹Ÿå°±æ˜¯ _this)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; i = &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;variable language_&#34;&gt;arguments&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    params.&lt;span class=&#34;title function_&#34;&gt;push&lt;/span&gt;(&lt;span class=&#34;variable language_&#34;&gt;arguments&lt;/span&gt;[i])&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;myApply&lt;/span&gt;(_this, params)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;bind&#34;&gt;&lt;a href=&#34;#bind&#34; class=&#34;headerlink&#34; title=&#34;bind&#34;&gt;&lt;/a&gt;bind&lt;/h2&gt;&lt;p&gt;å¦‚ä¸Šï¼Œå¯ä»¥ç»§ç»­å¤ç”¨å·²ç»å°è£…å¥½çš„&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title class_&#34;&gt;Function&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;prototype&lt;/span&gt;&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;myBind&lt;/span&gt; = &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; (&lt;span class=&#34;params&#34;&gt;_this&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  _this = _this || &lt;span class=&#34;variable language_&#34;&gt;window&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; self = &lt;span class=&#34;variable language_&#34;&gt;this&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; params = []&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// æ³¨æ„ï¼Œè¿™é‡Œçš„ i åˆå§‹å€¼æ˜¯ 1 ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å»é™¤ç¬¬ä¸€ä¸ªå‚æ•°(ä¹Ÿå°±æ˜¯ _this)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; i = &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;variable language_&#34;&gt;arguments&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    params.&lt;span class=&#34;title function_&#34;&gt;push&lt;/span&gt;(&lt;span class=&#34;variable language_&#34;&gt;arguments&lt;/span&gt;[i])&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; (&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ³¨æ„è¿™é‡Œçš„ i åˆå§‹å€¼æ˜¯ 0 ,å› ä¸ºå®ƒä¸éœ€è¦ç§»é™¤ _this ï¼Œå¯èƒ½è¿™æœ‰ç‚¹ä¹±ï¼Œå¸Œæœ›è¯»è€…å¤šå¤šæ€è€ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; i = &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span class=&#34;variable language_&#34;&gt;arguments&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt;; i++) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      params.&lt;span class=&#34;title function_&#34;&gt;push&lt;/span&gt;(&lt;span class=&#34;variable language_&#34;&gt;arguments&lt;/span&gt;[i])&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; self.&lt;span class=&#34;title function_&#34;&gt;myApply&lt;/span&gt;(_this, params)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a href=&#34;#æ€»ç»“&#34; class=&#34;headerlink&#34; title=&#34;æ€»ç»“&#34;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;ä»¥ä¸Šå°±æ˜¯æœ¬æ–‡çš„å…¨éƒ¨å†…å®¹ï¼Œå¯èƒ½ä¼šå­˜åœ¨ä¸€äº›å°ç‘•ç–µï¼Œå¸Œæœ›å„ä½è¯»è€…ç•™è¨€è¯„è®ºæˆ–ä¼˜åŒ–&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/webpack-on-demand-loading-principle.html</guid>
            <title>webpack æŒ‰éœ€åŠ è½½åŸç†</title>
            <link>https://blog.imlete.cn/article/webpack-on-demand-loading-principle.html</link>
            <category>JavaScript</category>
            <category>æ•™ç¨‹</category>
            <pubDate>Sat, 15 Oct 2022 10:45:51 +0000</pubDate>
            <description><![CDATA[ &lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡ä¸ä¼šå¸¦ä½ å»é˜…è¯» &lt;code&gt;build&lt;/code&gt; åçš„æºç ï¼Œè€Œæ˜¯å‘Šè¯‰ä½ å®ƒæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼ŒåŸç†æ˜¯ä»€ä¹ˆï¼Œæ€ä¹ˆå®ç°ï¼Œå¦‚ä½•è‡ªå·±åŠ¨æ‰‹åšä¸€ä¸ªæŒ‰éœ€åŠ è½½æ¨¡å—ï¼Œå¦‚æœä¸æƒ³å¬æœ¬æ–‡ BBï¼Œå¯ç›´æ¥ä¸€æ­¥åˆ°é¡µè„šï¼Œè·å–å®Œæ•´ä»£ç  &lt;a href=&#34;#å®Œæ•´çš„æŒ‰éœ€åŠ è½½ä»£ç &#34;&gt;#å®Œæ•´çš„æŒ‰éœ€åŠ è½½ä»£ç &lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å‡†å¤‡&#34;&gt;&lt;a href=&#34;#å‡†å¤‡&#34; class=&#34;headerlink&#34; title=&#34;å‡†å¤‡&#34;&gt;&lt;/a&gt;å‡†å¤‡&lt;/h2&gt;&lt;p&gt;å¦‚æœä½ æƒ³é˜…è¯»æºç ï¼Œä½ å¯ä»¥æ ¹æ®ä¸‹é¢çš„ç»“æ„å»åˆ›å»ºï¼Œç„¶åè‡ªå·±æ‰“åŒ…é˜…è¯»æºç &lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// webpack.config.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; path = &lt;span class=&#34;built_in&#34;&gt;require&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;path&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; mode = &lt;span class=&#34;string&#34;&gt;&amp;#x27;production&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable language_&#34;&gt;module&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;exports&lt;/span&gt; = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  mode,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;entry&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;./src/index.js&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;output&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;path&lt;/span&gt;: path.&lt;span class=&#34;title function_&#34;&gt;join&lt;/span&gt;(__dirname, &lt;span class=&#34;string&#34;&gt;&amp;#x27;dist&amp;#x27;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;filename&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;main.js&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;chunkFilename&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;[name].js&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;libraryTarget&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;umd&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;optimization&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;minimize&lt;/span&gt;: &lt;span class=&#34;literal&#34;&gt;false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// src/test.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable language_&#34;&gt;module&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;exports&lt;/span&gt; = &lt;span class=&#34;string&#34;&gt;&amp;#x27;test&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// src/index.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å½“è°ƒç”¨ window çš„ init æ–¹æ³•æ—¶è§¦å‘åŠ è½½ test.js ï¼ŒåŠ è½½å®Œæˆåè¾“å‡ºç»“æœ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable language_&#34;&gt;window&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;init&lt;/span&gt; = &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; (&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;import&lt;/span&gt;(&lt;span class=&#34;comment&#34;&gt;/* webpackChunkName: &amp;quot;test&amp;quot; */&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;./test&amp;#x27;&lt;/span&gt;).&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;r&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(r)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;import-å¹²äº†ä»€ä¹ˆ&#34;&gt;&lt;a href=&#34;#import-å¹²äº†ä»€ä¹ˆ&#34; class=&#34;headerlink&#34; title=&#34;import() å¹²äº†ä»€ä¹ˆ&#34;&gt;&lt;/a&gt;import() å¹²äº†ä»€ä¹ˆ&lt;/h2&gt;&lt;p&gt;å…¶å® webpack å°±æ˜¯æŠŠ &lt;code&gt;import()&lt;/code&gt; åŠ¨æ€å¯¼å…¥çš„æ¨¡å—æ‰“åŒ…æˆäº†ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œå…¶ä¸­çš„ &lt;code&gt;webpackChunkName&lt;/code&gt; æ³¨é‡Šå°±æ˜¯å®šä¹‰æ‰“åŒ…åè¿™ä¸ªåŠ¨æ€æ¨¡å—çš„ js æ–‡ä»¶ï¼Œä¸Šæ–¹æŒ‡å®šå‘½åä¸º &lt;code&gt;test&lt;/code&gt;ï¼Œåˆ™æ‰“åŒ…ç»“æœä¸º &lt;code&gt;test.js&lt;/code&gt;,å¦‚æœæ²¡æœ‰å†™ &lt;code&gt;webpackChunkName&lt;/code&gt; é‚£ä¹ˆ webpack ä¼šè‡ªåŠ¨å®šä¹‰éšæœºçš„æ–‡ä»¶å(å½“ç„¶è¿™ä¸æ˜¯éšæœºçš„ï¼Œå®ƒæ˜¯æ ¹æ®æ–‡ä»¶ä¸­çš„å†…å®¹è¿›è¡Œ hash æ¨ç®—çš„ï¼Œåªè¦å†…å®¹æ²¡å˜ï¼Œä»–å°±ä¸€ç›´æ˜¯è¿™ä¸ªåå­—ï¼Œè¿™æ®µæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±å»é˜…è¯»æºç )&lt;/p&gt;
&lt;h2 id=&#34;å¦‚ä½•è·å–-url&#34;&gt;&lt;a href=&#34;#å¦‚ä½•è·å–-url&#34; class=&#34;headerlink&#34; title=&#34;å¦‚ä½•è·å– url&#34;&gt;&lt;/a&gt;å¦‚ä½•è·å– url&lt;/h2&gt;&lt;p&gt;æˆ‘åœ¨æ²¡çœ‹æ‰“åŒ…ç»“æœçš„æºç æ—¶ï¼Œæˆ‘æ˜¯è¿™æ ·æƒ³çš„ï¼Œæ—¢ç„¶è¦åŠ è½½ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯é€šè¿‡ &lt;code&gt;script&lt;/code&gt; æ ‡ç­¾&lt;br&gt;å› ä¸ºå¼•å…¥æ˜¯å¤šå˜çš„ï¼Œæ¯”å¦‚é€šè¿‡æœ¬åœ°å¼•å…¥ï¼Œæˆ–æ˜¯ cdn å¼•å…¥ï¼Œåˆæˆ–è€…æ˜¯å…¶å®ƒæ–¹å¼ï¼Œè€Œ webpack å®ƒæ˜¯æ— æ³•åˆ¤æ–­å¼•å…¥æ–¹å¼çš„ï¼Œé‚£ä¹ˆè¯¥å¦‚ä½•è·å– js æ–‡ä»¶çš„ url åœ°å€å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ‹¦æˆªè¯·æ±‚ï¼š&lt;br&gt;ä¸è¿‡ &lt;code&gt;script&lt;/code&gt; å‘å‡ºçš„è¯·æ±‚æ˜¯æµè§ˆå™¨å‘é€çš„ï¼Œå¹¶ä¸åƒ &lt;code&gt;xhr&lt;/code&gt; ä¸€æ ·å¯ä»¥åŒ…è£…ä¸€å±‚è¿›è¡Œ hook æ‹¦æˆª&lt;br&gt;äºæ˜¯æˆ‘åˆæƒ³åˆ°äº† &lt;code&gt;Service Workers&lt;/code&gt; çš„ &lt;code&gt;fetch&lt;/code&gt; äº‹ä»¶ï¼Œä¸è¿‡ webpack æ€ä¹ˆå¯èƒ½å¹²è¿™ç§äº‹ï¼Œè¿™å°±å±äºå…¥ä¾µå¼ä¿®æ”¹äº†ï¼Œä¸åˆç†&lt;/p&gt;
&lt;p&gt;æ€æ¥æƒ³å»ï¼Œæˆ‘å®åœ¨æ˜¯æƒ³ä¸åˆ°æœ‰å•¥åŠæ³•äº†ï¼Œäºæ˜¯æˆ‘å°±å»çœ‹äº†æºç ï¼Œä¸‡ä¸‡æ²¡æƒ³åˆ°å•Šï¼Œå±…ç„¶æ˜¯ç”¨ &lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/Document/currentScript&#34;&gt;document.currentScript&lt;/a&gt; å±æ€§ï¼Œæˆ‘å±…ç„¶æŠŠè¿™ç»™å¿˜äº†:(&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// è·å–å½“å‰ script æ ‡ç­¾çš„ src å±æ€§&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;currentScript&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;src&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;webpack æºç é‡Œè¿˜å†™äº†ä¸€ä¸ªè·å–å½“å‰ script æ ‡ç­¾çš„ä»£ç &lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// è·å–åˆ°æ‰€æœ‰çš„ script æ ‡ç­¾&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt; scripts = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;getElementsByTagName&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;script&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å¦‚æœæœ‰ï¼Œè¿™é€šè¿‡ä¸‹è¡¨è·å–&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (scripts.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt;) scriptUrl = scripts[scripts.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt; - &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;].&lt;span class=&#34;property&#34;&gt;src&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åŸç†æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿï¼Œå¤§å®¶éƒ½çŸ¥é“ï¼Œhtml æ˜¯ä»ä¸Šå¾€ä¸‹è§£æçš„ï¼Œå½“è§£æåˆ° script æ ‡ç­¾æ—¶ï¼Œæµè§ˆå™¨ä¼šé˜»å¡é¡µé¢æ¸²æŸ“ï¼Œç­‰å¾…ä¸‹è½½å®Œå½“å‰ js å¹¶æ‰§è¡Œå®Œæˆåæ‰ä¼šç»§ç»­å¾€ä¸‹è§£æï¼Œ(é™¤éä½ ç»™å½“å‰ script æ ‡ç­¾ä½¿ç”¨äº† &lt;code&gt;async&lt;/code&gt; æˆ– &lt;code&gt;defer&lt;/code&gt; å±æ€§ï¼Œè‡³äºè¿™ä¿©å±æ€§çš„ä½œç”¨ï¼Œå¯è‡ªè¡Œç½‘ä¸Šæœç´¢)è¿™æ—¶ä½¿ç”¨ &lt;code&gt;document.getElementsByTagName(&amp;#39;script&amp;#39;)&lt;/code&gt; è·å–é¡µé¢ä¸Šçš„ script æ ‡ç­¾åˆ™åªä¼šè·å–åˆ°å·²ç»è§£æçš„ script æ ‡ç­¾ï¼Œæ‰€ä»¥å½“å‰çš„ script æ ‡ç­¾å®ƒä¸€å®šæ˜¯æœ€åä¸€ä¸ª script æ ‡ç­¾ï¼Œå°±å¯ä»¥é€šè¿‡ &lt;code&gt;length - 1&lt;/code&gt; è·å–å•¦&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶å¾—åˆ°äº† urlï¼Œé‚£ä¹ˆå°±å¯ä»¥åŠ è½½ js äº†ï¼Œåªéœ€è¦æŠŠå½“å‰çš„ js æ–‡ä»¶åæ”¹æˆéœ€è¦åŠ è½½çš„ js æ–‡ä»¶åï¼Œä¹Ÿå°±æ˜¯å‰é¢æ‰€è¯´çš„ &lt;code&gt;webpackChunkName&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; scriptUrl&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;currentScript&lt;/span&gt;) scriptUrl = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;currentScript&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;src&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (!scriptUrl) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; scripts = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;getElementsByTagName&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;script&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (scripts.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt;) scriptUrl = scripts[scripts.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt; - &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;].&lt;span class=&#34;property&#34;&gt;src&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (!scriptUrl) &lt;span class=&#34;keyword&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Error&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;Automatic publicPath is not supported in this browser&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// ç»“æœä»¥ä¸‹å‡ ä¸ª replace() å³å¯å¾—åˆ° url&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;scriptUrl = scriptUrl&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  .&lt;span class=&#34;title function_&#34;&gt;replace&lt;/span&gt;(&lt;span class=&#34;regexp&#34;&gt;/#.*$/&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;) &lt;span class=&#34;comment&#34;&gt;// å»é™¤é”šç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  .&lt;span class=&#34;title function_&#34;&gt;replace&lt;/span&gt;(&lt;span class=&#34;regexp&#34;&gt;/\?.*$/&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;) &lt;span class=&#34;comment&#34;&gt;// å»é™¤å‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  .&lt;span class=&#34;title function_&#34;&gt;replace&lt;/span&gt;(&lt;span class=&#34;regexp&#34;&gt;/\/[^/]+$/&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;/&amp;#x27;&lt;/span&gt;) &lt;span class=&#34;comment&#34;&gt;// å»é™¤æ–‡ä»¶å&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;å¦‚ä½•åŠ è½½&#34;&gt;&lt;a href=&#34;#å¦‚ä½•åŠ è½½&#34; class=&#34;headerlink&#34; title=&#34;å¦‚ä½•åŠ è½½&#34;&gt;&lt;/a&gt;å¦‚ä½•åŠ è½½&lt;/h2&gt;&lt;p&gt;å› ä¸ºåœ¨ä¸Šä¸€æ­¥æˆ‘ä»¬å·²ç»å¾—åˆ° urlï¼Œæ­¤æ—¶åªéœ€è¦æ‹¼æ¥ä¸Š &lt;code&gt;webpackChunkName&lt;/code&gt; çš„æ–‡ä»¶åå°±å¯ä»¥åŠ è½½æŒ‡å®šçš„ js äº†&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆ&lt;code&gt;webpackChunkName&lt;/code&gt;æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿ&lt;br&gt;å¦‚æœä½ ç”¨çš„æ˜¯ webpackï¼Œé‚£ä¹ˆå®ƒå·²ç»å¸®ä½ åšå¥½äº†ï¼Œåä¹‹åˆ™å¾—è‡ªå·±å†™ï¼Œå…¶å®å¾ˆç®€å•&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œé‡Œé¢å†™å¥½åŠ¨æ€åŠ è½½çš„jsæ–‡ä»¶åå³å¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; map = &amp;#123; &lt;span class=&#34;attr&#34;&gt;admin&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;discuss.admin.js&amp;#x27;&lt;/span&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç„¶åé€šè¿‡ js åŠ¨æ€åˆ›å»º script æ ‡ç­¾åŠ è½½ js å³å¯ï¼Œæœ€ååŠ ä¸Šä¸€ä¸ª &lt;code&gt;onload&lt;/code&gt; äº‹ä»¶ï¼Œç­‰å¾…åŠ è½½æˆåŠŸåè‡ªè¡Œä»£ç å³å¯&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// chunk: js æ–‡ä»¶å&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// callback: å›è°ƒå‡½æ•°ï¼Œå½“jsåŠ è½½å®Œæˆåæ‰§è¡Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;loadScript&lt;/span&gt; = (&lt;span class=&#34;params&#34;&gt;chunk, callback&lt;/span&gt;) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; script = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;createElement&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;script&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  script.&lt;span class=&#34;property&#34;&gt;src&lt;/span&gt; = scriptUrl + map[chunk]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  script.&lt;span class=&#34;property&#34;&gt;onload&lt;/span&gt; = &lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// æ‰§è¡Œå®ŒæˆååŠæ—¶é‡Šæ”¾ï¼Œè®©ç³»ç»Ÿå›æ”¶å†…å­˜ï¼Œæ¯•ç«Ÿæˆ‘ä»¬åªéœ€è¦åŠ è½½ä¸€æ¬¡å³å¯&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    script.&lt;span class=&#34;property&#34;&gt;onload&lt;/span&gt; = &lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;title function_&#34;&gt;callback&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// åˆ æ‰åŠ¨æ€åŠ è½½çš„ script æ ‡ç­¾ dom å…ƒç´ (ä¸ä¼šå¯¹ç¨‹åºç…§æˆå½±å“)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    script.&lt;span class=&#34;property&#34;&gt;parentNode&lt;/span&gt; &amp;amp;&amp;amp; script.&lt;span class=&#34;property&#34;&gt;parentNode&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;removeChild&lt;/span&gt;(script)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;head&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;appendChild&lt;/span&gt;(script)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æœ€åè¿˜æœ‰ä¸€ä¸ªé—®é¢˜éœ€è¦è§£å†³ï¼Œé‚£å°±æ˜¯é¿å…åœ¨å¤šæ¬¡æ‰§è¡Œ&lt;code&gt;window.init()&lt;/code&gt;æ—¶è§¦å‘å¤šæ¬¡åŠ è½½ï¼Œå¯¼è‡´å¤šæ¬¡è¯·æ±‚ï¼Œç…§æˆä¸å¿…è¦çš„è¯·æ±‚ï¼Œä»¥åŠæµªè´¹æµé‡å¸¦å®½&lt;/p&gt;
&lt;p&gt;æ—¢ç„¶å·²ç»åŠ è½½ï¼Œé‚£ä¹ˆå°±ç•™ä¸ªæ ‡è®°ï¼Œè¡¨ç¤ºè¿™ä¸ª url å·²ç»åŠ è½½è¿‡äº†ï¼Œä¸‹è½½æ‰§è¡Œä¸è¦ä¸è¦ç»§ç»­åˆ›å»º script æ ‡ç­¾å³å¯&lt;/p&gt;
&lt;p&gt;å®šä¹‰ä¸€ä¸ªæ•°ç»„ç”¨æ¥å‚¨å­˜å·²ç»åŠ è½½è¿‡çš„åŠ¨æ€ jsï¼Œ&lt;code&gt;const chunks = []&lt;/code&gt; åœ¨åŠ¨æ€åˆ›å»º script æ ‡ç­¾ä¹‹å‰å°†æ–‡ä»¶å&lt;code&gt;push()&lt;/code&gt;è¿›å»æ•°ç»„é‡Œå³å¯&lt;/p&gt;
&lt;h2 id=&#34;å®Œæ•´çš„æŒ‰éœ€åŠ è½½ä»£ç &#34;&gt;&lt;a href=&#34;#å®Œæ•´çš„æŒ‰éœ€åŠ è½½ä»£ç &#34; class=&#34;headerlink&#34; title=&#34;å®Œæ•´çš„æŒ‰éœ€åŠ è½½ä»£ç &#34;&gt;&lt;/a&gt;å®Œæ•´çš„æŒ‰éœ€åŠ è½½ä»£ç &lt;/h2&gt;&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// source: https://github.com/discussjs/discuss/blob/dc345810e6696f1282fca65df039b2186b1f34d1/src/client/lib/import.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; scriptUrl&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;currentScript&lt;/span&gt;) scriptUrl = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;currentScript&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;src&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (!scriptUrl) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; scripts = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;getElementsByTagName&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;script&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (scripts.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt;) scriptUrl = scripts[scripts.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt; - &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;].&lt;span class=&#34;property&#34;&gt;src&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (!scriptUrl) &lt;span class=&#34;keyword&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Error&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;Automatic publicPath is not supported in this browser&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;scriptUrl = scriptUrl&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  .&lt;span class=&#34;title function_&#34;&gt;replace&lt;/span&gt;(&lt;span class=&#34;regexp&#34;&gt;/#.*$/&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;) &lt;span class=&#34;comment&#34;&gt;// å»é™¤é”šç‚¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  .&lt;span class=&#34;title function_&#34;&gt;replace&lt;/span&gt;(&lt;span class=&#34;regexp&#34;&gt;/\?.*$/&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;) &lt;span class=&#34;comment&#34;&gt;// å»é™¤å‚æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  .&lt;span class=&#34;title function_&#34;&gt;replace&lt;/span&gt;(&lt;span class=&#34;regexp&#34;&gt;/\/[^/]+$/&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;/&amp;#x27;&lt;/span&gt;) &lt;span class=&#34;comment&#34;&gt;// å»é™¤æ–‡ä»¶å&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// æœªæ¥é¿å…äºå…¶å®ƒjsäº§ç”Ÿå…¨å±€å˜é‡å†²çªï¼Œä½ å¯ä»¥å®šä¹‰ä¸ºä¸€ä¸ªå…¶å®ƒæ¯”è¾ƒå¤æ‚çš„å˜é‡å&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable language_&#34;&gt;window&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;chunks&lt;/span&gt; = []&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; map = &amp;#123; &lt;span class=&#34;attr&#34;&gt;admin&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;discuss.admin.js&amp;#x27;&lt;/span&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;loadScript&lt;/span&gt; = (&lt;span class=&#34;params&#34;&gt;chunk, callback&lt;/span&gt;) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// å¦‚æœå­˜åœ¨ï¼Œåˆ™ç›´æ¥æ‰§è¡Œå›è°ƒ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;variable language_&#34;&gt;window&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;chunks&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;includes&lt;/span&gt;(chunk)) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;callback&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// å¦‚æœä¸Šæ–¹åˆ¤æ–­æ²¡æœ‰æˆç«‹ï¼Œåˆ™pushåˆ°æ•°ç»„é‡Œï¼Œä¸‹æ¬¡æ‰§è¡Œå°±ä¼šç«‹å³æ‰§è¡Œå›è°ƒä¸å¿…å†å‘ä¸‹æ‰§è¡Œä»£ç &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;window&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;chunks&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;push&lt;/span&gt;(chunk)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; script = &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;createElement&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;script&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  script.&lt;span class=&#34;property&#34;&gt;src&lt;/span&gt; = scriptUrl + map[chunk]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  script.&lt;span class=&#34;property&#34;&gt;onload&lt;/span&gt; = &lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    script.&lt;span class=&#34;property&#34;&gt;onload&lt;/span&gt; = &lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;title function_&#34;&gt;callback&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    script.&lt;span class=&#34;property&#34;&gt;parentNode&lt;/span&gt; &amp;amp;&amp;amp; script.&lt;span class=&#34;property&#34;&gt;parentNode&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;removeChild&lt;/span&gt;(script)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;head&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;appendChild&lt;/span&gt;(script)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;default&lt;/span&gt; loadScript&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/CardLink.html</guid>
            <title>ä½¿ç”¨ CardLink åº“ç”Ÿäº§å¡ç‰‡å¼é“¾æ¥</title>
            <link>https://blog.imlete.cn/article/CardLink.html</link>
            <category>JavaScript</category>
            <pubDate>Mon, 11 Jul 2022 09:52:21 +0000</pubDate>
            <description><![CDATA[ &lt;script async src=&#34;/js/cardlink.js&#34; &gt;&lt;/script&gt;

&lt;p&gt;æœ‰æ—¶å€™ç»å¸¸çœ‹åˆ°çŸ¥ä¹çš„æ–‡ç« ï¼Œæˆ–è€…é—®é¢˜ä¸­çš„é“¾æ¥æ˜¯å¡ç‰‡å¼çš„&lt;/p&gt;
&lt;p&gt;å°†å¡ç‰‡å¼é“¾æ¥ä¸æ™®é€šçš„é“¾æ¥ç›¸æ¯”ï¼Œå¡ç‰‡å¼é“¾æ¥ä¸ä»…ç¾è§‚ï¼Œè¿˜å±•ç¤ºæ›´å¤šä¿¡æ¯ï¼Œå¦‚ï¼šæ ‡é¢˜ã€å›¾ç‰‡ã€ç½‘å€ç­‰&lt;/p&gt;
&lt;p&gt;æ•ˆæœå¦‚ä¸‹ &lt;a href=&#34;https://github.com/Lete114/CardLink&#34;&gt;CardLink&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;CardLink&#34;&gt;&lt;a href=&#34;#CardLink&#34; class=&#34;headerlink&#34; title=&#34;CardLink&#34;&gt;&lt;/a&gt;CardLink&lt;/h2&gt;&lt;p&gt;ä¸€äº›ä½¿ç”¨æ–¹æ³•è¯·è§ &lt;a href=&#34;https://github.com/Lete114/CardLink&#34;&gt;https://github.com/Lete114/CardLink&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡ CDN çš„æ–¹å¼å¼•å…¥ CardLink&lt;/p&gt;
&lt;figure class=&#34;highlight html&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;&amp;lt;!-- å»ºè®®æ”¾åœ¨headæ ‡ç­¾é‡Œ --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;src&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;https://cdn.jsdelivr.net/npm/cardlink&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;&amp;lt;!-- å»ºè®®æ”¾åœ¨ &amp;lt;/body&amp;gt; ä¹‹å‰ --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä¸º&amp;lt;article&amp;gt;&amp;lt;/article&amp;gt;(æ–‡ç« )æ ‡ç­¾ä¸‹æ‰€æœ‰æ‰“å¼€æ–°æ ‡ç­¾çª—å£çš„aæ ‡ç­¾ç”Ÿæˆå¡ç‰‡é“¾æ¥&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;cardLink&lt;/span&gt;(&lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;querySelectorAll&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;article a[target=_blank]&amp;#x27;&lt;/span&gt;))&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å½“ä½ æƒ³è®©ç‰¹å®šçš„é“¾æ¥å˜æˆå¡ç‰‡å¼é“¾æ¥æ—¶ä½ å¯ä»¥ä¸ºå®ƒæ·»åŠ ä¸Š &lt;code&gt;cardlink&lt;/code&gt; å±æ€§&lt;/p&gt;
&lt;figure class=&#34;highlight html&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;&amp;lt;!-- å»ºè®®æ”¾åœ¨ &amp;lt;/body&amp;gt; ä¹‹å‰ --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// CardLink é»˜è®¤ä¼šå¯¹é¡µé¢ä¸Šæ‰€æœ‰a[cardlink]ç”Ÿæˆå¡ç‰‡é“¾æ¥&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;cardLink&lt;/span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æˆ–è€…å¦‚æœä½ ä½¿ç”¨ &lt;code&gt;markdown&lt;/code&gt; å†™å†…å®¹çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥åœ¨å†…å®¹ä¸­å†™ &lt;code&gt;HTML&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight markdown&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;section&#34;&gt;## æ ‡é¢˜ 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;å…¶å®ƒå†…å®¹...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;æ­£å¸¸ markdown è¯­æ³•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[&lt;span class=&#34;string&#34;&gt;https://Lete114.github.io/CardLink&lt;/span&gt;](&lt;span class=&#34;link&#34;&gt;https://Lete114.github.io/CardLink&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;html è¯­æ³•&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-xml&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;href&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;https://Lete114.github.io/CardLink/&amp;quot;&lt;/span&gt; &lt;span class=&#34;attr&#34;&gt;target&lt;/span&gt;=&lt;span class=&#34;string&#34;&gt;&amp;quot;_blank&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;language-xml&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;a&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;section&#34;&gt;## æ ‡é¢˜ 2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;å…¶å®ƒå†…å®¹...&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight html&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;&amp;lt;!-- å»ºè®®æ”¾åœ¨ &amp;lt;/body&amp;gt; ä¹‹å‰ --&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// CardLink é»˜è®¤ä¼šå¯¹é¡µé¢ä¸Šæ‰€æœ‰a[cardlink]ç”Ÿæˆå¡ç‰‡é“¾æ¥&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;cardLink&lt;/span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;è·¨åŸŸè¯·æ±‚&#34;&gt;&lt;a href=&#34;#è·¨åŸŸè¯·æ±‚&#34; class=&#34;headerlink&#34; title=&#34;è·¨åŸŸè¯·æ±‚&#34;&gt;&lt;/a&gt;è·¨åŸŸè¯·æ±‚&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;æ­å»ºä»£ç†æœåŠ¡å™¨ï¼Œå°†ç›®æ ‡é“¾æ¥ä¼ ç»™ä»£ç†æœåŠ¡å™¨ï¼Œè®©ä»£ç†æœåŠ¡å™¨å»è¯·æ±‚ HTML æ–‡æœ¬å¹¶è¿”å›&lt;br&gt;&lt;a href=&#34;https://github.com/Lete114/CardLink/tree/server&#34;&gt;CardLink-Server&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨åœ¨çº¿å…è´¹çš„è·¨åŸŸä»£ç†&lt;br&gt;(å‰è€…æ˜¯åšä¸»è‡ªå·±æ­å»ºçš„è·¨åŸŸè¯·æ±‚æœåŠ¡ï¼Œåè€…æ˜¯ç½‘ä¸Šæ‰¾çš„å…è´¹è·¨åŸŸè¯·æ±‚æœåŠ¡)&lt;br&gt;&lt;code&gt;https://api.allorigins.win/raw?url=&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/build-ts-doc.html</guid>
            <title>å¦‚ä½•ä¸ºè‡ªå·±çš„jsé¡¹ç›®ç”ŸæˆAPIæ–‡æ¡£</title>
            <link>https://blog.imlete.cn/article/build-ts-doc.html</link>
            <category>JavaScript</category>
            <category>TypeScript</category>
            <pubDate>Mon, 06 Jun 2022 15:52:50 +0000</pubDate>
            <description><![CDATA[ &lt;p&gt;å¦‚é¢˜ï¼Œå½“è‡ªå·±å†™å®Œäº†ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œå‡†å¤‡å‘å¸ƒæ—¶ï¼Œæ€»ä¸èƒ½ç›´æ¥æŠŠä¸€äº›ä½¿ç”¨æ–¹æ³•ä»¥åŠä¼ å‚è¯´æ˜å†™åœ¨&lt;code&gt;README.md&lt;/code&gt;é‡Œå§&lt;/p&gt;
&lt;p&gt;çœ‹åˆ°è®¸å¤šç¬¬ä¸‰æ–¹åº“éƒ½æœ‰ä¸€ä¸ª&lt;code&gt;.d.ts&lt;/code&gt;æ–‡ä»¶ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨è¿™äº›ç¬¬ä¸‰æ–¹åº“æ—¶ï¼Œåœ¨æ–¹æ³•ä¸Šå®‰è£…&lt;code&gt;ctrl+é¼ æ ‡å·¦é”®&lt;/code&gt;æ—¶å°±ä¼šè·³è½¬åˆ°å¯¹åº”&lt;code&gt;.d.ts&lt;/code&gt;è¯´æ˜æ–‡æ¡£ä¸­&lt;/p&gt;
&lt;p&gt;é‚£ä¹ˆè¿™ä¸ªæ˜¯å’±ä»¬åšçš„å‘¢ï¼Ÿéš¾é“æ˜¯æ‰‹åŠ¨åˆ›å»ºå¹¶ç¼–å†™çš„å—ï¼Ÿä¸æ˜¯å§ï¼Ÿå¦‚æœæ˜¯æ‰‹åŠ¨åˆ›å»ºçš„è¯ï¼Œå“ªäº›å¤§å‹é¡¹ç›®é‚£ä¹ˆå¤šæ–¹æ³•å’Œæ–‡ä»¶æ¨¡å—ï¼Œå¹¶ä¸”è¿˜æ˜¯å¤šäººåä½œå¼€å‘ï¼Œä¸å¯èƒ½åŒæ­¥å¦‚æ­¤åºå¤§çš„&lt;code&gt;.d.ts&lt;/code&gt;æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯ä½¿ç”¨&lt;code&gt;TypeScript&lt;/code&gt;ç”Ÿæˆçš„ï¼Œä¸æ˜¯å§ï¼Ÿé‚£æˆ‘ç”¨çš„ä¸æ˜¯&lt;code&gt;TypeScript&lt;/code&gt;å†™çš„åº“ä¸å°±ä¸èƒ½ç”Ÿæˆäº†ï¼Ÿ&lt;/p&gt;
&lt;p&gt;éä¹Ÿéä¹Ÿï¼Œå³ä½¿ä¸æ˜¯ç”¨&lt;code&gt;TypeScript&lt;/code&gt;å†™çš„é¡¹ç›®ä¹Ÿèƒ½ç”Ÿæˆ&lt;code&gt;.d.ts&lt;/code&gt;æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;åªè¦ä½ å†™çš„æ—¶å€™åœ¨æ–¹æ³•ä¸Šæ·»åŠ æ³¨é‡Šå³å¯ï¼Œæ³¨é‡Šå…³é”®å­—å¿…é¡»éµå¾ª&lt;a href=&#34;https://jsdoc.app/&#34;&gt;JSDoc&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;JSDoc ä¸­æœ‰å¾ˆå¤šå…³é”®å­—ï¼Œè¿™äº›å…³é”®å­—æƒ³å¿…ä½ å¤šå¤šå°‘å°‘ä¼šåœ¨å…¶å®ƒç¬¬ä¸‰æ–¹åº“çš„&lt;code&gt;.d.ts&lt;/code&gt;æ–‡ä»¶ä¸­è§è¿‡ï¼Œå¦‚: &lt;code&gt;@param&lt;/code&gt; &lt;code&gt;@returns&lt;/code&gt; &lt;code&gt;@author&lt;/code&gt;ç­‰ï¼Œæ›´å¤šå…·ä½“çš„è¯·è‡ªè¡Œåœ¨&lt;a href=&#34;https://jsdoc.app/&#34;&gt;JSDoc&lt;/a&gt;ä¸­æŸ¥çœ‹&lt;/p&gt;
&lt;p&gt;è¯´äº†é‚£ä¹ˆå¤šï¼Œé‚£ä¹ˆåˆ°åº•å¦‚ä½•ç”Ÿæˆ&lt;code&gt;.d.ts&lt;/code&gt;æ–‡æ¡£å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;ä¸¾ä¾‹æˆ‘ç›®å‰æœ‰ä¸€ä¸ª&lt;code&gt;/src/main.js&lt;/code&gt;ï¼Œå…¶ä¸­ä»£ç å¦‚ä¸‹&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * ä»£ç æ¥æºäº: https://github.com/Lete114/CardLink/blob/f4ab08b78625244d9515743e41c7e04f839e149f/src/main.js#L12&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * Determine if it is a [&amp;#x27;https://&amp;#x27;, &amp;#x27;http://&amp;#x27;, &amp;#x27;//&amp;#x27;] protocol&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * &lt;span class=&#34;doctag&#34;&gt;@param&lt;/span&gt; &amp;#123;&lt;span class=&#34;type&#34;&gt;String&lt;/span&gt;&amp;#125; url Website url&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * &lt;span class=&#34;doctag&#34;&gt;@returns&lt;/span&gt; &amp;#123;&lt;span class=&#34;type&#34;&gt;Boolean&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;isHttp&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;url&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;regexp&#34;&gt;/^(https?:)?\/\//g&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;test&lt;/span&gt;(url)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;åªéœ€ä¸€è¡Œå‘½ä»¤å³å¯ï¼Œä½¿ç”¨ npx ä¸´æ—¶å®‰è£…&lt;code&gt;typescript&lt;/code&gt;ï¼Œå¹¶è°ƒç”¨&lt;code&gt;typescript&lt;/code&gt;çš„å‘½ä»¤ç”Ÿæˆ&lt;code&gt;.d.ts&lt;/code&gt;æ–‡æ¡£&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„å…¶ä¸­&lt;code&gt;-p&lt;/code&gt;æ˜¯ npx çš„å‘½ä»¤ï¼ŒåŸå&lt;code&gt;--package&lt;/code&gt;ï¼Œå…·ä½“è¯·çœ‹å®˜ç½‘&lt;a href=&#34;https://docs.npmjs.com/cli/v8/commands/npx&#34;&gt;https://docs.npmjs.com/cli/v8/commands/npx&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;src/**/*.js&lt;/code&gt;: å¯¹ src ç›®å½•ä¸‹çš„æ‰€æœ‰ js æ–‡ä»¶ç”Ÿæˆ&lt;code&gt;.d.ts&lt;/code&gt;æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--declaration&lt;/code&gt;: ç”Ÿæˆç›¸åº”çš„&lt;code&gt;.d.ts&lt;/code&gt;æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--allowJs&lt;/code&gt;: å…è®¸ç¼–è¯‘ javascript æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--emitDeclarationOnly&lt;/code&gt;: åªè¾“å‡º &lt;code&gt;.d.ts&lt;/code&gt; æ–‡ä»¶ï¼Œä¸è¾“å‡º JavaScript æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;&lt;code&gt;--outDir&lt;/code&gt;: è¾“å‡ºåˆ°æŒ‡å®šçš„ç›®å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;npx -p typescript tsc src/**.js --declaration --allowJs --emitDeclarationOnly --outDir types&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;æ‰§è¡Œå¦‚ä¸Šå‘½ä»¤åå°±ä¼šå…ˆä¸‹è½½&lt;code&gt;typescript&lt;/code&gt;ï¼Œç„¶åæ‰§è¡Œ tsc å‘½ä»¤ï¼Œæ„å»ºç”Ÿæˆ&lt;code&gt;.d.ts&lt;/code&gt; æ–‡ä»¶åˆ°&lt;code&gt;types/main.d.ts&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight ts&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * ä»£ç æ¥æºäº: https://github.com/Lete114/CardLink/blob/f4ab08b78625244d9515743e41c7e04f839e149f/src/main.js#L12&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * Determine if it is a [&amp;#x27;https://&amp;#x27;, &amp;#x27;http://&amp;#x27;, &amp;#x27;//&amp;#x27;] protocol&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * &lt;span class=&#34;doctag&#34;&gt;@param&lt;/span&gt; &amp;#123;&lt;span class=&#34;type&#34;&gt;String&lt;/span&gt;&amp;#125; url Website url&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * &lt;span class=&#34;doctag&#34;&gt;@returns&lt;/span&gt; &amp;#123;&lt;span class=&#34;type&#34;&gt;Boolean&lt;/span&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;isHttp&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;url: &lt;span class=&#34;built_in&#34;&gt;string&lt;/span&gt;&lt;/span&gt;): &lt;span class=&#34;built_in&#34;&gt;boolean&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/Static-resource-cache-control.html</guid>
            <title>å‰ç«¯ä¼˜åŒ–ä¹‹é™æ€èµ„æºç¼“å­˜æ§åˆ¶</title>
            <link>https://blog.imlete.cn/article/Static-resource-cache-control.html</link>
            <category>CSS</category>
            <category>JavaScript</category>
            <category>HTML</category>
            <category>Cache</category>
            <pubDate>Thu, 12 May 2022 11:51:45 +0000</pubDate>
            <description><![CDATA[ &lt;blockquote&gt;
&lt;p&gt;æœ¬æ–‡è½¬è‡ª&lt;a href=&#34;https://www.zhihu.com/question/20790576/answer/32602154&#34;&gt;@å¼ äº‘é¾™&lt;/a&gt;ï¼Œäº 2014 å¹´ 10 æœˆåœ¨çŸ¥ä¹ä¸Šçš„ä¸€ä¸ªé—®é¢˜å›ç­”ï¼Œåšä¸»è§‰å¾—è¿™ä½å¤§ä½¬å†™çš„å¾ˆå¥½ï¼Œä¹Ÿå¾ˆè¯¦ç»†ï¼Œäºæ˜¯å°±æŠŠå†…å®¹æ¬åˆ°äº†è‡ªå·±çš„åšå®¢ä¸Šï¼Œä¾¿äºä»¥åè‡ªå·±æŸ¥é˜…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;å¤ªé•¿ä¸æƒ³çœ‹&#34;&gt;&lt;a href=&#34;#å¤ªé•¿ä¸æƒ³çœ‹&#34; class=&#34;headerlink&#34; title=&#34;å¤ªé•¿ä¸æƒ³çœ‹&#34;&gt;&lt;/a&gt;å¤ªé•¿ä¸æƒ³çœ‹&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜å¦‚ä½•ï¼Œå¦‚ä½•è®©ç”¨æˆ·èƒ½å¤ŸåŠæ—¶ä½¿ç”¨æœ€æ–°ä¿®æ”¹åçš„é™æ€èµ„æºï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¿®æ”¹èµ„æºæ–‡ä»¶å&lt;code&gt;index-v1.css&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹èµ„æºæ–‡ä»¶åï¼Œå¹¶ä¸”å¯¹æ–‡ä»¶å†…å®¹ç”Ÿæˆ hash å€¼(å†…å®¹æ”¹å˜ï¼Œåˆ™ hash æ”¹å˜åä¹‹ä¸æ”¹å˜)(&lt;code&gt;index.v1tg6l.css&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;ä¸ºèµ„æºæ·»åŠ è¯·æ±‚å‚æ•°(è¯¥å‚æ•°æ²¡æœ‰ä»»ä½•ä½œç”¨ï¼Œåªæ˜¯ä¸ºäº†ä¿®æ”¹ url åœ°å€)ä¸ç¬¬äºŒæ¡ä¸€æ ·ç”Ÿæˆ hash(&lt;code&gt;index.css?v=qb6l0p&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;æ€»ç»“: åªè¦ä¿®æ”¹äº†èµ„æºè¯·æ±‚çš„ url åœ°å€ï¼Œé‚£ä¹ˆå°±ä¼šè·å–æœ€æ–°ä¿®æ”¹çš„é™æ€èµ„æºï¼Œä»è€Œä¸»åŠ¨å¼ƒç”¨æ—§é™æ€èµ„æº&lt;br&gt;å¾ˆå¤šå¤§ç½‘ç«™éƒ½ä¼šä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œä¾‹å¦‚ baiduï¼Œtaobao&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯-HTTP-ç¼“å­˜&#34;&gt;&lt;a href=&#34;#ä»€ä¹ˆæ˜¯-HTTP-ç¼“å­˜&#34; class=&#34;headerlink&#34; title=&#34;ä»€ä¹ˆæ˜¯ HTTP ç¼“å­˜&#34;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ HTTP ç¼“å­˜&lt;/h2&gt;&lt;p&gt;HTTP ç¼“å­˜åˆ†ä¸ºä¸¤ç§(æœ¬æ–‡ä¸ä¼šæ·±ç©¶å“åº”å¤´çš„ä¼—å¤šå‚æ•°)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼ºåˆ¶ç¼“å­˜: (çŠ¶æ€ç å§‹ç»ˆ 200)åœ¨è§„å®šæ—¶é—´å†…ï¼Œä¸ç”¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜(è¶…è¿‡è§„å®šæ—¶é—´åæ‰ä¼šé‡æ–°å‘æœåŠ¡å™¨å‘é€è¯·æ±‚è·å–èµ„æº)&lt;/li&gt;
&lt;li&gt;åå•†ç¼“å­˜: (çŠ¶æ€ç è¿‡æœŸ 200ï¼Œæœªè¿‡æœŸ 304)æ¯æ¬¡éƒ½ä¼šå‘æœåŠ¡å™¨ç¡®è®¤ï¼Œè¿™ä¸ªæœ¬åœ°èµ„æºæœ‰æ²¡æœ‰è¿‡æœŸï¼Œè¿‡æœŸ: æœåŠ¡å™¨è¿”å›æ–°èµ„æºã€‚æœªè¿‡æœŸ: è®©æµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ­£æ–‡&#34;&gt;&lt;a href=&#34;#æ­£æ–‡&#34; class=&#34;headerlink&#34; title=&#34;æ­£æ–‡&#34;&gt;&lt;/a&gt;æ­£æ–‡&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨å¼ºåˆ¶ç¼“å­˜å¦‚ä½•ï¼Œå¦‚ä½•è®©ç”¨æˆ·èƒ½å¤ŸåŠæ—¶ä½¿ç”¨æœ€æ–°ä¿®æ”¹åçš„é™æ€èµ„æºï¼Ÿ&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ™®é€šç½‘ç«™çš„ç»“æ„&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/1.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;è®¿é—®è¿™ä¸ªç½‘ç«™ï¼Œå¯ä»¥çœ‹åˆ°ç½‘ç»œè¯·æ±‚çŠ¶æ€ï¼Œå“åº”çŠ¶æ€ 200ï¼Œè¿™æ˜¯åœ¨æ­£å¸¸ä¸è¿‡çš„äº‹äº†&lt;br&gt;é‚£å°±çœ‹çœ‹&lt;code&gt;a.css&lt;/code&gt;çš„è¯·æ±‚å§ï¼Œå¦‚æœæ¯æ¬¡ç”¨æˆ·è®¿é—®é¡µé¢éƒ½è¦åŠ è½½ï¼Œæ˜¯ä¸æ˜¯å¾ˆå½±å“æ€§èƒ½ï¼Œå¾ˆæµªè´¹å¸¦å®½å•Š&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/2.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¸Œæœ›æœ€å¥½è¿™æ ·,åˆ©ç”¨ 304ï¼Œè®©æµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜ã€‚ä½†ï¼Œè¿™æ ·å°±å¤Ÿäº†å—ï¼Ÿä¸æˆï¼&lt;strong&gt;304 å«åå•†ç¼“å­˜&lt;/strong&gt;ï¼Œè¿™ç©æ„å„¿è¿˜æ˜¯éœ€è¦å‘æµè§ˆå™¨å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œé—®é—®æœåŠ¡å™¨è¿™ä¸ªèµ„æºæœ‰æ²¡æœ‰æ›´æ–°&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ›´æ–°: è¿”å›æ–°èµ„æº&lt;br&gt;æ²¡æ›´æ–°: å‘Šè¯‰æµè§ˆå™¨ä½¿ç”¨æœ¬åœ°ç¼“å­˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;/img/Static-resource-cache-control/3.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;strong&gt;å¼ºåˆ¶ç¼“å­˜ï¼ˆcache-control/expiresï¼‰&lt;/strong&gt;è®©æµè§ˆå™¨ä¸è¦å‘æœåŠ¡å™¨å‘é€è¯·æ±‚äº†&lt;br&gt;æ‰€ä»¥å¿…é¡»å½»åº•ç­æ‰è¿™ä¸ªè¯·æ±‚ï¼Œå˜æˆè¿™æ ·&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/4.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;é‚£é—®é¢˜æ¥äº†ï¼šè¿™éƒ½ä¸è®©æµè§ˆå™¨å‘èµ„æºè¯·æ±‚äº†ï¼Œè¿™ç¼“å­˜å’‹æ›´æ–°ï¼Ÿ&lt;br&gt;å¯ä»¥é€šè¿‡æ›´æ–°é¡µé¢ä¸­å¼•ç”¨çš„èµ„æºè·¯å¾„ï¼Œè®©æµè§ˆå™¨ä¸»åŠ¨æ”¾å¼ƒç¼“å­˜ï¼ŒåŠ è½½æ–°èµ„æº&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/5.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹æ¬¡ä¸Šçº¿èµ„æºçš„æ—¶å€™ï¼ŒæŠŠé“¾æ¥åœ°å€æ”¹æˆæ–°çš„ç‰ˆæœ¬ï¼Œè¿™å°±èƒ½æ›´æ–°èµ„æºäº†&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/6.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;é¡µé¢å¼•ç”¨äº† 3 ä¸ª cssï¼Œè€ŒæŸæ¬¡ä¸Šçº¿åªæ”¹äº†å…¶ä¸­çš„ a.cssï¼Œå¦‚æœæ‰€æœ‰é“¾æ¥éƒ½æ›´æ–°ç‰ˆæœ¬(å½“ç„¶ä½ å¦‚æœåªæ”¹ a çš„é“¾æ¥åœ°å€å°±å¯ä»¥äº†ï¼Œä¸è¿‡æˆ‘ä»¬è¿˜æ˜¯è¦ç»§ç»­è®¨è®ºåç»­é—®é¢˜)ï¼Œå°±ä¼šå¯¼è‡´ b.cssï¼Œc.css çš„ç¼“å­˜ä¹Ÿå¤±æ•ˆï¼Œé‚£å²‚ä¸æ˜¯åˆæœ‰æµªè´¹äº†ï¼Ÿï¼&lt;br&gt;è¦è§£å†³è¿™ç§é—®é¢˜ï¼Œå¿…é¡»è®© url çš„ä¿®æ”¹ä¸æ–‡ä»¶å†…å®¹å…³è”ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåªæœ‰æ–‡ä»¶å†…å®¹å˜åŒ–ï¼Œæ‰ä¼šå¯¼è‡´ç›¸åº” url çš„å˜æ›´ï¼Œä»è€Œå®ç°æ–‡ä»¶çº§åˆ«çš„ç²¾ç¡®ç¼“å­˜æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä½¿ç”¨&lt;strong&gt;æ•°æ®æ‘˜è¦ç®—æ³•&lt;/strong&gt;ï¼Œæ‘˜è¦ä¿¡æ¯ä¸æ–‡ä»¶å†…å®¹ä¸€ä¸€å¯¹åº”ï¼Œå°±æœ‰äº†ä¸€ç§å¯ä»¥ç²¾ç¡®åˆ°å•ä¸ªæ–‡ä»¶ç²’åº¦çš„ç¼“å­˜æ§åˆ¶ä¾æ®äº†&lt;/p&gt;
&lt;p&gt;è¿™å›å†æœ‰æ–‡ä»¶ä¿®æ”¹ï¼Œå°±åªæ›´æ–°é‚£ä¸ªæ–‡ä»¶å¯¹åº”çš„ url äº†ï¼Œæƒ³åˆ°è¿™é‡Œè²Œä¼¼å¾ˆå®Œç¾äº†&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/7.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ç°ä»£äº’è”ç½‘ä¼ä¸šï¼Œä¸ºäº†è¿›ä¸€æ­¥æå‡ç½‘ç«™æ€§èƒ½ï¼Œä¼šæŠŠé™æ€èµ„æºå’ŒåŠ¨æ€ç½‘é¡µåˆ†é›†ç¾¤éƒ¨ç½²ï¼Œé™æ€èµ„æºä¼šè¢«éƒ¨ç½²åˆ° CDN èŠ‚ç‚¹ä¸Šï¼Œç½‘é¡µä¸­å¼•ç”¨çš„èµ„æºä¹Ÿä¼šå˜æˆå¯¹åº”çš„éƒ¨ç½²è·¯å¾„&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/8.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å¥½äº†ï¼Œå½“æˆ‘è¦æ›´æ–°é™æ€èµ„æºçš„æ—¶å€™ï¼ŒåŒæ—¶ä¹Ÿä¼šæ›´æ–° html ä¸­çš„å¼•ç”¨å§ï¼Œå°±å¥½åƒè¿™æ ·&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/9.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™ä¼šäº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œå¦‚ä½•ä¿è¯é¡µé¢ä¸èµ„æºä¿æŒä¸€è‡´å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å…ˆéƒ¨ç½²é¡µé¢ï¼Œå†éƒ¨ç½²èµ„æº&lt;ul&gt;
&lt;li&gt;åœ¨äºŒè€…éƒ¨ç½²çš„æ—¶é—´é—´éš”å†…ï¼Œå¦‚æœæœ‰ç”¨æˆ·è®¿é—®é¡µé¢ï¼Œå°±ä¼šåœ¨æ–°çš„é¡µé¢ç»“æ„ä¸­åŠ è½½æ—§çš„èµ„æºï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªæ—§ç‰ˆæœ¬çš„èµ„æºå½“åšæ–°ç‰ˆæœ¬ç¼“å­˜èµ·æ¥ï¼Œå…¶ç»“æœå°±æ˜¯ï¼šç”¨æˆ·è®¿é—®åˆ°äº†ä¸€ä¸ªæ ·å¼é”™ä¹±çš„é¡µé¢ï¼Œé™¤éæ‰‹åŠ¨åˆ·æ–°ï¼Œå¦åˆ™åœ¨èµ„æºç¼“å­˜è¿‡æœŸä¹‹å‰ï¼Œé¡µé¢ä¼šä¸€ç›´æ‰§è¡Œé”™è¯¯ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å…ˆéƒ¨ç½²èµ„æºï¼Œå†éƒ¨ç½²é¡µé¢&lt;ul&gt;
&lt;li&gt;åœ¨éƒ¨ç½²æ—¶é—´é—´éš”ä¹‹å†…ï¼Œæœ‰æ—§ç‰ˆæœ¬èµ„æºæœ¬åœ°ç¼“å­˜çš„ç”¨æˆ·è®¿é—®ç½‘ç«™ï¼Œç”±äºè¯·æ±‚çš„é¡µé¢æ˜¯æ—§ç‰ˆæœ¬çš„ï¼Œèµ„æºå¼•ç”¨æ²¡æœ‰æ”¹å˜ï¼Œæµè§ˆå™¨å°†ç›´æ¥ä½¿ç”¨æœ¬åœ°ç¼“å­˜ï¼Œè¿™ç§æƒ…å†µä¸‹é¡µé¢å±•ç°æ­£å¸¸ï¼›ä½†æ²¡æœ‰æœ¬åœ°ç¼“å­˜æˆ–è€…ç¼“å­˜è¿‡æœŸçš„ç”¨æˆ·è®¿é—®ç½‘ç«™ï¼Œå°±ä¼šå‡ºç°æ—§ç‰ˆæœ¬é¡µé¢åŠ è½½æ–°ç‰ˆæœ¬èµ„æºçš„æƒ…å†µï¼Œå¯¼è‡´é¡µé¢æ‰§è¡Œé”™è¯¯ï¼Œä½†å½“é¡µé¢å®Œæˆéƒ¨ç½²ï¼Œè¿™éƒ¨åˆ†ç”¨æˆ·å†æ¬¡è®¿é—®é¡µé¢åˆä¼šæ¢å¤æ­£å¸¸äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;ç®€è€Œè¨€ä¹‹: å…ˆéƒ¨ç½²è°éƒ½ä¸æˆï¼éƒ½ä¼šå¯¼è‡´éƒ¨ç½²è¿‡ç¨‹ä¸­å‘ç”Ÿé¡µé¢é”™ä¹±çš„é—®é¢˜ã€‚&lt;br&gt;æ‰€ä»¥ï¼Œè®¿é—®é‡ä¸å¤§çš„é¡¹ç›®ï¼Œå¯ä»¥è®©ç ”å‘åŒå­¦è‹¦é€¼ä¸€æŠŠï¼Œç­‰åˆ°åŠå¤œå·å·ä¸Šçº¿ï¼Œå…ˆä¸Šé™æ€èµ„æºï¼Œå†éƒ¨ç½²é¡µé¢ï¼Œçœ‹èµ·æ¥é—®é¢˜å°‘ä¸€äº›ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœä½ ç°åœ¨æ­£åœ¨ç»´æŠ¤ä¸€ä¸ªç”¨æˆ·è®¿é—®é‡æ¯”è¾ƒå¤§çš„ç½‘ç«™ï¼Œæ”¹æ€ä¹ˆåŠï¼Œä½ æ‰“ç®—ä¸è§£å†³äº†å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å¯ä»¥é‡‡ç”¨&lt;strong&gt;éè¦†ç›–å¼å‘å¸ƒ&lt;/strong&gt;ï¼Œå‰é¢æˆ‘ä»¬è¯´äº†é‚£ä¹ˆå¤šéƒ½æ˜¯&lt;strong&gt;è¦†ç›–å¼å‘å¸ƒ&lt;/strong&gt;&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/10.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;å…¨å¥—åšä¸‹æ¥ï¼Œå°±æ˜¯ç›¸å¯¹æ¯”è¾ƒå®Œæ•´çš„é™æ€èµ„æºç¼“å­˜æ§åˆ¶æ–¹æ¡ˆäº†ï¼Œè€Œä¸”ï¼Œè¿˜è¦æ³¨æ„çš„æ˜¯ï¼Œé™æ€èµ„æºçš„ç¼“å­˜æ§åˆ¶è¦æ±‚åœ¨å‰ç«¯æ‰€æœ‰é™æ€èµ„æºåŠ è½½çš„ä½ç½®éƒ½è¦åšè¿™æ ·çš„å¤„ç†ã€‚æ˜¯çš„ï¼Œæ‰€æœ‰ï¼ä»€ä¹ˆ jsã€css è‡ªä¸å¿…è¯´ï¼Œè¿˜è¦åŒ…æ‹¬ jsã€css æ–‡ä»¶ä¸­å¼•ç”¨çš„èµ„æºè·¯å¾„ï¼Œç”±äºæ¶‰åŠåˆ°æ‘˜è¦ä¿¡æ¯ï¼Œå¼•ç”¨èµ„æºçš„æ‘˜è¦ä¿¡æ¯ä¹Ÿä¼šå¼•èµ·å¼•ç”¨æ–‡ä»¶æœ¬èº«çš„å†…å®¹æ”¹å˜ï¼Œä»è€Œå½¢æˆçº§è”çš„æ‘˜è¦å˜åŒ–ï¼Œå¤§æ¦‚å°±æ˜¯å¦‚ä¸‹å›¾&lt;br&gt;&lt;img src=&#34;/img/Static-resource-cache-control/11.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/Use-lint-staged.html</guid>
            <title>ä½¿ç”¨ Lint-staged æ ¡éªŒ Git æš‚å­˜åŒºä»£ç æ˜¯å¦ç¬¦åˆæ ‡å‡†</title>
            <link>https://blog.imlete.cn/article/Use-lint-staged.html</link>
            <category>JavaScript</category>
            <category>Git</category>
            <pubDate>Tue, 12 Apr 2022 16:57:17 +0000</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;ä»€ä¹ˆæ˜¯-Lint-staged&#34;&gt;&lt;a href=&#34;#ä»€ä¹ˆæ˜¯-Lint-staged&#34; class=&#34;headerlink&#34; title=&#34;ä»€ä¹ˆæ˜¯ Lint-staged&#34;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ Lint-staged&lt;/h2&gt;&lt;p&gt;åœ¨ Git æš‚å­˜åŒºæ‰§è¡Œç›¸å…³çš„æ“ä½œï¼Œå¦‚å¯¹æš‚å­˜åŒºè¿›è¡Œ&lt;code&gt;eslint&lt;/code&gt;æˆ–æ˜¯&lt;code&gt;prettier&lt;/code&gt;ï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ä¸€äº›è„šæœ¬&lt;/p&gt;
&lt;p&gt;å®˜æ–¹å†™ç€å¾ˆæœ‰è¶£çš„ä¸€æ®µè¯:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Run linters against staged git files and donâ€™t let ğŸ’© slip into your code base!&lt;br&gt;å¯¹æš‚å­˜åŒºè¿›è¡Œä»£ç æ ¡éªŒï¼Œä¸è¦è®© ğŸ’©(ä¾¿ä¾¿)æºœè¿›ä½ çš„ä»£ç åº“ï¼&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æ­£æ–‡&#34;&gt;&lt;a href=&#34;#æ­£æ–‡&#34; class=&#34;headerlink&#34; title=&#34;æ­£æ–‡&#34;&gt;&lt;/a&gt;æ­£æ–‡&lt;/h2&gt;&lt;p&gt;æœ‰äº›äººå¯èƒ½ä¼šé—®ï¼Œæˆ‘éƒ½æœ‰&lt;code&gt;eslint&lt;/code&gt;å’Œ&lt;code&gt;prettier&lt;/code&gt;ä¸ºä»€ä¹ˆè¿˜è¦ç”¨&lt;code&gt;lint-staged&lt;/code&gt;?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ç®€è€Œè¨€ä¹‹: &lt;code&gt;lint-staged&lt;/code&gt;åªå¯¹å·²ä¿®æ”¹çš„æˆ–æ˜¯å°†è¦æäº¤åˆ°ä»“åº“çš„æ–‡ä»¶è¿›è¡Œæ ¡éªŒ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å› ä¸º&lt;code&gt;lint-staged&lt;/code&gt;ä»…å¯¹æš‚å­˜åŒºçš„æ–‡ä»¶è¿›è¡Œæ ¡éªŒï¼Œè€Œ&lt;code&gt;eslint&lt;/code&gt;å’Œ&lt;code&gt;prettier&lt;/code&gt;åˆ™æ˜¯å…¨å±€æˆ–æ˜¯æŒ‡å®šæŸä¸ªç›®å½•ä¸‹çš„çš„æ‰€æœ‰æ–‡ä»¶è¿›è¡Œæ ¡éªŒï¼Œåœ¨æ‰§è¡Œæ•ˆç‡ä¸Šè‚¯å®šæ˜¯&lt;code&gt;lint-staged&lt;/code&gt;æ›´èƒœä¸€ç­¹&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…&#34;&gt;&lt;a href=&#34;#å®‰è£…&#34; class=&#34;headerlink&#34; title=&#34;å®‰è£…&#34;&gt;&lt;/a&gt;å®‰è£…&lt;/h3&gt;&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;npm install lint-staged -D&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;ç¼–è¾‘&lt;code&gt;package.json&lt;/code&gt;æ–‡ä»¶&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœåŒæ—¶æ ¡éªŒ&lt;code&gt;.vue&lt;/code&gt;åˆ™å¯ä»¥è¿™ä¹ˆå†™&lt;code&gt;&amp;quot;*.&amp;#123;js,vue&amp;#125;&amp;quot;: &amp;quot;npx eslint --fix&amp;quot;&lt;/code&gt;&lt;br&gt;å…¶å†…éƒ¨ä½¿ç”¨çš„åŒ¹é…è§„åˆ™æ˜¯&lt;a href=&#34;https://github.com/micromatch/micromatch&#34;&gt;micromatch&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight json&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;lint-staged&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;*.js&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;npx eslint --fix&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å®Œæ•´&lt;code&gt;package.json&lt;/code&gt;æ–‡ä»¶&lt;/p&gt;
&lt;figure class=&#34;highlight json&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;study-notes&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;version&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;1.0.0&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;description&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;main&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;index.js&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;scripts&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;echo \&amp;quot;Error: no test specified\&amp;quot; &amp;amp;&amp;amp; exit 1&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;prepare&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;npx husky install&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;keywords&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;punctuation&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;author&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;license&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;ISC&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;devDependencies&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;@commitlint/cli&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;^16.2.3&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;@commitlint/config-conventional&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;^16.2.1&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;eslint&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;^8.13.0&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;husky&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;^7.0.4&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;lint-staged&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;^12.3.7&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;commitlint&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;extends&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;@commitlint/config-conventional&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;&amp;quot;lint-staged&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;punctuation&#34;&gt;&amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;&amp;quot;*.js&amp;quot;&lt;/span&gt;&lt;span class=&#34;punctuation&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;npx eslint --fix&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;punctuation&#34;&gt;&amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;é…ç½®å¥½åï¼Œå½“ä½ æ‰§è¡Œ&lt;code&gt;git add .&lt;/code&gt;åå°±å¯ä»¥ä½¿ç”¨&lt;code&gt;npx lint-staged&lt;/code&gt;å‘½ä»¤æ¥æ ¡éªŒæš‚å­˜åŒºçš„ä»£ç æ–‡ä»¶äº†&lt;/p&gt;
&lt;p&gt;æœ‰äº›äººå¯èƒ½ä¼šè¯´ï¼Œè¿™ä¹ˆéº»çƒ¦ï¼Œé‚£æˆ‘è¿˜ä¸å¦‚ç›´æ¥åœ¨&lt;code&gt;git add .&lt;/code&gt;ä¹‹å‰ä½¿ç”¨&lt;code&gt;npx eslint --fix .&lt;/code&gt;è¿™ä¹Ÿä¸æ˜¯æ›´å¥½å—ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ–‡ç« å¼€å¤´ä¸€å¥è¯´äº†ï¼Œ&lt;code&gt;lint-staged&lt;/code&gt;åªå¯¹æš‚å­˜åŒºçš„ä»£ç æ–‡ä»¶è¿›è¡Œ lintï¼Œæ‰§è¡Œæ•ˆç‡è¿œè¶…&lt;code&gt;npx eslint --fix .&lt;/code&gt;å‘½ä»¤ï¼Œè¯¥å‘½ä»¤ä¼šå¯¹å…¨å±€çš„æ–‡ä»¶è¿›è¡Œæ ¡éªŒï¼Œä¸è¿‡æœ‰æ²¡æœ‰é—®é¢˜éƒ½è¦æ ¡éªŒä¸€é(å¦‚æœé¡¹ç›®å¾ˆå¤§ï¼Œé‚£ä¹ˆè¿™ä¸ªå·®è·å°±æ˜¾ç°äº†)&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸€ä¸ªé¡¹ç›®æœ‰&lt;code&gt;å‡ ç™¾&lt;/code&gt;æˆ–&lt;code&gt;ä¸Šåƒ&lt;/code&gt;ä¸ªæ–‡ä»¶ï¼Œè€Œæˆ‘åªæ˜¯ä¿®æ”¹äº†ä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªæ ‡ç‚¹ç¬¦å·æˆ–è€…æ˜¯å…¶å®ƒä¿®æ”¹ï¼Œé‚£ä¹ˆ&lt;code&gt;npx eslint --fix .&lt;/code&gt;å¯èƒ½éœ€è¦æ ¡éªŒå¾ˆä¹…ï¼Œè€Œä½¿ç”¨&lt;code&gt;npx lint-staged&lt;/code&gt;åˆ™åªéœ€è¦æ ¡éªŒè¿™ä¸ªæ–‡ä»¶å³å¯&lt;/p&gt;
&lt;h3 id=&#34;é…åˆ-Husky-ä½¿ç”¨&#34;&gt;&lt;a href=&#34;#é…åˆ-Husky-ä½¿ç”¨&#34; class=&#34;headerlink&#34; title=&#34;é…åˆ Husky ä½¿ç”¨&#34;&gt;&lt;/a&gt;é…åˆ Husky ä½¿ç”¨&lt;/h3&gt;&lt;p&gt;å…³äºå¦‚ä½•ä½¿ç”¨ husky å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« : &lt;a href=&#34;/article/Use-husky-manage-git-project.html&#34;&gt;ä½¿ç”¨ Husky(å“ˆå£«å¥‡)ç®¡ç† Git é¡¹ç›®&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ·»åŠ  hook åæ‰§è¡Œ&lt;code&gt;git commit&lt;/code&gt;ä¹‹å‰å°±ä¼šå¯¹æš‚å­˜åŒºçš„æ–‡ä»¶è¿›è¡Œæ ¡éªŒäº†&lt;/p&gt;
&lt;figure class=&#34;highlight bash&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;npx husky add .husky/pre-commit &lt;span class=&#34;string&#34;&gt;&amp;#x27;npx lint-staged&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/Service-Worker-Preferred-Request-Resource.html</guid>
            <title>ä½¿ç”¨Service Workerä¼˜é€‰è¯·æ±‚èµ„æº</title>
            <link>https://blog.imlete.cn/article/Service-Worker-Preferred-Request-Resource.html</link>
            <category>JavaScript</category>
            <category>æ•™ç¨‹</category>
            <pubDate>Sun, 20 Mar 2022 17:54:13 +0000</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å½“ä½ çš„ç½‘ç«™æˆ–åšå®¢æœ‰å¤šä¸ªéƒ¨ç½²ç‚¹æ—¶ï¼Œéƒ¨ç½²åœ¨æŸä¸ªå¹³å°çš„è®¿é—®é€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œäºæ˜¯ä½ å°±æŠŠä½ çš„åŸŸåè§£æåˆ°äº†è¿™ä¸ªå¹³å°ä¸Šï¼Œä½†æœ‰æ—¶å€™è¿˜æ˜¯ä¼šå˜å¾—å¾ˆæ…¢ï¼Œè¿™æ—¶å…¶å®ƒç«™ç‚¹é€Ÿåº¦å¯èƒ½ä¼šå˜å¾—æ¯”ä½ å½“å‰ä½¿ç”¨çš„è¿˜å¿«ä¸€ç‚¹ï¼Œéš¾é“è¿˜æœ‰æ¥å›è§£æåŸŸåå—ï¼Ÿå¤ªéº»çƒ¦äº†&lt;/p&gt;
&lt;p&gt;æœ‰æ²¡æœ‰å¯ä»¥ç›´æ¥è¿”å›æœ€å¿«ç½‘ç«™èµ„æºçš„åŠæ³•å‘¢ï¼Ÿ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä½¿ç”¨åŸŸåç®¡ç†å¹³å°ï¼Œæœ‰äº›å¹³å°å¯ä»¥è§£æä¸åŒç½‘ç»œæˆ–åœ°åŒºçš„ç«™ç‚¹&lt;br&gt;ä¾‹å¦‚&lt;strong&gt;è…¾è®¯äº‘&lt;/strong&gt;å¯ä»¥åŒºåˆ†è§£æå›½å†…ä¸‰å¤§è¿è¥å•†ã€å¢ƒå†…ã€å¢ƒå¤–ã€ç­‰ä¸€äº›è§£æé€‰é¡¹(ä¸å¤ªå¥½ç”¨ï¼Œè¿˜éœ€è¦è‡ªå·±æµ‹è¯•ï¼Œéš¾ä¸æˆæ±‚ä½¿ç”¨å…¶å®ƒè¿è¥å•†æ‰‹æœºçš„æœ‹å‹å¸®ä½ æµ‹ä¸€ä¸‹å¿«ä¸å¿«å˜›~)&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨ js æ‹¦æˆªç½‘ç«™çš„æ‰€æœ‰è¯·æ±‚ï¼Œå¹¶ç¯¡æ”¹å°†è¯·æ±‚å‘é€åˆ°è‡ªå·±çš„æ‰€æœ‰ç«™ç‚¹ï¼Œè¿™äº›ç«™ç‚¹ä¸­å¦‚æœå“ªä¸ªç«™ç‚¹æœ€å¿«è¿”å›ï¼Œé‚£ä¹ˆå°±ç”¨æœ€å¿«è¿”å›çš„è¿™ä¸ªä¿¡æ¯ï¼Œä¸æ­¤åŒæ—¶å°†å…¶å®ƒçš„è¯·æ±‚å…¨éƒ¨åˆ‡æ–­&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;æ­£æ–‡&#34;&gt;&lt;a href=&#34;#æ­£æ–‡&#34; class=&#34;headerlink&#34; title=&#34;æ­£æ–‡&#34;&gt;&lt;/a&gt;æ­£æ–‡&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ä¼šè¯¦ç»†è¯´æ˜å¦‚ä½•&lt;strong&gt;ä½¿ç”¨ Service Worker ä¼˜é€‰è¯·æ±‚èµ„æº&lt;/strong&gt;è®©ä½ çš„ç½‘ç«™æ¯”ä»¥å‰æ›´å¿«ï¼Œæ›´ç¨³å®š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Service Worker&lt;/strong&gt;åœ¨æ¥ä¸‹æ¥çš„å†…å®¹ä¸­ç»Ÿä¸€ç§°å‘¼ä¸º&lt;strong&gt;sw&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;Service-Worker&#34;&gt;&lt;a href=&#34;#Service-Worker&#34; class=&#34;headerlink&#34; title=&#34;Service Worker&#34;&gt;&lt;/a&gt;Service Worker&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;æ›´è¯¦ç»†è¯·çœ‹&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API&#34;&gt;https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Service workers æœ¬è´¨ä¸Šå……å½“ Web åº”ç”¨ç¨‹åºã€æµè§ˆå™¨ä¸ç½‘ç»œï¼ˆå¯ç”¨æ—¶ï¼‰ä¹‹é—´çš„ä»£ç†æœåŠ¡å™¨&lt;/p&gt;
&lt;p&gt;Service worker è¿è¡Œåœ¨ worker ä¸Šä¸‹æ–‡ï¼Œå› æ­¤å®ƒä¸èƒ½è®¿é—® DOMã€‚ç›¸å¯¹äºé©±åŠ¨åº”ç”¨çš„ä¸» JavaScript çº¿ç¨‹ï¼Œå®ƒè¿è¡Œåœ¨å…¶ä»–çº¿ç¨‹ä¸­ï¼Œæ‰€ä»¥ä¸ä¼šé€ æˆé˜»å¡ã€‚&lt;/p&gt;
&lt;p&gt;å‡ºäºå®‰å…¨è€ƒé‡ï¼ŒService workers åªèƒ½ç”± HTTPS æ‰¿è½½ï¼Œæ¯•ç«Ÿä¿®æ”¹ç½‘ç»œè¯·æ±‚çš„èƒ½åŠ›æš´éœ²ç»™ä¸­é—´äººæ”»å‡»ä¼šéå¸¸å±é™©ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ³¨å†Œ&#34;&gt;&lt;a href=&#34;#æ³¨å†Œ&#34; class=&#34;headerlink&#34; title=&#34;æ³¨å†Œ&#34;&gt;&lt;/a&gt;æ³¨å†Œ&lt;/h3&gt;&lt;p&gt;æ³¨å†Œ sw å¾ˆç®€å•ï¼Œåªéœ€ä¸€è¡Œä»£ç å³å¯ï¼Œå¦‚æœæ³¨å†ŒæˆåŠŸï¼Œåˆ™ sw ä¼šè¢«ä¸‹è½½åˆ°å®¢æˆ·ç«¯å¹¶ä¸”å®‰è£…å’Œæ¿€æ´»ï¼Œè¿™ä¸€æ­¥ä»…ä»…æ˜¯æ³¨å†Œè€Œå·²ï¼Œå®Œæ•´çš„æ˜¯: ä¸‹è½½â€”&amp;gt;å®‰è£…â€”&amp;gt;æ¿€æ´»&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„: sw çš„æ³¨å†Œæ—¥å¿—è®°å½•åœ¨ Chrome æµè§ˆå™¨ä¸­å¯ä»¥é€šè¿‡è®¿é—®&lt;a href=&#34;chrome://serviceworker-internals&#34;&gt;chrome://serviceworker-internals&lt;/a&gt;æŸ¥çœ‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;navigator.&lt;span class=&#34;property&#34;&gt;serviceWorker&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;register&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;/Service-Worker.js&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å…¶ä¸­&lt;code&gt;/Service-Worker.js&lt;/code&gt;å¿…é¡»æ˜¯å½“å‰åŸŸä¸‹çš„ js æ–‡ä»¶ï¼Œä»–ä¸èƒ½æ˜¯å…¶å®ƒåŸŸä¸‹çš„ï¼Œå³ä½¿ js æ–‡ä»¶å†…çš„å†…å®¹å®Œå…¨ç›¸ç­‰ï¼Œé‚£ä¹Ÿä¸è¡Œ&lt;/p&gt;
&lt;p&gt;å¦‚æœä½ åªæƒ³åœ¨æŸä¸ªè·¯å¾„å†™ä½¿ç”¨ sw çš„è¯ï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;code&gt;scope&lt;/code&gt;é€‰é¡¹ï¼Œå½“ç„¶&lt;code&gt;/Service-Worker.js&lt;/code&gt;çš„ä½ç½®ä¹Ÿå¯ä»¥è‡ªå®šä¹‰(åªè¦æ˜¯åŒæºä¸”æ˜¯ https åè®®å°±å¯ä»¥)ï¼Œå¦‚ä¸‹åªæœ‰åœ¨&lt;code&gt;/article/&lt;/code&gt;æ–‡ç« é¡µ sw æ‰å¯åŠ¨ï¼Œå…¶å®ƒè·¯å¾„å†™ sw ä¸è¿›è¡Œå¤„ç†&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;navigator.&lt;span class=&#34;property&#34;&gt;serviceWorker&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;register&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;/sw-test/Service-Worker.js&amp;#x27;&lt;/span&gt;, &amp;#123; &lt;span class=&#34;attr&#34;&gt;scope&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;/article/&amp;#x27;&lt;/span&gt; &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¹¶ä¸”å¿…é¡»æ˜¯ https åè®®ï¼Œå¦‚æœæ˜¯æœ¬åœ°&lt;code&gt;127.0.0.1&lt;/code&gt;æˆ–&lt;code&gt;localhost&lt;/code&gt;æ˜¯è¢«å…è®¸çš„&lt;/p&gt;
&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ³¨å†Œä»£ç &lt;/p&gt;
&lt;p&gt;å°†å®‰è£…ä»£ç æ”¾ç½®åœ¨&lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt;ä¹‹å&lt;/p&gt;
&lt;figure class=&#34;highlight html&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  ;(&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; (&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (navigator.&lt;span class=&#34;property&#34;&gt;serviceWorker&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;      navigator.&lt;span class=&#34;property&#34;&gt;serviceWorker&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        .&lt;span class=&#34;title function_&#34;&gt;register&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;/sw.js&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;result&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;          &lt;span class=&#34;comment&#34;&gt;// åˆ¤æ–­æ˜¯å¦å®‰è£…äº†sw&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;          &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (&lt;span class=&#34;variable language_&#34;&gt;localStorage&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;getItem&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;installSW&amp;#x27;&lt;/span&gt;)) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;          &lt;span class=&#34;variable language_&#34;&gt;localStorage&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;setItem&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;installSW&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;literal&#34;&gt;true&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;          &lt;span class=&#34;comment&#34;&gt;// è¿™é‡Œå°±ä¸ç”¨æ¸…ç†setIntervaläº†ï¼Œå› ä¸ºé¡µé¢åˆ·æ–°åå°±æ²¡æœ‰äº†&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;          &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; timer = &lt;span class=&#34;built_in&#34;&gt;setInterval&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;            &lt;span class=&#34;comment&#34;&gt;// åˆ¤æ–­swå®‰è£…åï¼Œæ˜¯å¦å¤„äºæ¿€æ´»çŠ¶æ€ï¼Œæ¿€æ´»ååˆ·æ–°é¡µé¢&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (result.&lt;span class=&#34;property&#34;&gt;active&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;state&lt;/span&gt; === &lt;span class=&#34;string&#34;&gt;&amp;#x27;activated&amp;#x27;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;              &lt;span class=&#34;built_in&#34;&gt;clearInterval&lt;/span&gt;(timer)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;              &lt;span class=&#34;title function_&#34;&gt;fetch&lt;/span&gt;(&lt;span class=&#34;variable language_&#34;&gt;window&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;location&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;href&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;                .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;res&lt;/span&gt;) =&amp;gt;&lt;/span&gt; res.&lt;span class=&#34;title function_&#34;&gt;text&lt;/span&gt;())&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;                .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;text&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;                  &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;open&lt;/span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;                  &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;write&lt;/span&gt;(text)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;                  &lt;span class=&#34;variable language_&#34;&gt;document&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;close&lt;/span&gt;()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;                &amp;#125;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;            &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;          &amp;#125;, &lt;span class=&#34;number&#34;&gt;100&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        &amp;#125;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;        .&lt;span class=&#34;title function_&#34;&gt;catch&lt;/span&gt;(&lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;log&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;  &amp;#125;)()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;language-javascript&#34;&gt;&lt;/span&gt;&lt;span class=&#34;tag&#34;&gt;&amp;lt;/&lt;span class=&#34;name&#34;&gt;script&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;ç”Ÿå‘½å‘¨æœŸ&#34;&gt;&lt;a href=&#34;#ç”Ÿå‘½å‘¨æœŸ&#34; class=&#34;headerlink&#34; title=&#34;ç”Ÿå‘½å‘¨æœŸ&#34;&gt;&lt;/a&gt;ç”Ÿå‘½å‘¨æœŸ&lt;/h2&gt;&lt;h3 id=&#34;installing-çŠ¶æ€&#34;&gt;&lt;a href=&#34;#installing-çŠ¶æ€&#34; class=&#34;headerlink&#34; title=&#34;installing çŠ¶æ€&#34;&gt;&lt;/a&gt;installing çŠ¶æ€&lt;/h3&gt;&lt;p&gt;å½“æ³¨å†ŒæˆåŠŸåä¼šè§¦å‘&lt;strong&gt;install&lt;/strong&gt;äº‹ä»¶ï¼Œç„¶åè§¦å‘&lt;strong&gt;activate&lt;/strong&gt;äº‹ä»¶ï¼Œæ­¤æ—¶å¦‚æœå†æ¬¡åˆ·æ–°é¡µé¢ï¼Œå®ƒä¿©éƒ½ä¸ä¼šè¢«è§¦å‘äº†&lt;/p&gt;
&lt;p&gt;ç›´åˆ°&lt;code&gt;/sw.js&lt;/code&gt;å‘ç”Ÿäº†æ”¹å˜ï¼Œå®ƒå°±ä¼šè§¦å‘ä¸€æ¬¡ &lt;strong&gt;install&lt;/strong&gt; (ä¸ä»…ä»…æ˜¯ä»£ç æ”¹å˜ï¼Œå“ªæ€•æ˜¯å¤šä¸€ä¸ªç©ºæ ¼æˆ–æ˜¯å°‘ä¸€ä¸ªç©ºæ ¼ï¼Œåˆæˆ–æ˜¯å†™ä¸€ä¸ªæ³¨é‡Šéƒ½ä¼šè¢«è§¦å‘)ï¼Œä½†æ˜¯åªæ‰§è¡Œäº†&lt;strong&gt;install&lt;/strong&gt;äº‹ä»¶ï¼Œå¹¶æ²¡æœ‰æ‰§è¡Œ&lt;strong&gt;activate&lt;/strong&gt;äº‹ä»¶&lt;/p&gt;
&lt;h3 id=&#34;activing-çŠ¶æ€&#34;&gt;&lt;a href=&#34;#activing-çŠ¶æ€&#34; class=&#34;headerlink&#34; title=&#34;activing çŠ¶æ€&#34;&gt;&lt;/a&gt;activing çŠ¶æ€&lt;/h3&gt;&lt;p&gt;ä¸ºä»€ä¹ˆ&lt;strong&gt;activate&lt;/strong&gt;äº‹ä»¶ä¸è§¦å‘äº†ï¼Ÿå› ä¸ºå·²ç»æœ‰ä¸€ä¸ª sw äº†ï¼Œå®ƒä¸€ç§å¤„äºç­‰å¾…çŠ¶æ€ï¼Œè‡³äºä»€ä¹ˆæ—¶å€™æ‰ä¼šè¢«è§¦å‘ï¼Œé‚£å°±æ˜¯ç­‰ä¹‹å‰çš„ sw åœæ­¢äº†æ‰ä¼šè§¦å‘&lt;strong&gt;activate&lt;/strong&gt;äº‹ä»¶&lt;/p&gt;
&lt;p&gt;é‚£æœ‰æ²¡æœ‰åŠæ³•ä¸è®©å®ƒç­‰å¾…å‘¢ï¼Ÿç­”æ¡ˆæ˜¯: &lt;strong&gt;æœ‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;skipWaiting()&lt;/code&gt;è·³è¿‡ç­‰å¾…ï¼Œå®ƒè¿”å›ä¸€ä¸ª promise å¯¹è±¡(å¼‚æ­¥çš„)ï¼Œé˜²æ­¢è¿˜åœ¨æ‰§è¡Œ&lt;code&gt;skipWaiting()&lt;/code&gt;çš„æ—¶å€™ç›´æ¥å°±è·³åˆ°&lt;strong&gt;activate&lt;/strong&gt;äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨&lt;code&gt;async/await&lt;/code&gt;ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨&lt;code&gt;event.waitUntil(skipWaiting())&lt;/code&gt;æ–¹æ³•æŠŠ&lt;code&gt;skipWaiting()&lt;/code&gt;æ”¾åˆ°é‡Œé¢ï¼Œå’Œ&lt;code&gt;async/await&lt;/code&gt;æ•ˆæœä¸€æ ·&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// sw.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// åœ¨swä¸­å¯ä»¥ä½¿ç”¨thisæˆ–æ˜¯selfè¡¨ç¤ºè‡ªèº«&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;self.&lt;span class=&#34;title function_&#34;&gt;addEventListener&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;install&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; (event) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// event.waitUntil(self.skipWaiting())&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; self.&lt;span class=&#34;title function_&#34;&gt;skipWaiting&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;è§¦å‘&lt;strong&gt;activate&lt;/strong&gt;äº‹ä»¶å ï¼Œå½“å‰è¿™ä¸€æ¬¡ç½‘é¡µæ˜¯ä¸ä¼šè¢« sw ç®¡ç†çš„ï¼Œéœ€è¦ä¸‹æ¬¡é¡µé¢åˆ·æ–°æ‰ä¼šè¢« sw ç®¡ç†ï¼Œé‚£æ€ä¹ˆè®©å®ƒç«‹å³ç®¡ç†é¡µé¢å‘¢ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ›´è¯¦ç»†è¯·çœ‹:&lt;br&gt;&lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/skipWaiting&#34;&gt;https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerGlobalScope/skipWaiting&lt;/a&gt; &amp;gt; &lt;a href=&#34;https://developer.mozilla.org/en-US/docs/Web/API/Clients/claim&#34;&gt;https://developer.mozilla.org/en-US/docs/Web/API/Clients/claim&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;self.&lt;span class=&#34;title function_&#34;&gt;addEventListener&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;activate&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; (event) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// event.waitUntil(self.clients.claim())&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; self.&lt;span class=&#34;property&#34;&gt;clients&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;claim&lt;/span&gt;() &lt;span class=&#34;comment&#34;&gt;// ç«‹å³ç®¡ç†é¡µé¢&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;å®‰è£…&#34;&gt;&lt;a href=&#34;#å®‰è£…&#34; class=&#34;headerlink&#34; title=&#34;å®‰è£…&#34;&gt;&lt;/a&gt;å®‰è£…&lt;/h2&gt;&lt;p&gt;è¯¦ç»†ä¸Šé¢ç”Ÿå‘½å‘¨æœŸå·²ç»è¯¦ç»†è¯´æ˜äº†&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// sw.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;self.&lt;span class=&#34;title function_&#34;&gt;addEventListener&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;install&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; (event) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// event.waitUntil(self.skipWaiting())&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; self.&lt;span class=&#34;title function_&#34;&gt;skipWaiting&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;æ•è·è¯·æ±‚&#34;&gt;&lt;a href=&#34;#æ•è·è¯·æ±‚&#34; class=&#34;headerlink&#34; title=&#34;æ•è·è¯·æ±‚&#34;&gt;&lt;/a&gt;æ•è·è¯·æ±‚&lt;/h2&gt;&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// sw.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;self.&lt;span class=&#34;title function_&#34;&gt;addEventListener&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;fetch&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; (event) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// æ‰€æœ‰è¯·æ±‚éƒ½å¾—è½¬åˆ° handleRequest å‡½æ•°å†…å¤„ç†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;title function_&#34;&gt;handleRequest&lt;/span&gt;(event.&lt;span class=&#34;property&#34;&gt;request&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å¦‚æœ handleRequest è¯·æ±‚æˆåŠŸåˆ™å°†æ•°æ®å“åº”åˆ°ç½‘é¡µ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;result&lt;/span&gt;) =&amp;gt;&lt;/span&gt; event.&lt;span class=&#34;title function_&#34;&gt;respondWith&lt;/span&gt;(result))&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// å¦‚æœ handleRequest è¯·æ±‚å¤±è´¥ï¼Œä»€ä¹ˆéƒ½ä¸åš(è¿™æ˜¯ç½‘é¡µè‡ªå·±èµ°è‡ªå·±çš„å®é™…è¯·æ±‚)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;catch&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å¤„ç†è¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;handleRequest&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;req&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;fetch&lt;/span&gt;(req.&lt;span class=&#34;property&#34;&gt;url&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code&gt;event.respondWith()&lt;/code&gt;: ç»™æµè§ˆå™¨ä¸€ä¸ªå“åº”ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»ä½¿ç”¨&lt;code&gt;Fetch API&lt;/code&gt;æ›¿æµè§ˆå™¨å‘é€äº†è¯·æ±‚ï¼Œå¹¶ä¸”å¾—åˆ°äº†ç»“æœå¹¶ä¸”è¿”å›ï¼Œé‚£ä¹ˆè‡ªç„¶æ˜¯è¦è¿”å›ç»™æµè§ˆå™¨å•¦&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API&#34;&gt;Fetch API&lt;/a&gt;å¯ä»¥å’Œ&lt;code&gt;XMLHttpRequest&lt;/code&gt;ä¸€æ ·ï¼Œå¯ä»¥å‘é€ä»»ä½•è¯·æ±‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å€¼å¾—ä¸€æçš„æ˜¯ä½¿ç”¨ Fetch API å‘é€è¯·æ±‚æ˜¯ä¼šå­˜åœ¨è·¨åŸŸé—®é¢˜çš„ï¼Œä¸€æ—¦è¢«è·¨åŸŸæ‹¦æˆªï¼Œé‚£ä¹ˆå°±ä¸Šé¢éƒ½æ²¡æœ‰è¿”å›ï¼Œä¼šå¯¼è‡´é¡µé¢æ˜¾ç¤ºä¸äº†è¯·æ±‚çš„å†…å®¹(ä¾‹å¦‚å›¾ç‰‡è¢«è·¨åŸŸæ‹¦æˆªäº†)ï¼Œè€Œ imgã€script æ ‡ç­¾å®ƒä»¬æ˜¯ä¸ä¼šå‘ç”Ÿè·¨åŸŸè¯·æ±‚é—®é¢˜çš„ï¼Œæ‰€ä»¥ä¸Šé¢ catch æ•è·å¼‚å¸¸ä¸€ä¸ª 0 å’Œ null å·®ä¸å¤š&lt;br&gt;æ—¢ç„¶æ²¡æœ‰ç”¨åˆ° event.respondWith é‚£è‡ªç„¶æ˜¯æ²¡æœ‰ç»™æµè§ˆå™¨è¿”å›æ•°æ®å•¦ï¼Œé‚£æµè§ˆå™¨å°±è‡ªå·±è¯·æ±‚(å¾ˆå¥½çš„é¿å…äº†è¿™ä¸ªé—®é¢˜)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ç¯¡æ”¹è¯·æ±‚&#34;&gt;&lt;a href=&#34;#ç¯¡æ”¹è¯·æ±‚&#34; class=&#34;headerlink&#34; title=&#34;ç¯¡æ”¹è¯·æ±‚&#34;&gt;&lt;/a&gt;ç¯¡æ”¹è¯·æ±‚&lt;/h2&gt;&lt;p&gt;ä¸Šé¢æˆ‘ä»¬éƒ½å¯ä»¥ä½¿ç”¨&lt;code&gt;Fetch API&lt;/code&gt;æ›¿æµè§ˆå™¨å‘é€è¯·æ±‚äº†ï¼Œé‚£æ˜¯ä¸æ˜¯å¯ä»¥ç¯¡æ”¹å‘¢ï¼Ÿ&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å¤„ç†è¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;handleRequest&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;req&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä»…ä»…åªæ˜¯ä¸¾ä¸ªä¾‹å­ï¼Œæ›´å¤šå¥‡å¦™çš„ç”¨æ³•ç­‰å¾…ä½ å»æ¢ç´¢&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; str = &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://cdn.jsdelivr.net/npm/xhr-ajax/dist/&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; url = req.&lt;span class=&#34;property&#34;&gt;url&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;replace&lt;/span&gt;(str + &lt;span class=&#34;string&#34;&gt;&amp;#x27;ajax.js&amp;#x27;&lt;/span&gt;, str + &lt;span class=&#34;string&#34;&gt;&amp;#x27;ajax.min.js&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;fetch&lt;/span&gt;(url)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;å¦‚ä¸Šä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥å°† ajax è¯·æ±‚çš„ç¬¬ä¸‰æ–¹åº“ js æ–‡ä»¶è¯·æ±‚å˜ä¸ºå‹ç¼©åçš„è¯·æ±‚ï¼Œå¹¶è¿”å›ç»™æµè§ˆå™¨(ç¯¡æ”¹æˆåŠŸ)&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// æ‰¹é‡è¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;handleRequest&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;req&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// å¯ä»¥æ˜¯å¤šä¸ª&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; urls = [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;string&#34;&gt;&amp;quot;https://cdn.jsdelivr.net/npm/xhr-ajax/dist/ajax.min.js&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;string&#34;&gt;&amp;quot;https://unpkg.com/xhr-ajax/dist/ajax.min.js&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä¸­æ–­ä¸€ä¸ªæˆ–å¤šä¸ªè¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; controller = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;AbortController&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// å¯ä»¥ä¸­æ–­è¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// https://developer.mozilla.org/zh-CN/docs/Web/API/AbortController#%E5%B1%9E%E6%80%A7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; signal = controller.&lt;span class=&#34;property&#34;&gt;signal&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// éå†å°†æ‰€æœ‰çš„è¯·æ±‚åœ°å€è½¬æ¢ä¸ºpromise&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;PromiseAll&lt;/span&gt; = urls.&lt;span class=&#34;title function_&#34;&gt;map&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;url&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; (resolve, reject) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;title function_&#34;&gt;fetch&lt;/span&gt;(url, &amp;#123; signal &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;res&lt;/span&gt;) =&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Response&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; res.&lt;span class=&#34;title function_&#34;&gt;arrayBuffer&lt;/span&gt;(), &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;              &lt;span class=&#34;attr&#34;&gt;status&lt;/span&gt;: res.&lt;span class=&#34;property&#34;&gt;status&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;              &lt;span class=&#34;attr&#34;&gt;headers&lt;/span&gt;: res.&lt;span class=&#34;property&#34;&gt;headers&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;res&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (res.&lt;span class=&#34;property&#34;&gt;status&lt;/span&gt; !== &lt;span class=&#34;number&#34;&gt;200&lt;/span&gt;) &lt;span class=&#34;title function_&#34;&gt;reject&lt;/span&gt;(&lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;comment&#34;&gt;// åªè¦æœ‰ä¸€ä¸ªè¯·æ±‚æˆåŠŸè¿”å›é‚£ä¹ˆå°±æŠŠæ‰€æœ‰çš„è¯·æ±‚æ–­å¼€&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          controller.&lt;span class=&#34;title function_&#34;&gt;abort&lt;/span&gt;(); &lt;span class=&#34;comment&#34;&gt;// ä¸­æ–­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;title function_&#34;&gt;resolve&lt;/span&gt;(res);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        .&lt;span class=&#34;title function_&#34;&gt;catch&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;reject&lt;/span&gt;(&lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä½¿ç”¨ Promise.any å‘é€æ‰¹é‡è¯·æ±‚ï¼Œå®ƒæ¥æ”¶ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œä¾‹å¦‚æ•°ç»„å°±æ˜¯ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;any&lt;/span&gt;(&lt;span class=&#34;title class_&#34;&gt;PromiseAll&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;res&lt;/span&gt;) =&amp;gt;&lt;/span&gt; res)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;catch&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;Promise.any å…·ä½“è¯·çœ‹: &lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/any&#34;&gt;https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise/any&lt;/a&gt;&lt;br&gt;AbortController å…·ä½“è¯·çœ‹: &lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/API/AbortController&#34;&gt;https://developer.mozilla.org/zh-CN/docs/Web/API/AbortController&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åªè¦ä¼ å…¥çš„è¿­ä»£å¯¹è±¡ä¸­çš„ä»»ä½•ä¸€ä¸ª &lt;code&gt;promise&lt;/code&gt; è¿”å›æˆåŠŸï¼ˆresolveï¼‰çŠ¶æ€ï¼Œé‚£ä¹ˆå®ƒå°±è¿”å›æˆåŠŸçŠ¶æ€ï¼Œå¦‚æœå…¶ä¸­çš„æ‰€æœ‰çš„ &lt;code&gt;promises&lt;/code&gt; éƒ½å¤±è´¥ï¼Œé‚£ä¹ˆå°±ä¼šæŠŠæ‰€æœ‰çš„å¤±è´¥è¿”å›&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥åªè¦&lt;code&gt;Promise.any&lt;/code&gt;æœ‰ä¸€ä¸ªæˆåŠŸçŠ¶æ€çš„æ•°æ®è¿”å›ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±æŠŠè¿™ä¸ªæ•°æ®å“åº”ç»™æµè§ˆå™¨ï¼Œè€Œå…¶å®ƒ çš„è¯·æ±‚å…¨éƒ¨åˆ‡æ–­ï¼Œè¿™æ ·å°±å¯ä»¥é«˜æ•ˆçš„åœ¨ä¸åŒåœ°åŒºå“åº”æœ€å¿«çš„èµ„æºç»™ç”¨æˆ·å•¦~&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿæ˜¯æ­£æ–‡å¼€å§‹å‰æˆ‘ä»¬æ‰€éœ€è¦è§£å†³çš„é—®é¢˜&lt;/p&gt;
&lt;h2 id=&#34;å®Œæ•´-sw-js-æ–‡ä»¶&#34;&gt;&lt;a href=&#34;#å®Œæ•´-sw-js-æ–‡ä»¶&#34; class=&#34;headerlink&#34; title=&#34;å®Œæ•´ sw.js æ–‡ä»¶&#34;&gt;&lt;/a&gt;å®Œæ•´ sw.js æ–‡ä»¶&lt;/h2&gt;&lt;p&gt;è¿™æ˜¯æˆ‘æ€»ç»“å†™å‡ºçš„ä¸€ä¸ª sw.js æ–‡ä»¶ï¼Œä½ åªéœ€è¦å°†ä¸‹é¢çš„&lt;code&gt;origin&lt;/code&gt;æ•°ç»„æ”¹æˆä½ çš„åšå®¢åœ°å€å°±å¯ä»¥äº†ï¼Œå…¶å®ƒçš„å¯ä»¥ä¸ç”¨åŠ¨ï¼Œå¦‚æœä½ æƒ³æ·»åŠ æ–°ä¸œè¥¿ï¼Œé‚£å°±éšä¾¿ä½ å•¦~å“ˆå“ˆå“ˆ&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;53&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;54&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;55&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;56&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;57&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;58&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;59&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;60&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;61&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;62&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;63&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;65&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;66&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;67&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;68&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;69&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;70&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;71&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;72&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;73&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;74&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;75&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;76&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;77&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;78&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;79&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;80&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;81&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;82&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;83&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;84&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;85&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;86&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;87&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;88&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;89&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;90&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;91&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;92&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;93&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;94&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;95&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;96&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;97&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;98&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;99&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;101&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;102&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;103&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;104&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;105&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;106&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;107&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;108&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;109&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;110&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;111&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;112&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;113&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;114&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;115&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;116&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;117&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;118&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;119&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;120&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;121&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;122&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;123&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;124&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;125&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;126&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;127&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;128&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;129&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;130&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;131&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;132&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;133&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;134&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;135&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;136&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;137&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;138&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;139&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;140&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;141&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; origin = [&lt;span class=&#34;string&#34;&gt;&amp;#x27;https://blog.imlete.cn&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://lete114.github.io&amp;#x27;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; cdn = &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;gh&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;jsdelivr&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://cdn.jsdelivr.net/gh&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;fastly&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://fastly.jsdelivr.net/gh&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;gcore&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://gcore.jsdelivr.net/gh&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;testingcf&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://testingcf.jsdelivr.net/gh&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;test1&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://test1.jsdelivr.net/gh&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;tianli&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://cdn1.tianli0.top/gh&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;combine&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;jsdelivr&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://cdn.jsdelivr.net/combine&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;fastly&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://fastly.jsdelivr.net/combine&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;gcore&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://gcore.jsdelivr.net/combine&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;testingcf&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://testingcf.jsdelivr.net/combine&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;test1&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://test1.jsdelivr.net/combine&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;tianli&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://cdn1.tianli0.top/combine&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;attr&#34;&gt;npm&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;jsdelivr&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://cdn.jsdelivr.net/npm&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;fastly&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://fastly.jsdelivr.net/npm&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;gcore&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://gcore.jsdelivr.net/npm&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;testingcf&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://testingcf.jsdelivr.net/npm&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;test1&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://test1.jsdelivr.net/npm&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;unpkg&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://unpkg.com&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;tianli&lt;/span&gt;: &lt;span class=&#34;string&#34;&gt;&amp;#x27;https://cdn1.tianli0.top/npm&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;self.&lt;span class=&#34;title function_&#34;&gt;addEventListener&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;install&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; self.&lt;span class=&#34;title function_&#34;&gt;skipWaiting&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;self.&lt;span class=&#34;title function_&#34;&gt;addEventListener&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;activate&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; () =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; self.&lt;span class=&#34;property&#34;&gt;clients&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;claim&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;self.&lt;span class=&#34;title function_&#34;&gt;addEventListener&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;fetch&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; (event) =&amp;gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    event.&lt;span class=&#34;title function_&#34;&gt;respondWith&lt;/span&gt;(&lt;span class=&#34;title function_&#34;&gt;handleRequest&lt;/span&gt;(event.&lt;span class=&#34;property&#34;&gt;request&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125; &lt;span class=&#34;keyword&#34;&gt;catch&lt;/span&gt; (e) &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// è¿”å›å“åº”&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;progress&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;res&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Response&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; res.&lt;span class=&#34;title function_&#34;&gt;arrayBuffer&lt;/span&gt;(), &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;status&lt;/span&gt;: res.&lt;span class=&#34;property&#34;&gt;status&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;attr&#34;&gt;headers&lt;/span&gt;: res.&lt;span class=&#34;property&#34;&gt;headers&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;handleRequest&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;req&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; urls = []&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; urlStr = req.&lt;span class=&#34;property&#34;&gt;url&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; urlObj = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;URL&lt;/span&gt;(urlStr)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä¸ºäº†è·å– cdn ç±»å‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä¾‹å¦‚è·å–gh (https://cdn.jsdelivr.net/gh)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; path = urlObj.&lt;span class=&#34;property&#34;&gt;pathname&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;split&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;/&amp;#x27;&lt;/span&gt;)[&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// åŒ¹é… cdn&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; type &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; cdn) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (type === path) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; key &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; cdn[type]) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; url = cdn[type][key] + urlObj.&lt;span class=&#34;property&#34;&gt;pathname&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;replace&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;/&amp;#x27;&lt;/span&gt; + path, &lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        urls.&lt;span class=&#34;title function_&#34;&gt;push&lt;/span&gt;(url)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// å¦‚æœä¸Šæ–¹ cdn éå† åŒ¹é…åˆ° cdn åˆ™ç›´æ¥ç»Ÿä¸€å‘é€è¯·æ±‚(ä¸ä¼šå¾€ä¸‹æ‰§è¡Œäº†)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (urls.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt;) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;fetchAny&lt;/span&gt;(urls)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// å°†ç”¨æˆ·è®¿é—®çš„å½“å‰ç½‘ç«™ä¸æ‰€æœ‰æºç«™åˆå¹¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; origins = [...&lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Set&lt;/span&gt;([location.&lt;span class=&#34;property&#34;&gt;origin&lt;/span&gt;, ...origin])]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// éå†åˆ¤æ–­å½“å‰è¯·æ±‚æ˜¯å¦æ˜¯æºç«™ä¸»æœº&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; is = origins.&lt;span class=&#34;title function_&#34;&gt;find&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;i&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;URL&lt;/span&gt;(urlStr).&lt;span class=&#34;property&#34;&gt;hostname&lt;/span&gt; === &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;URL&lt;/span&gt;(i).&lt;span class=&#34;property&#34;&gt;hostname&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// å¦‚æœæ˜¯æºç«™ï¼Œåˆ™ç«é€Ÿè·å–(ä¸ä¼šå¾€ä¸‹æ‰§è¡Œäº†)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (is) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    origins = origins.&lt;span class=&#34;title function_&#34;&gt;map&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;i&lt;/span&gt;) =&amp;gt;&lt;/span&gt; i + urlObj.&lt;span class=&#34;property&#34;&gt;pathname&lt;/span&gt; + urlObj.&lt;span class=&#34;property&#34;&gt;search&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;fetchAny&lt;/span&gt;(origins)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// æŠ›å‡ºå¼‚å¸¸æ˜¯ä¸ºäº†è®©swä¸æ‹¦æˆªè¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Error&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;ä¸æ˜¯æºç«™&amp;#x27;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// Promise.any çš„ polyfill&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;createPromiseAny&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;any&lt;/span&gt; = &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; (&lt;span class=&#34;params&#34;&gt;promises&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;resolve, reject&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      promises = &lt;span class=&#34;title class_&#34;&gt;Array&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;isArray&lt;/span&gt;(promises) ? promises : []&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; len = promises.&lt;span class=&#34;property&#34;&gt;length&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; errs = []&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (len === &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;reject&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;AggregateError&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;#x27;All promises were rejected&amp;#x27;&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      promises.&lt;span class=&#34;title function_&#34;&gt;forEach&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;p&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (!p &lt;span class=&#34;keyword&#34;&gt;instanceof&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;reject&lt;/span&gt;(p)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        p.&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;res&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;resolve&lt;/span&gt;(res),&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;err&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            len--&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            errs.&lt;span class=&#34;title function_&#34;&gt;push&lt;/span&gt;(err)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (len === &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;) &lt;span class=&#34;title function_&#34;&gt;reject&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;AggregateError&lt;/span&gt;(errs))&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        )&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å‘é€æ‰€æœ‰è¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;fetchAny&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;urls&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä¸­æ–­ä¸€ä¸ªæˆ–å¤šä¸ªè¯·æ±‚&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; controller = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;AbortController&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; signal = controller.&lt;span class=&#34;property&#34;&gt;signal&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// éå†å°†æ‰€æœ‰çš„è¯·æ±‚åœ°å€è½¬æ¢ä¸ºpromise&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;PromiseAll&lt;/span&gt; = urls.&lt;span class=&#34;title function_&#34;&gt;map&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;url&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;resolve, reject&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;title function_&#34;&gt;fetch&lt;/span&gt;(url, &amp;#123; signal &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(progress)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;res&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; r = res.&lt;span class=&#34;title function_&#34;&gt;clone&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (r.&lt;span class=&#34;property&#34;&gt;status&lt;/span&gt; !== &lt;span class=&#34;number&#34;&gt;200&lt;/span&gt;) &lt;span class=&#34;title function_&#34;&gt;reject&lt;/span&gt;(&lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          controller.&lt;span class=&#34;title function_&#34;&gt;abort&lt;/span&gt;() &lt;span class=&#34;comment&#34;&gt;// ä¸­æ–­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;          &lt;span class=&#34;title function_&#34;&gt;resolve&lt;/span&gt;(r)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        .&lt;span class=&#34;title function_&#34;&gt;catch&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;reject&lt;/span&gt;(&lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;))&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒ Promise.any&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (!&lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;.&lt;span class=&#34;property&#34;&gt;any&lt;/span&gt;) &lt;span class=&#34;title function_&#34;&gt;createPromiseAny&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// è°å…ˆè¿”å›&amp;quot;æˆåŠŸçŠ¶æ€&amp;quot;åˆ™è¿”å›è°çš„å†…å®¹ï¼Œå¦‚æœéƒ½è¿”å›&amp;quot;å¤±è´¥çŠ¶æ€&amp;quot;åˆ™è¿”å›null&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;any&lt;/span&gt;(&lt;span class=&#34;title class_&#34;&gt;PromiseAll&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;res&lt;/span&gt;) =&amp;gt;&lt;/span&gt; res)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;catch&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/Parse-get-url-string.html</guid>
            <title>NodeJS è§£æ GET è¯·æ±‚ url å­—ç¬¦ä¸²</title>
            <link>https://blog.imlete.cn/article/Parse-get-url-string.html</link>
            <category>JavaScript</category>
            <category>Node</category>
            <pubDate>Sun, 06 Mar 2022 17:29:57 +0000</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;å‰è¨€&#34;&gt;&lt;a href=&#34;#å‰è¨€&#34; class=&#34;headerlink&#34; title=&#34;å‰è¨€&#34;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å½“ä½ ä½¿ç”¨&lt;code&gt;querystring.parse()&lt;/code&gt;æˆ–è€…æ˜¯&lt;code&gt;url.parse()&lt;/code&gt;æ—¶ä¼šå¾—åˆ°ä¸€ä¸ªè­¦å‘Š&lt;code&gt;@deprecated â€” since v11.0.0 - Use the WHATWG URL API.&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç”±äº &lt;code&gt;url.parse()&lt;/code&gt; æ–¹æ³•ä½¿ç”¨ä¸€ç§å®½æ¾çš„éæ ‡å‡†ç®—æ³•æ¥è§£æç½‘å€å­—ç¬¦ä¸²ï¼Œå› æ­¤å¯èƒ½ä¼šå¼•å…¥å®‰å…¨é—®é¢˜&lt;br&gt;å…·ä½“æ¥è¯´ï¼Œå·²ç»ç¡®å®šäº†ä¸»æœºåæ¬ºéª—ä»¥åŠç”¨æˆ·åå’Œå¯†ç å¤„ç†ä¸å½“çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;&lt;code&gt;url.parse()&lt;/code&gt;åœ¨&lt;code&gt;v11.0.0&lt;/code&gt;å¼€å§‹è¢«æ‰“ä¸Š&lt;code&gt;@deprecated&lt;/code&gt;æ³¨è§£(ä¹Ÿä¸çŸ¥é“å«åšæ³¨è§£åˆä¸åˆç†ï¼Œå¯èƒ½æ˜¯ java å†™å¤šäº†å§)ï¼Œåœ¨&lt;code&gt;v16.0.0&lt;/code&gt;åè¢«å®Œå…¨ç§»é™¤ï¼ŒåŒæ—¶è¿˜ä¸€å¹¶ç§»é™¤çš„æœ‰&lt;code&gt;url.format()&lt;/code&gt; &lt;code&gt;url.resolve()&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight ts&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * åœ¨ querystring çš„ TS æºç å¼€å¤´å·²ç»è¢«æ‰“ä¸Šäº† &lt;span class=&#34;doctag&#34;&gt;@deprecated&lt;/span&gt; å…·ä½“è¯´æ˜æ—¶å€™è¢«å®Œå…¨ç§»é™¤ç›®å‰è¿˜ä¸å¾—è€ŒçŸ¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * éƒ¨åˆ†æ³¨é‡Šå·²è¢«æˆ‘è¢«åˆ é™¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * &lt;span class=&#34;doctag&#34;&gt;@deprecated&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;Legacy&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * &lt;span class=&#34;doctag&#34;&gt;@see&lt;/span&gt; [source](https://github.com/nodejs/node/blob/v17.0.0/lib/querystring.js)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;declare&lt;/span&gt; &lt;span class=&#34;variable language_&#34;&gt;module&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;querystring&amp;quot;&lt;/span&gt; &amp;#123;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight ts&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;declare&lt;/span&gt; &lt;span class=&#34;variable language_&#34;&gt;module&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;url&amp;quot;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;   * åœ¨ url çš„ TS æºç é‡Œ parse() å·²ç»è¢«æ‰“ä¸Šäº† &lt;span class=&#34;doctag&#34;&gt;@deprecated&lt;/span&gt; ä»v11.0.0å¼€å§‹ï¼Œåˆ°v16.0.0è¢«ç§»é™¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;   * éƒ¨åˆ†æ³¨é‡Šå·²è¢«æˆ‘è¢«åˆ é™¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;   * &lt;span class=&#34;doctag&#34;&gt;@since&lt;/span&gt; v0.1.25&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;   * &lt;span class=&#34;doctag&#34;&gt;@deprecated&lt;/span&gt; Legacy: Use the WHATWG URL API instead.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;   * &lt;span class=&#34;doctag&#34;&gt;@param&lt;/span&gt; urlString The URL string to parse.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;   * éƒ¨åˆ†æ³¨é‡Šå·²è¢«æˆ‘è¢«åˆ é™¤&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;   */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;parse&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;urlString: &lt;span class=&#34;built_in&#34;&gt;string&lt;/span&gt;&lt;/span&gt;): &lt;span class=&#34;title class_&#34;&gt;UrlWithStringQuery&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;ä¸ºä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;a href=&#34;#ä¸ºä»€ä¹ˆï¼Ÿ&#34; class=&#34;headerlink&#34; title=&#34;ä¸ºä»€ä¹ˆï¼Ÿ&#34;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆï¼Ÿ&lt;/h2&gt;&lt;p&gt;è¿™æ˜¯å› ä¸º nodejs çš„&lt;code&gt;url.parse&lt;/code&gt;æ–¹æ³•é‡‡ç”¨çš„ä¼ ç»Ÿçš„&lt;code&gt;urlObject&lt;/code&gt;ï¼Œä¸ç¬¦åˆ&lt;a href=&#34;https://url.spec.whatwg.org/#goals&#34;&gt;URL æ ‡å‡†&lt;/a&gt;,å› æ­¤è¢«å¼ƒç”¨&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://developer.mozilla.org/zh-CN/docs/Glossary/WHATWG&#34;&gt;WHATWG&lt;/a&gt; æ˜¯ &lt;em&gt;(Web Hypertext Application Technology Working GroupWeb è¶…æ–‡æœ¬åº”ç”¨ç¨‹åºæŠ€æœ¯å·¥ä½œç»„)&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨-URL&#34;&gt;&lt;a href=&#34;#ä½¿ç”¨-URL&#34; class=&#34;headerlink&#34; title=&#34;ä½¿ç”¨ URL&#34;&gt;&lt;/a&gt;ä½¿ç”¨ URL&lt;/h2&gt;&lt;p&gt;ä½¿ç”¨ URL ç±»å¯¹ url è¿›è¡Œæ“ä½œï¼Œ&lt;a href=&#34;https://nodejs.org/api/url.html#url_the_whatwg_url_api&#34;&gt;è¯¦ç»†æ–‡æ¡£è§&lt;/a&gt;(å¯å°†åŸŸååçš„ org æ”¹ä¸º cn çœ‹ä¸­æ–‡æ–‡æ¡£)&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; urlStr = &lt;span class=&#34;string&#34;&gt;&amp;quot;https://example.org/foo?name=zhangsan&amp;amp;age=18&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; url = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;URL&lt;/span&gt;(urlStr);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// searchParams ç”¨çš„æ˜¯ URLSearchParams API&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; name = url.&lt;span class=&#34;property&#34;&gt;searchParams&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;get&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; age = url.&lt;span class=&#34;property&#34;&gt;searchParams&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;get&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;age&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(name); &lt;span class=&#34;comment&#34;&gt;// zhangsan&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(age); &lt;span class=&#34;comment&#34;&gt;// 18&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;æ­£æ–‡&#34;&gt;&lt;a href=&#34;#æ­£æ–‡&#34; class=&#34;headerlink&#34; title=&#34;æ­£æ–‡&#34;&gt;&lt;/a&gt;æ­£æ–‡&lt;/h2&gt;&lt;p&gt;å‰é¢è„†çš®äº†é‚£ä¹ˆå¤šå†…å®¹ï¼Œç°åœ¨æ‰æ˜¯æœ¬æ–‡çš„ä¸»è¦å†…å®¹&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆå†™æ¥è§£æ get è¯·æ±‚çš„å‚æ•°&lt;br&gt;è®¿é—®: &lt;code&gt;http://localhost:3000/foo?name=zhangsan&amp;amp;age=18&lt;/code&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å› ä¸ºæˆ‘æ¯”è¾ƒæ‡’ï¼Œæˆ‘å°±ä¸å†™é‚£ä¹ˆå¤šç¤ºä¾‹ä»£ç äº†ï¼Œå…¨éƒ¨å¡åˆ°ä¸€ä¸ªä»£ç ç¤ºä¾‹é‡Œï¼Œå¤§å®¶å‹‰å¼ºçœ‹ä¸€ä¸‹æ³¨é‡Šå§&lt;br&gt;ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘å°è£…æˆäº†ä¸€ä¸ªåº“ï¼Œå¯ä»¥è·å–POSTã€GETè¯·æ±‚çš„å‚æ•°ï¼Œè§‰å¾—å¯ä»¥çš„è¯å¯ä»¥ç‚¹ä¸ªstarâœ¨æ”¯æŒä¸€ä¸‹ğŸ˜&lt;br&gt;é¡¹ç›®åœ°å€: &lt;a href=&#34;https://github.com/Lete114/Body-Data&#34;&gt;Body-Data: https://github.com/Lete114/Body-Data&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; http = &lt;span class=&#34;built_in&#34;&gt;require&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;http&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; server = http.&lt;span class=&#34;title function_&#34;&gt;createServer&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;req, res&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (req.&lt;span class=&#34;property&#34;&gt;url&lt;/span&gt; === &lt;span class=&#34;string&#34;&gt;&amp;quot;/favicon.ico&amp;quot;&lt;/span&gt;) &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; res.&lt;span class=&#34;title function_&#34;&gt;end&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// req.urlå«é—®å·å‰é¢çš„å†…å®¹: /foo?name=zhangsan&amp;amp;age=18&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(req.&lt;span class=&#34;property&#34;&gt;url&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤è¡Œä»£ç ç§»é™¤ ?&amp;quot;é—®å·&amp;quot; å‰é¢çš„å†…å®¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;//   const index = url.indexOf(&amp;#x27;?&amp;#x27;) + 1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;//   const string = url.substring(index)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;//   const query = new URLSearchParams(string);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// è¿™æ˜¯ä¸ºäº†è§£æå‡ºsearchï¼Œsearchä¸å« ?&amp;quot;é—®å·&amp;quot; å‰é¢çš„å†…å®¹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä¹Ÿå°±æ˜¯ name=zhangsan&amp;amp;age=18&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; url = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;URL&lt;/span&gt;(req.&lt;span class=&#34;property&#34;&gt;url&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;`http://&lt;span class=&#34;subst&#34;&gt;$&amp;#123;req.headers.host&amp;#125;&lt;/span&gt;/`&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; query = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;URLSearchParams&lt;/span&gt;(url.&lt;span class=&#34;property&#34;&gt;search&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(query.&lt;span class=&#34;title function_&#34;&gt;get&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;)); &lt;span class=&#34;comment&#34;&gt;// zhangsan&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(query.&lt;span class=&#34;title function_&#34;&gt;entries&lt;/span&gt;()); &lt;span class=&#34;comment&#34;&gt;// URLSearchParams Iterator &amp;#123; [ &amp;#x27;name&amp;#x27;, &amp;#x27;zhangsan&amp;#x27; ], [ &amp;#x27;age&amp;#x27;, &amp;#x27;18&amp;#x27; ] &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(query.&lt;span class=&#34;title function_&#34;&gt;keys&lt;/span&gt;()); &lt;span class=&#34;comment&#34;&gt;// URLSearchParams Iterator &amp;#123; &amp;#x27;name&amp;#x27;, &amp;#x27;age&amp;#x27; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// å®šä¹‰ä¸€ä¸ªç©ºå¯¹è±¡&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; params1 = &amp;#123;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// å¦‚æœforå¾ªç¯å†…åªæœ‰1è¡Œä»£ç æ˜¯å¯ä»¥ç®€å†™æˆ1è¡Œçš„ï¼Œå¦‚ä¸‹&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; i &lt;span class=&#34;keyword&#34;&gt;of&lt;/span&gt; query.&lt;span class=&#34;title function_&#34;&gt;keys&lt;/span&gt;()) params1[i] = query.&lt;span class=&#34;title function_&#34;&gt;get&lt;/span&gt;(i);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä½¿ç”¨entries()ä¹Ÿå¯ä»¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; params2 = &amp;#123;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; (&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; i &lt;span class=&#34;keyword&#34;&gt;of&lt;/span&gt; query.&lt;span class=&#34;title function_&#34;&gt;entries&lt;/span&gt;()) params2[i[&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;]] = i[&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;];&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;// ä½¿ç”¨ Object.fromEntries()&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; params3 = &lt;span class=&#34;title class_&#34;&gt;Object&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;fromEntries&lt;/span&gt;(query);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(params1); &lt;span class=&#34;comment&#34;&gt;// &amp;#123; name: &amp;#x27;zhangsan&amp;#x27;, age: &amp;#x27;18&amp;#x27; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(params2); &lt;span class=&#34;comment&#34;&gt;// &amp;#123; name: &amp;#x27;zhangsan&amp;#x27;, age: &amp;#x27;18&amp;#x27; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(params3); &lt;span class=&#34;comment&#34;&gt;// &amp;#123; name: &amp;#x27;zhangsan&amp;#x27;, age: &amp;#x27;18&amp;#x27; &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  res.&lt;span class=&#34;title function_&#34;&gt;end&lt;/span&gt;(&lt;span class=&#34;title class_&#34;&gt;JSON&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;stringify&lt;/span&gt;(params3));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;server.&lt;span class=&#34;title function_&#34;&gt;listen&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;3000&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://blog.imlete.cn/article/async-await-error-handling.html</guid>
            <title>å¦‚ä½•ä¼˜é›…çš„å¤„ç†async/awaité”™è¯¯ä¿¡æ¯</title>
            <link>https://blog.imlete.cn/article/async-await-error-handling.html</link>
            <category>è®°å½•</category>
            <category>JavaScript</category>
            <pubDate>Fri, 12 Nov 2021 16:42:37 +0000</pubDate>
            <description><![CDATA[ &lt;h2 id=&#34;åºŸè¯&#34;&gt;&lt;a href=&#34;#åºŸè¯&#34; class=&#34;headerlink&#34; title=&#34;åºŸè¯&#34;&gt;&lt;/a&gt;åºŸè¯&lt;/h2&gt;&lt;p&gt;åœ¨å®é™…å¼€å‘ä¸­ï¼Œç”¨åˆ°äº†ä¸€äº›å¼‚æ­¥å‡½æ•°æˆ–æ˜¯è¯·æ±‚ã€‚ä½ å¯èƒ½ä¼šå†™&lt;code&gt;.then()&lt;/code&gt;å’Œ&lt;code&gt;.catch()&lt;/code&gt;æ¥å¤„ç†å¼‚æ­¥çš„æˆåŠŸä¸å¤±è´¥&lt;br&gt;é‚£ä¹ˆå¦‚æœè¿™ä¸ª&lt;code&gt;.then()&lt;/code&gt;é‡Œåˆæœ‰ä¸€ä¸ªè¯·æ±‚ï¼Œé‚£ä¹ˆæ—¶ä¸æ—¶åˆå¾—å†™&lt;code&gt;.then()&lt;/code&gt;å’Œ&lt;code&gt;.catch()&lt;/code&gt;ï¼Œé‚£ä¹ˆå¾ˆæœ‰å¯èƒ½&lt;code&gt;.catch()&lt;/code&gt;é‡Œä¹Ÿæœ‰å‘¢ï¼Ÿ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œå°±ä¸å¤šè¯´ä»€ä¹ˆå›è°ƒåœ°ç‹±çš„é—®é¢˜äº†&lt;br&gt;ä½ å¯èƒ½å°±ä¼šç”¨&lt;code&gt;async&lt;/code&gt;å’Œ&lt;code&gt;await&lt;/code&gt;æ¥å¤„ç†å¼‚æ­¥è¯·æ±‚ï¼Œä½†è¿™ä¹Ÿå°±ä¼šéšç€äº§ç”Ÿä¸€ä¸ªé—®é¢˜ï¼Œé‚£å°±æ˜¯&lt;code&gt;await&lt;/code&gt;å®ƒæ— æ³•æ•è·å¼‚æ­¥è¯·æ±‚çš„é”™è¯¯å•Š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è¿™æ—¶ä½ åˆæƒ³åˆ°ï¼Œé‚£æˆ‘åŒ…ä¸€å±‚&lt;code&gt;try...catch&lt;/code&gt;ä¸å°±å¥½äº†å—ï¼Ÿ&lt;br&gt;ä½†æ˜¯è¿™ä»…ä»…åªèƒ½å¤„ç†å½“å‰è¿™ä¸ªæ–¹æ³•çš„é”™è¯¯ï¼Œå¦‚æœè¿™ä¸ªæ–¹æ³•é‡Œåˆå¤šä¸ªè¯·æ±‚æˆ–è€…è¯´æ˜¯å…¶ä»–åŒæ­¥ä»£ç äº§ç”Ÿçš„é—®é¢˜ï¼Œé”™è¯¯ä¹Ÿåªèƒ½å®šä½åˆ°è¿™ä¸ªæ–¹æ³•ã€‚&lt;br&gt;&lt;code&gt;try...catch&lt;/code&gt;å¯¹ä»£ç çš„å¯è¯»æ€§ä¸æ˜¯å¾ˆå‹å¥½(ä¸ªäººè§‰å¾—)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœä½ è§‰å¾—ä¸Šé¢æ‰€è¯´çš„ï¼Œä½ è§‰å¾—å¾ˆ okï¼Œå°±æ˜¯è¦ç”¨ä¸Šé¢è¯´çš„&lt;code&gt;try...catch&lt;/code&gt;è¿˜æ˜¯&lt;code&gt;.then()&lt;/code&gt;å’Œ&lt;code&gt;.catch()&lt;/code&gt;ï¼Œå°±éšä¾¿ä½ &lt;br&gt;èåœé’èœï¼Œå„æœ‰æ‰€çˆ±(ä½ æƒ³ç”¨å•¥å°±ç”¨å•¥)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;æ­£æ–‡&#34;&gt;&lt;a href=&#34;#æ­£æ–‡&#34; class=&#34;headerlink&#34; title=&#34;æ­£æ–‡&#34;&gt;&lt;/a&gt;æ­£æ–‡&lt;/h2&gt;&lt;p&gt;ç°åœ¨æœ‰å¦‚ä¸‹ä»£ç :&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// æˆåŠŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;Success&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;resolve, reject&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;setTimeout&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;title function_&#34;&gt;resolve&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;Run Success&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;, &lt;span class=&#34;number&#34;&gt;500&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;// å¤±è´¥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;UnSuccess&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Promise&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;resolve, reject&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;built_in&#34;&gt;setTimeout&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;title function_&#34;&gt;reject&lt;/span&gt;(&lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Error&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;Run Error&amp;quot;&lt;/span&gt;));&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;, &lt;span class=&#34;number&#34;&gt;500&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;run&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;start&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; result = &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;Success&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;result:&amp;quot;&lt;/span&gt;, result);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;end&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_&#34;&gt;run&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;then-catch&#34;&gt;&lt;a href=&#34;#then-catch&#34; class=&#34;headerlink&#34; title=&#34;then-catch&#34;&gt;&lt;/a&gt;then-catch&lt;/h2&gt;&lt;p&gt;ç”¨&lt;code&gt;.then()&lt;/code&gt;å’Œ&lt;code&gt;.catch()&lt;/code&gt;æ¥å¤„ç†&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;run&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;start&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;title class_&#34;&gt;UnSuccess&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;res&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;result:&amp;quot;&lt;/span&gt;, res);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;catch&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;err&lt;/span&gt;) =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;å‘ç”Ÿäº†é”™è¯¯ï¼&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(err);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;() =&amp;gt;&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;end&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;try-catch&#34;&gt;&lt;a href=&#34;#try-catch&#34; class=&#34;headerlink&#34; title=&#34;try-catch&#34;&gt;&lt;/a&gt;try-catch&lt;/h2&gt;&lt;p&gt;ç”¨&lt;code&gt;try...catch&lt;/code&gt;æ¥å¤„ç†&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;run&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;start&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; result = &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;UnSuccess&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;result:&amp;quot;&lt;/span&gt;, result);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125; &lt;span class=&#34;keyword&#34;&gt;catch&lt;/span&gt; (err) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;å‘ç”Ÿäº†é”™è¯¯ï¼&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(err);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;end&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_&#34;&gt;run&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;then-catch-ç»“æ„èµ‹å€¼&#34;&gt;&lt;a href=&#34;#then-catch-ç»“æ„èµ‹å€¼&#34; class=&#34;headerlink&#34; title=&#34;then-catch ç»“æ„èµ‹å€¼&#34;&gt;&lt;/a&gt;then-catch ç»“æ„èµ‹å€¼&lt;/h2&gt;&lt;p&gt;&lt;code&gt;.then()&lt;/code&gt;å’Œ&lt;code&gt;.catch()&lt;/code&gt;è”åˆ&lt;code&gt;ç»“æ„èµ‹å€¼&lt;/code&gt;æ¥å¤„ç†&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™ç§æ–¹å¼ä»…ä»…æ˜¯ç®€åŒ–äº†&lt;code&gt;.then()&lt;/code&gt;å’Œ&lt;code&gt;.catch()&lt;/code&gt;æ–¹å¼è€Œå·²&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;run&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;start&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; [err, result] = &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;UnSuccess&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;result&lt;/span&gt;) =&amp;gt;&lt;/span&gt; [&lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;, result])&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;catch&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;err&lt;/span&gt;) =&amp;gt;&lt;/span&gt; [err, &lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (err) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;å‘ç”Ÿäº†é”™è¯¯ï¼&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(err);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;result:&amp;quot;&lt;/span&gt;, result);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;end&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_&#34;&gt;run&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;å°è£…-then-catch-ç»“æ„èµ‹å€¼&#34;&gt;&lt;a href=&#34;#å°è£…-then-catch-ç»“æ„èµ‹å€¼&#34; class=&#34;headerlink&#34; title=&#34;å°è£… then-catch ç»“æ„èµ‹å€¼&#34;&gt;&lt;/a&gt;å°è£… then-catch ç»“æ„èµ‹å€¼&lt;/h2&gt;&lt;p&gt;ç®€å•çš„å°è£…ä»¥ä¸‹å°±å¯ç”¨åœ¨å¾ˆå¤šåœ°æ–¹è¿›è¡Œå¤ç”¨äº†&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ ¹å‰é¢çš„ä»£ç å¯¹æ¯”æ—¶ä¸æ—¶å¥½äº†å¾ˆå¤šï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * Promiseå‡½æ•°é”™è¯¯å¤„ç†&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * &lt;span class=&#34;doctag&#34;&gt;@param&lt;/span&gt; &amp;#123;&lt;span class=&#34;type&#34;&gt;Function&lt;/span&gt;&amp;#125; asyncFn è¿™æ˜¯ä¸€ä¸ªPromiseå‡½æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; * &lt;span class=&#34;doctag&#34;&gt;@returns&lt;/span&gt; &amp;#123;&lt;span class=&#34;type&#34;&gt;Array&lt;/span&gt;&amp;#125; [err,result]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;AsyncHandling&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;asyncFn&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;asyncFn&lt;/span&gt;()&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;then&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;result&lt;/span&gt;) =&amp;gt;&lt;/span&gt; [&lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;, result])&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    .&lt;span class=&#34;title function_&#34;&gt;catch&lt;/span&gt;(&lt;span class=&#34;function&#34;&gt;(&lt;span class=&#34;params&#34;&gt;err&lt;/span&gt;) =&amp;gt;&lt;/span&gt; [err, &lt;span class=&#34;literal&#34;&gt;null&lt;/span&gt;]);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;async&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;run&lt;/span&gt;(&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;start&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; [err, result] = &lt;span class=&#34;keyword&#34;&gt;await&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;AsyncHandling&lt;/span&gt;(&lt;span class=&#34;title class_&#34;&gt;UnSuccess&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (err) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;å‘ç”Ÿäº†é”™è¯¯ï¼&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(err);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;return&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;result:&amp;quot;&lt;/span&gt;, result);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;variable language_&#34;&gt;console&lt;/span&gt;.&lt;span class=&#34;title function_&#34;&gt;log&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;end&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_&#34;&gt;run&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;æ€»ç»“&#34;&gt;&lt;a href=&#34;#æ€»ç»“&#34; class=&#34;headerlink&#34; title=&#34;æ€»ç»“&#34;&gt;&lt;/a&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;ä¸ç®¡ä½ ç”¨ä»€ä¹ˆæ–¹å¼éƒ½å¯ç”¨ï¼Œçœ‹ä½ å–œæ¬¢ä»€ä¹ˆé£æ ¼çš„ç¼–ç æ–¹å¼&lt;br&gt;æ­¤ç¯‡æ–‡ç« åªæ˜¯æä¾›æ›´å¤šçš„æ–¹å¼æ¥è§£å†³å®é™…å¼€å‘ä¸­çš„é—®é¢˜&lt;br&gt;å¦‚æœä½ æœ‰æ›´å¥½çš„æ–¹å¼æ¬¢è¿ç•™è¨€è¯„è®º&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
