{
    "version": "https://jsonfeed.org/version/1",
    "title": "Lete乐特 's Blog • All posts by \"thymeleaf\" tag",
    "description": "我相信我可以，但我一直在路上，所以我有无限的可能！！",
    "home_page_url": "https://blog.imlete.cn",
    "items": [
        {
            "id": "https://blog.imlete.cn/article/SpringBoot-Thymeleaf-Random.html",
            "url": "https://blog.imlete.cn/article/SpringBoot-Thymeleaf-Random.html",
            "title": "SpringBoot-Thymeleaf随机数",
            "date_published": "2021-01-18T11:59:14.000Z",
            "content_html": "<p>当使用SpringBoot写项目的时候，难免会遇到点问题，当然也可以直接在后台代码里设置随机数</p>\n<p>但总有些问题是你不得不在模板渲染时就处理好</p>\n<p>关键代码</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$&#123;#numbers.formatDecimal(T(java.lang.Math).floor(T(java.lang.Math).random()*255),1,0)&#125;</span><br></pre></td></tr></table></figure>\n",
            "tags": [
                "记录",
                "Java",
                "SpringBoot",
                "Thymeleaf"
            ]
        },
        {
            "id": "https://blog.imlete.cn/article/Thymeleaf-package-error.html",
            "url": "https://blog.imlete.cn/article/Thymeleaf-package-error.html",
            "title": "SpringBoot Thymeleaf 本地运行正常，打成jar包或war包后运行报错",
            "date_published": "2020-12-26T15:27:41.000Z",
            "content_html": "<p>最近写SpringBoot项目时遇到的一个问题，在本地运行很正常，一点毛病都没有，直到<code>package</code>打包部署到服务器上运行的时候就出现问题了，而且不是一个页面由这个的问题，经过网上多处查询，说<code>Controller</code>层的返回页面方法要注意<code>/</code>但是我的的确没有<code>/</code>也报错了，于是我把关注点说定到<code>Thymelefa</code>页面<br>在之前写项目的经验中我知道如果显示有关Thymeleaf的错误都逃不脱两个点</p>\n<ol>\n<li><code>Controller</code>成的页面跳转方法错误<br>(如果方法里只是简单的写了一行<code>return</code>的话，就可以断定是页面的问题了)</li>\n<li><code>Thymelefa</code>页面错误<br>(如果你的页面也没有报错或者是IDE编辑器误报的话，那么你可能和我遇到的是同一个问题)</li>\n</ol>\n<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><p>这是我的<code>Controller.java</code></p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@Controller</span></span><br><span class=\"line\"><span class=\"meta\">@RequestMapping(&quot;/admin&quot;)</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ToAdminNav</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// @Autowired 省略。。。</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/*后台首页*/</span></span><br><span class=\"line\">    <span class=\"meta\">@GetMapping(&#123;&quot;/index.html&quot;,&quot;/index&quot;&#125;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">toAdmin</span><span class=\"params\">(Model mod)</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 以下的model查询出来的都由数据(我以及Debug过了)</span></span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;user&quot;</span>,userService.selUser());</span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;blog&quot;</span>,blogService.getTotalBlogs());</span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;category&quot;</span>,categoryService.getTotalCategories());</span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;tag&quot;</span>,tagService.getTotalTags());</span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;link&quot;</span>,linkService.getTotalLinks());</span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;comment&quot;</span>,commentService.getTotalBlogComments(<span class=\"literal\">null</span>));</span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;date&quot;</span>,<span class=\"built_in\">this</span>.date());</span><br><span class=\"line\">        <span class=\"comment\">// 那么关键就是 return 了，我的后台首页当然是在template\\admin\\index.html 所以这肯定没问题(毕竟本地都能完美跳转)</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;admin/index&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>页面<code>template\\admin\\index.html</code><br>由于html内如过多，我就只截取部分进行展示</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">xmlns:th</span>=<span class=\"string\">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span> <span class=\"attr\">th:replace</span>=<span class=\"string\">&quot;~&#123;/admin/public::head($&#123;user.getAuthor()&#125;+&#x27; | 首页管理&#x27;)&#125;&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;hold-transition sidebar-mini&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;wrapper&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 引入页面头header-fragment --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">nav</span> <span class=\"attr\">th:replace</span>=<span class=\"string\">&quot;~&#123;/admin/public::header-nav&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">nav</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 引入工具栏sidebar-fragment --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">aside</span> <span class=\"attr\">th:replace</span>=<span class=\"string\">&quot;~&#123;/admin/public::aside($&#123;user.getAvatar()&#125;,$&#123;user.getAuthor()&#125;,1)&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">aside</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- Content Wrapper. Contains page content --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;content-wrapper&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;content-wrapper&quot;</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>从上面的html可以看出我的<code>template\\admin\\</code>下因该有个<code>public.html</code>公共html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 引入页面头header-fragment --&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">nav</span> <span class=\"attr\">th:replace</span>=<span class=\"string\">&quot;~&#123;/admin/public::header-nav&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>这里使用 <code>th:replace</code> 引用 <code>template\\admin\\public.html</code>下的<code>header-nav</code></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 引入页面头header-fragment --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">nav</span> <span class=\"attr\">th:fragment</span>=<span class=\"string\">&quot;header-nav&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;xxxx&quot;</span>&gt;</span>xxxxxxx.....<span class=\"tag\">&lt;/<span class=\"name\">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>这也没问题，本地运行能正常显示，关键问题就在打jar包上，因为打jar包后目录结构有改变(可以自己用解压软件解压查看)<br>当你在<code>admin</code>前面加上<code>/</code>后，Thymelaf就会到根目录去找<code>admin/public.html</code>(也就是绝对路径)</p>\n<h3 id=\"相对路径\"><a href=\"#相对路径\" class=\"headerlink\" title=\"相对路径\"></a>相对路径</h3><ol>\n<li>../ 表示当前文件所在的目录的上一级目录</li>\n<li>./ 表示当前文件所在的目录(可以省略)</li>\n</ol>\n<h3 id=\"绝对路径\"><a href=\"#绝对路径\" class=\"headerlink\" title=\"绝对路径\"></a>绝对路径</h3><ol>\n<li>/ 表示当前站点的根目录(根目录等价于<code>绝对路径</code>)<br>例如：D:\\Lete\\Project\\src\\main\\resources\\templates\\admin\\public.html</li>\n</ol>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>只需要将<code>admin</code>前面的<code>/</code>去掉即可</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 引入页面头header-fragment --&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">nav</span> <span class=\"attr\">th:replace</span>=<span class=\"string\">&quot;~&#123;admin/public::header-nav&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">nav</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>这样就可以正常运行了</p>\n<p>至于问什么在本地运行正常，这我也说不清楚<br>博主使用的是<code>IDEA 2020</code>版</p>\n<p>以后编写代码时要注意观察</p>\n",
            "tags": [
                "记录",
                "Java",
                "SpringBoot",
                "Thymeleaf"
            ]
        },
        {
            "id": "https://blog.imlete.cn/article/springboot-comment.html",
            "url": "https://blog.imlete.cn/article/springboot-comment.html",
            "title": "Java SpringBoot Thymeleaf 写评论管理系统",
            "date_published": "2020-12-25T17:18:31.000Z",
            "content_html": "<p>此评论样式采用<a href=\"https://valine.js.org\">valine</a>的样式，JavaScript由博主个人独立编写</p>\n<p>目前不会公布源码(因为有些安全问题与一些小bug)，这篇文章主要如果你想体验这个评论可以返回主页看公告栏。</p>\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><p>一张表实现<code>子</code>评论<code>父</code>评论<br>假设：<br>A==父评论<br>B==子评论<br>C==父评论<br>D==子评论<br>问题1：如何判断是子评论还是父评论<br>问题2：如何判断B评论是A的子评论<br>问题3：如何判断B评论不是C的子评论(如何区分开来)<br>问题4：如何判断回复评论时，回复的是子评论还是父评论<br>(如：如果我回复的是A评论，那么我(我是D)的这条评论就是A的子评论，要是我回复了B，如何将我(我是D)显示在在A评论下)<br>还有几个小问题就不列举了</p>\n<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><h3 id=\"Maven依赖\"><a href=\"#Maven依赖\" class=\"headerlink\" title=\"Maven依赖\"></a>Maven依赖</h3><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">dependencies</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-thymeleaf<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-jdbc<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-web<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.mybatis.spring.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">version</span>&gt;</span>2.1.4<span class=\"tag\">&lt;/<span class=\"name\">version</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>mysql<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>mysql-connector-java<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>runtime<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">groupId</span>&gt;</span>org.springframework.boot<span class=\"tag\">&lt;/<span class=\"name\">groupId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">artifactId</span>&gt;</span>spring-boot-starter-test<span class=\"tag\">&lt;/<span class=\"name\">artifactId</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">scope</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">scope</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">dependency</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"创建数据表\"><a href=\"#创建数据表\" class=\"headerlink\" title=\"创建数据表\"></a>创建数据表</h3><p>数据库表结构</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">CREATE</span> <span class=\"keyword\">TABLE</span> `comment` (</span><br><span class=\"line\">  `id` <span class=\"type\">BIGINT</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> AUTO_INCREMENT COMMENT <span class=\"string\">&#x27;主键id&#x27;</span>,</span><br><span class=\"line\">  `artitle` <span class=\"type\">BIGINT</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;0&#x27;</span> COMMENT <span class=\"string\">&#x27;关联的blog主键&#x27;</span>, # 根据需求使用，去过你只是单纯的做个人主页留言的话，每个人评论全部设置为<span class=\"number\">1</span>即可，当然你也可以直接删除</span><br><span class=\"line\">  `nick` <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span> COMMENT <span class=\"string\">&#x27;昵称&#x27;</span>,</span><br><span class=\"line\">  `mail` <span class=\"type\">VARCHAR</span>(<span class=\"number\">100</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span> COMMENT <span class=\"string\">&#x27;邮箱&#x27;</span>,</span><br><span class=\"line\">  `link` <span class=\"type\">VARCHAR</span>(<span class=\"number\">50</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span> COMMENT <span class=\"string\">&#x27;网址&#x27;</span>,</span><br><span class=\"line\">  `content` <span class=\"type\">VARCHAR</span>(<span class=\"number\">200</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span> COMMENT <span class=\"string\">&#x27;内容&#x27;</span>,</span><br><span class=\"line\">  `commentatorIP` <span class=\"type\">VARCHAR</span>(<span class=\"number\">20</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;&#x27;</span> COMMENT <span class=\"string\">&#x27;ip地址&#x27;</span>,</span><br><span class=\"line\">  `createTime` DATETIME <span class=\"keyword\">DEFAULT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;评论时间&#x27;</span>,</span><br><span class=\"line\">  `isReply` <span class=\"type\">INT</span>(<span class=\"number\">4</span>) <span class=\"type\">BIGINT</span> <span class=\"string\">&#x27;0&#x27;</span> COMMENT <span class=\"string\">&#x27;是否是回复 0为否 1为是&#x27;</span>,</span><br><span class=\"line\">  `commentStatus` <span class=\"type\">BIGINT</span>(<span class=\"number\">4</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> <span class=\"keyword\">DEFAULT</span> <span class=\"string\">&#x27;0&#x27;</span> COMMENT <span class=\"string\">&#x27;是否审核通过 0-未审核 1-审核通过&#x27;</span>,</span><br><span class=\"line\">  `commentUrl` <span class=\"type\">VARCHAR</span>(<span class=\"number\">100</span>) <span class=\"keyword\">NOT</span> <span class=\"keyword\">NULL</span> COMMENT <span class=\"string\">&#x27;评论对应的页面地址&#x27;</span>,</span><br><span class=\"line\">  <span class=\"keyword\">PRIMARY</span> KEY (`id`)</span><br><span class=\"line\">) ENGINE<span class=\"operator\">=</span>INNODB AUTO_INCREMENT<span class=\"operator\">=</span><span class=\"number\">53</span> <span class=\"keyword\">DEFAULT</span> CHARSET<span class=\"operator\">=</span>utf8;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"关键代码\"><a href=\"#关键代码\" class=\"headerlink\" title=\"关键代码\"></a>关键代码</h3><p>实体类、Service接口、ApiUtil类(调用QQ头像、Gravatar、QQ昵称等api)、MD5Util类(MD5加密)、PatternUtil类(正则表达式类,判断邮箱、网站地址等)js，css等<br>以上代码将忽略 <code>CommentMapper.xml</code>也将忽略，本文只围绕文章开头的几个问题进行处理，并不展示回复等功能(就insert操作很简单)</p>\n<p><img src=\"/img/SpringBoot-Comment/Project1.png\" alt=\"project1\"><br><img src=\"/img/SpringBoot-Comment/Project2.png\" alt=\"project2\"></p>\n<p>CommentMapper.java（接口）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> Lete乐特</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@createDate</span> 2020- 12-25 19:17</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Mapper</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">CommentMapper</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 查询总数</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"title function_\">count</span><span class=\"params\">()</span>; <span class=\"comment\">// 上面说了，只展示评论</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 回复</span></span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"title function_\">reply</span><span class=\"params\">(Comment comment)</span>;  <span class=\"comment\">// 上面说了，只展示评论，只需下面两个方法即可</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 查询父评论</span></span><br><span class=\"line\">    <span class=\"meta\">@Select(&quot;select * from comment where isReply=0 AND commentStatus=1 ORDER BY createTime DESC&quot;)</span></span><br><span class=\"line\">    List&lt;Comment&gt; <span class=\"title function_\">CommentListf</span><span class=\"params\">()</span>;</span><br><span class=\"line\">    <span class=\"comment\">// 查询子评论</span></span><br><span class=\"line\">    <span class=\"meta\">@Select(&quot;select * from comment where isReply!=0 AND commentStatus=1 ORDER BY createTime &quot;)</span></span><br><span class=\"line\">    List&lt;Comment&gt; <span class=\"title function_\">CommentListz</span><span class=\"params\">()</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>CommentServiceImpl.java（实现类）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> Lete乐特</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@createDate</span> 2020- 12-25 19:22</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Service</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">CommentServiceImpl</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">CommentService</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired(required=false)</span></span><br><span class=\"line\">    CommentMapper mapper;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span> <span class=\"comment\">// 查询总记录数</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">count</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> mapper.count();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span> <span class=\"comment\">// 回复</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">reply</span><span class=\"params\">(Comment comment)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 判断是否是父评论</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span>(comment.getIsReply()==<span class=\"literal\">null</span>)comment.setIsReply(<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(comment.getId()!=<span class=\"number\">0</span>)comment.setIsReply(comment.getId());</span><br><span class=\"line\">        comment.setCreateTime(<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>());</span><br><span class=\"line\">        comment.setCommentStatus(<span class=\"number\">0</span>);</span><br><span class=\"line\">        <span class=\"keyword\">return</span> mapper.reply(comment);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//-------------------------上方两个功能请忽略(虽然展示此代码无意义)-----------------------------------</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span> <span class=\"comment\">// 查询父评论</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;Comment&gt; <span class=\"title function_\">CommentListf</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> mapper.CommentListf();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span> <span class=\"comment\">// 查询子评论</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> List&lt;Comment&gt; <span class=\"title function_\">CommentListz</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> mapper.CommentListz();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ControllerComment.java（Controller层）</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@author</span> Lete乐特</span></span><br><span class=\"line\"><span class=\"comment\"> * <span class=\"doctag\">@createDate</span> 2020- 12-25 19:36</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"meta\">@Controller</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ControllerComment</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Autowired(required = false)</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> CommentServiceImpl commentService;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 获取Mail 根据Mail获取评论头像</span></span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Comment&gt; <span class=\"title function_\">Mail</span><span class=\"params\">(List&lt;Comment&gt; list)</span> <span class=\"keyword\">throws</span> IOException, ParseException &#123;</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (Comment comment: list)&#123;</span><br><span class=\"line\">            <span class=\"comment\">// 判断Mail   true: QQavatar  false: Gravatar</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(PatternUtil.isQQEmail(comment.getMail()))&#123; <span class=\"comment\">//PatternUtil之前描述了(正则表达式类，判断是否是qq邮箱)</span></span><br><span class=\"line\">                <span class=\"comment\">// 获取@之前的内容(获取QQ号)</span></span><br><span class=\"line\">                <span class=\"type\">Integer</span> <span class=\"variable\">qq</span> <span class=\"operator\">=</span> Integer.valueOf(comment.getMail().substring(<span class=\"number\">0</span>, comment.getMail().indexOf(<span class=\"string\">&quot;@&quot;</span>)));</span><br><span class=\"line\">                <span class=\"comment\">// 得到qq号后将qq放到ApiUtil类里(获取qq头像并重新set)</span></span><br><span class=\"line\">                comment.setMail(ApiUtil.getHeadImage(qq));</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">// 不是qq邮箱则获取Gravatar头像</span></span><br><span class=\"line\">                comment.setMail(ApiUtil.getGravatar(MD5Util.MD5Encode(comment.getMail())));</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">// 最后返回</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@RequestMapping(&quot;/&quot;)</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> String <span class=\"title function_\">comment</span><span class=\"params\">(Model mod)</span> <span class=\"keyword\">throws</span> IOException, ParseException &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 获取评论总数(只统计父评论)</span></span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;count&quot;</span>,commentService.count());</span><br><span class=\"line\">        <span class=\"comment\">// 获取父评论</span></span><br><span class=\"line\">        List&lt;Comment&gt; listf = commentService.CommentListf();</span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;commentsf&quot;</span>,Mail(listf)); <span class=\"comment\">// 查询信息，根据邮箱进行获取头像(传入上方的Mail方法)</span></span><br><span class=\"line\">        <span class=\"comment\">// 获取子评论</span></span><br><span class=\"line\">        List&lt;Comment&gt; listz = commentService.CommentListz();</span><br><span class=\"line\">        mod.addAttribute(<span class=\"string\">&quot;commentsz&quot;</span>,Mail(listz));<span class=\"comment\">// 查询信息，根据邮箱进行获取头像(传入上方的Mail方法)</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">&quot;index&quot;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>最后在template下新建<code>index.html</code><br>index.html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">&quot;zh-CN&quot;</span> <span class=\"attr\">xmlns:th</span>=<span class=\"string\">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>Title<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;post-comment&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;comment-head&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;comment-headline&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;fas fa-comments fa-fw&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span> 评论<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;comment-wrap&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vcomment v&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;vcomment&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vpanel&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vcount&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;display: block; color: #e58a8a;&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vnum&quot;</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;count&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span> 评论<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vcards&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"comment\">&lt;!-- 循环each父评论 --&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">th:block</span> <span class=\"attr\">th:each</span>=<span class=\"string\">&quot;listf:$&#123;commentsf&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vcard&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"comment\">&lt;!--判断是否是博主邮箱头像地址true==显示博主头像false==使用api转换头像  昵称、子评论、子评论一致--&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vimg lazyload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                 <span class=\"attr\">th:src</span>=<span class=\"string\">&quot;$&#123;listf.getMail()&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                 <span class=\"attr\">referrerpolicy</span>=<span class=\"string\">&quot;no-referrer&quot;</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vh&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vhead&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vnick&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;nofollow&quot;</span> <span class=\"attr\">th:href</span>=<span class=\"string\">&quot;$&#123;listf.getLink()&#125;&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_blank&quot;</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;listf.getNick()&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vmeta&quot;</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;color: #828282;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vtime&quot;</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;#dates.format(listf.getCreateTime(),&#x27;yyyy-MM-dd HH:mm&#x27;)&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vat&quot;</span> <span class=\"attr\">th:value</span>=<span class=\"string\">&quot;$&#123;listf.getId()&#125;&quot;</span>&gt;</span>回复<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vcontent&quot;</span> <span class=\"attr\">data-expand</span>=<span class=\"string\">&quot;查看更多...&quot;</span> <span class=\"attr\">th:utext</span>=<span class=\"string\">&quot;$&#123;listf.getContent()&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vreply-wrapper&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"comment\">&lt;!--循环each子评论--&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;<span class=\"name\">th:block</span> <span class=\"attr\">th:each</span>=<span class=\"string\">&quot;listz:$&#123;commentsz&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"comment\">&lt;!--判断子回复是否与父id一致 在此出区分父评论，在评论--&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vquote&quot;</span> <span class=\"attr\">th:if</span>=<span class=\"string\">&quot;$&#123;listz.getIsReply()&#125;==$&#123;listf.getId()&#125;&quot;</span> &gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vcard&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vimg lazyload&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                 <span class=\"attr\">th:src</span>=<span class=\"string\">&quot;$&#123;listz.getMail()&#125;&quot;</span></span></span><br><span class=\"line\"><span class=\"tag\">                                                 <span class=\"attr\">referrerpolicy</span>=<span class=\"string\">&quot;no-referrer&quot;</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vh&quot;</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vhead&quot;</span>&gt;</span></span><br><span class=\"line\">                                                   <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vnick&quot;</span> <span class=\"attr\">th:href</span>=<span class=\"string\">&quot;$&#123;listz.getLink()&#125;&quot;</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;listz.getNick()&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vmeta&quot;</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;color: red;&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vtime&quot;</span><span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;#dates.format(listz.getCreateTime(),&#x27;yyyy-MM-dd HH:mm&#x27;)&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">                                                    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vat&quot;</span> <span class=\"attr\">th:value</span>=<span class=\"string\">&quot;$&#123;listf.getId()&#125;&quot;</span>&gt;</span>回复<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vcontent&quot;</span> <span class=\"attr\">data-expand</span>=<span class=\"string\">&quot;查看更多...&quot;</span> <span class=\"attr\">th:utext</span>=<span class=\"string\">&quot;$&#123;listz.getContent()&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vreply-wrapper&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                                <span class=\"tag\">&lt;/<span class=\"name\">th:block</span>&gt;</span></span><br><span class=\"line\">                            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;/<span class=\"name\">th:block</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vload-top text-center&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;display:none;&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vspinner&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width:30px;height:30px;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vcards&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vload-bottom text-center&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;display:none;&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">i</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vspinner&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width:30px;height:30px;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">i</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vempty&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;display: block;&quot;</span>&gt;</span></span><br><span class=\"line\">                    来发评论吧~</span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vpage txt-center&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;display:none&quot;</span>&gt;</span></span><br><span class=\"line\">                    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;button&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;vmore vbtn&quot;</span>&gt;</span>加载更多...<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/font/comment.css&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/css/Comment.css&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/js/article.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>运行后的效果图<br><img src=\"/img/SpringBoot-Comment/Comment.png\" alt=\"Comment\"></p>\n<p>看不懂？很迷？<br>非常抱歉，由于目前部分功能为完善(其实我觉得完善了，但总感觉哪里不对劲，手动捂嘴笑)，待处理完毕会发布到Github上</p>\n",
            "tags": [
                "记录",
                "Java",
                "SpringBoot",
                "Thymeleaf"
            ]
        },
        {
            "id": "https://blog.imlete.cn/article/Thymeleaf-Each.html",
            "url": "https://blog.imlete.cn/article/Thymeleaf-Each.html",
            "title": "Java SpringBoot Thymeleaf 双重each循环用法",
            "date_published": "2020-12-25T16:22:01.000Z",
            "content_html": "<p>之前再往上差了很久，没有找到写的好的，可能是我太笨了没看懂，或者说这个太简单了，根本就不需要写一篇文章<br>在这里为了帮助与我一样的小伙伴我就写一篇(其实就是记录一下)</p>\n<h2 id=\"正文\"><a href=\"#正文\" class=\"headerlink\" title=\"正文\"></a>正文</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">th:each</span>=<span class=\"string\">&quot;getList1:$&#123;list1&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;getList1.getUsername&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;getList1.getAge&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 注意getList2是不能把值放到getList1的循环里的 --&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 但是getList1是可以把值放到getList2里的 --&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 既然双重Each，三重Each也是可以的，我就演示了 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">th:each</span>=<span class=\"string\">&quot;getList2:$&#123;list2&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;getList2.getUsername&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;getList2.getAge&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;getList1.getUsername&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"做项目时遇到的问题\"><a href=\"#做项目时遇到的问题\" class=\"headerlink\" title=\"做项目时遇到的问题\"></a>做项目时遇到的问题</h3><p>当时在做一个评论处理的时候遇到的一些问题<br>一张表实现<code>子</code>评论<code>父</code>评论<br>假设：<br>A==父评论<br>B==子评论<br>C==父评论<br>D==子评论<br>问题1：如何判断是子评论还是父评论<br>问题2：如何判断B评论是A的子评论<br>问题3：如何判断B评论不是C的子评论(如何区分开来)<br>问题4：如何判断回复评论时，回复的是子评论还是父评论<br>(如：如果我回复的是A评论，那么我(我是D)的这条评论就是A的子评论，要是我回复了B，如何将我(我是D)显示在在A评论下)<br>还有几个小问题就不列举了<br>详细请看这篇文章：<a href=\"https://blog.lete114.top/artitle/springboot-comment.html\">https://blog.lete114.top/artitle/springboot-comment.html</a><br>如下图效果<br><img src=\"/img/Thymeleaf-Comment/Comment-Demo.png\" alt=\"Demo\"></p>\n",
            "tags": [
                "记录",
                "Java",
                "SpringBoot",
                "Thymeleaf"
            ]
        },
        {
            "id": "https://blog.imlete.cn/article/Thymeleaf-GetUrl.html",
            "url": "https://blog.imlete.cn/article/Thymeleaf-GetUrl.html",
            "title": "Java SpringBoot Thymeleaf获取当前页面完整URL地址-获取项目访问地址(根目录、域名)",
            "date_published": "2020-12-25T14:53:45.000Z",
            "content_html": "<p>写项目的时候，有个需求<br>要求显示当前页面的URL以及根目录(也就是获取localhost，如果是域名则获取域名)</p>\n<h2 id=\"获取当前页面URL的方法\"><a href=\"#获取当前页面URL的方法\" class=\"headerlink\" title=\"获取当前页面URL的方法\"></a>获取当前页面URL的方法</h2><p>使用javax.servlet.http<br>假设访问地址为：localhost:4000/Project/index.html<br>其中<code>Project</code>是项目工程，<code>index.html</code>是页面</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getRequestURL()  </span><br><span class=\"line\"><span class=\"comment\">// 获取当前页面的完整路径(不包含请求参数，需要加上getQueryString()才能获取请求参数)</span></span><br><span class=\"line\">getRequestURI()  </span><br><span class=\"line\"><span class=\"comment\">// 返回除去Localhost(域名或者ip)部分的路径  注意这和上面是不同的一个是`URL`一个是`URI`</span></span><br><span class=\"line\">getContextPath()  </span><br><span class=\"line\"><span class=\"comment\">// 返回工程名，如果工程映射为/，返回&quot;空&quot; </span></span><br><span class=\"line\">getServletPath()  </span><br><span class=\"line\"><span class=\"comment\">// 返回除去host和工程名部分的路径</span></span><br></pre></td></tr></table></figure>\n<p>还有很多方法我这里就不过多</p>\n<h3 id=\"看一下效果\"><a href=\"#看一下效果\" class=\"headerlink\" title=\"看一下效果\"></a>看一下效果</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">getRequestURL()  <span class=\"comment\">// http://localhost:4000/Project/index.html</span></span><br><span class=\"line\">getRequestURI()  <span class=\"comment\">// /Project/index.html</span></span><br><span class=\"line\">getContextPath()  <span class=\"comment\">// /Project</span></span><br><span class=\"line\">getServletPath()  <span class=\"comment\">// /index.html</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"实际代码演示\"><a href=\"#实际代码演示\" class=\"headerlink\" title=\"实际代码演示\"></a>实际代码演示</h2><p><code>请求地址：http://127.0.0.1/article/bbbbb?name=abc</code><br>由于我建的是SpringBoot项目，所以项目工程根目录为/ </p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">System.out.println(<span class=\"string\">&quot;getRequestURI:&quot;</span>+request.getRequestURI());</span><br><span class=\"line\">System.out.println(<span class=\"string\">&quot;getRequestURL:&quot;</span>+request.getRequestURL());</span><br><span class=\"line\">System.out.println(<span class=\"string\">&quot;getContextPath:&quot;</span>+request.getContextPath());</span><br><span class=\"line\">System.out.println(<span class=\"string\">&quot;getServletPath:&quot;</span>+request.getServletPath());</span><br><span class=\"line\">System.out.println(<span class=\"string\">&quot;getQueryString:&quot;</span>+request.getQueryString());</span><br><span class=\"line\">System.out.println(<span class=\"string\">&quot;根目录:&quot;</span>+request.getScheme()+<span class=\"string\">&quot;://&quot;</span>+request.getServerName()+<span class=\"string\">&quot;:&quot;</span>+request.getServerPort());</span><br><span class=\"line\"><span class=\"comment\">//getRequestURI:/article/bbbbb</span></span><br><span class=\"line\"><span class=\"comment\">//getRequestURL:http://127.0.0.1/article/bbbbb</span></span><br><span class=\"line\"><span class=\"comment\">//getContextPath:</span></span><br><span class=\"line\"><span class=\"comment\">//getServletPath:/article/bbbbb</span></span><br><span class=\"line\"><span class=\"comment\">//getQueryString:name=abc</span></span><br><span class=\"line\"><span class=\"comment\">//根目录:http://127.0.0.1:80</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Thymeleaf写法与上方大致相同\"><a href=\"#Thymeleaf写法与上方大致相同\" class=\"headerlink\" title=\"Thymeleaf写法与上方大致相同\"></a>Thymeleaf写法与上方大致相同</h2><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;#httpServletRequest.requestURL&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- http://127.0.0.1/article/bbbbb --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">th:text</span>=<span class=\"string\">&quot;$&#123;#httpServletRequest.getScheme() + &#x27;://&#x27; + #httpServletRequest.getServerName() + &#x27;:&#x27; + #request.getServerPort()&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 根目录:http://127.0.0.1:80 --&gt;</span></span><br></pre></td></tr></table></figure>\n\n",
            "tags": [
                "记录",
                "Java",
                "SpringBoot",
                "Thymeleaf"
            ]
        }
    ]
}