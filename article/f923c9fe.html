<!DOCTYPE html><head><script src="/sw-action.js?v=0eb5c51aef"></script><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no,viewport-fit=cover"><title>Hexo+yilia添加背景特效 | Lete乐特 's Blog</title><link rel="shortcut icon" href="https://www.imlete.cn/img/favicon.ico"><meta name="description" content="添加多种页面背景特效，参考：Hexo 博客优化之博客美化系列（持续更新），需要注意的是：添加背景特效是很消耗浏览器内容的，建议只选择其中的一两个。 特效目录1. 特效目录2. 套路说明3. 鼠标点击出现爱心特效4. 鼠标点击显示文字–需要引入jQuery5. 鼠标点击烟花爆炸效果6. 动态线条背景7. 雪花特效2.大雪花(有齿轮)8. 雪花特效3.小雪花(无齿轮)9. 彩带1.鼠标点击自动替换彩带"><meta property="og:type" content="article"><meta property="og:title" content="Hexo+yilia添加背景特效"><meta property="og:url" content="https://blog.imlete.cn/article/f923c9fe.html"><meta property="og:site_name" content="Lete乐特 's Blog"><meta property="og:description" content="添加多种页面背景特效，参考：Hexo 博客优化之博客美化系列（持续更新），需要注意的是：添加背景特效是很消耗浏览器内容的，建议只选择其中的一两个。 特效目录1. 特效目录2. 套路说明3. 鼠标点击出现爱心特效4. 鼠标点击显示文字–需要引入jQuery5. 鼠标点击烟花爆炸效果6. 动态线条背景7. 雪花特效2.大雪花(有齿轮)8. 雪花特效3.小雪花(无齿轮)9. 彩带1.鼠标点击自动替换彩带"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465397103.png"><meta property="og:image" content="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476469928.png"><meta property="og:image" content="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465524759.png"><meta property="og:image" content="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465565165.png"><meta property="og:image" content="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476600371.png"><meta property="og:image" content="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476685309.png"><meta property="og:image" content="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478268322.png"><meta property="og:image" content="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478303678.png"><meta property="article:published_time" content="2020-06-04T13:20:13.000Z"><meta property="article:modified_time" content="2024-02-19T14:14:46.816Z"><meta property="article:author" content="Lete乐特"><meta property="article:tag" content="教程"><meta property="article:tag" content="Hexo"><meta property="article:tag" content="Yilia"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465397103.png"><link rel="stylesheet" href="/css/style.css?v=3deedee8b9"><script src="/js/image-preview.js?v=b548620cbe" defer="defer"></script><script src="/js/main.js?v=6ec3e21cfc" defer="defer"></script><script defer="defer" src="/js/page-load-progress.js?v=3fed90b79b"></script><script async src="/js/visit-stat.js?v=7f35098145"></script><meta name="generator" content="Hexo 5.4.1"></head><html><body><div class="container"><header class="user-select"><div class="header-container-wrap"><div class="header-container"><style>.logo>*{width:auto;height:4rem;border-radius:50%}</style><a href="/" class="logo"><img data-src="https://www.imlete.cn/img/avatar.png" src="/img/load.gif?v=a79c22516f"></a><nav><div class="search" tabindex="-1"><input class="search-input" placeholder="Search for articles" type="search" maxlength="64"><div class="seach-icon-container"><svg class="search-icon" width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.4008 12.4008C14.744 10.0577 14.744 6.25871 12.4008 3.91556C10.0577 1.57242 6.25871 1.57242 3.91556 3.91556C1.57242 6.25871 1.57242 10.0577 3.91556 12.4008C6.25871 14.744 10.0577 14.744 12.4008 12.4008ZM12.4008 12.4008L15.5828 15.5828" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor"/></svg></div><div class="search-history"><div class="search-history-title"><span>Search for History</span> <span class="search-history-clear">Clear</span></div><div class="search-history-list"></div></div><div class="search-result"></div><script src="/js/search.js?v=da393275a9" path="/search.json?v=57b66386e0" defer="defer"></script></div></nav></div></div></header><div class="main-wrap"><main class="main-width"><h1 class="page-title">Hexo+yilia添加背景特效</h1><article class="article page"><div class="article-info"><img data-src="https://www.imlete.cn/img/avatar.png" alt="avatar" class="avatar" src="/img/load.gif?v=a79c22516f"><div class="article-meta"><div class="author-name">Lete乐特</div><div class="article-meta-list"><time datetime="2020-06-04 13:20:13" title="2020-06-04 13:20:13" class="time">2020-06-04 13:20:13</time><div class="article-meta-item-wrap"><div class="article-meta-item"><svg class="word-icon" width="16" height="16" viewBox="0 0 48 48" fill="none" stroke-width="4" stroke-linejoin="round" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M10 4H30L40 14V42C40 43.1046 39.1046 44 38 44H10C8.89543 44 8 43.1046 8 42V6C8 4.89543 8.89543 4 10 4Z"/><path d="M16.0083 20L19.0083 34L24.0083 24L29.0083 34L32.0083 20"/></svg> <span>6.1k</span></div><div class="article-meta-item"><svg class="time-icon" width="16" height="16" viewBox="0 0 48 48" fill="none" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z"/><path d="M24.0084 12.0001L24.0072 24.0089L32.4866 32.4883"/></svg> <span>34min</span></div></div></div></div></div><div class="article-content"><p><strong>添加多种页面背景特效，参考：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36759224/article/details/85420403">Hexo 博客优化之博客美化系列（持续更新）</a>，需要注意的是：添加背景特效是很消耗浏览器内容的，建议只选择其中的一两个。</strong></p><h3 id="特效目录"><a href="#特效目录" class="headerlink" title="特效目录"></a>特效目录</h3><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#特效目录"><span class="toc-number">1.</span> <span class="toc-text">特效目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#套路说明"><span class="toc-number">2.</span> <span class="toc-text">套路说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#鼠标点击出现爱心特效"><span class="toc-number">3.</span> <span class="toc-text">鼠标点击出现爱心特效</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#鼠标点击显示文字–需要引入jQuery"><span class="toc-number">4.</span> <span class="toc-text">鼠标点击显示文字–需要引入jQuery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#鼠标点击烟花爆炸效果"><span class="toc-number">5.</span> <span class="toc-text">鼠标点击烟花爆炸效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#动态线条背景"><span class="toc-number">6.</span> <span class="toc-text">动态线条背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#雪花特效2-大雪花-有齿轮"><span class="toc-number">7.</span> <span class="toc-text">雪花特效2.大雪花(有齿轮)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#雪花特效3-小雪花-无齿轮"><span class="toc-number">8.</span> <span class="toc-text">雪花特效3.小雪花(无齿轮)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#彩带1-鼠标点击自动替换彩带"><span class="toc-number">9.</span> <span class="toc-text">彩带1.鼠标点击自动替换彩带</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#彩带2-自动飘动"><span class="toc-number">10.</span> <span class="toc-text">彩带2.自动飘动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#代码雨"><span class="toc-number">11.</span> <span class="toc-text">代码雨</span></a></li></ol><h3 id="套路说明"><a href="#套路说明" class="headerlink" title="套路说明"></a>套路说明</h3><p><strong>为防止后面的代码遗漏了什么东西，在这里统一说明：添加背景动画的套路（适用于各种hexo主题）：</strong><br><br></p><p><strong>1.新建生成动画的JS文件，或者引入现成的JS文件的CDN文件（我这里为了备份，基本是新建文件；比较有名的特效一般都会上传到GitHub，而且有引入CDN的相关介绍）。我的文件放再<code>H:\Hexo\themes\yilia\source\js\</code>目录下。</strong></p><p><strong>2.因为背景特效属于陪衬类，也就是说不是很重要的，所以一般都是在加载完页面之后再引入的。因此我们在页面的<code>&lt;/body&gt;</code>标签前引入即可。yilia主题是在<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>中，其他主题类似。</strong></p><p><strong>3.在2中引入需要设置成配置时，即当配置文件中开启设置时，才会开启这个特效。因此最后一步是在主题的配置文件中开启配置。yilia主题是在<code>H:\Hexo\themes\yilia\_config.yml</code>中，其他主题类似。</strong></p><h3 id="鼠标点击出现爱心特效"><a href="#鼠标点击出现爱心特效" class="headerlink" title="鼠标点击出现爱心特效"></a>鼠标点击出现爱心特效</h3><p><strong>新建<code>H:\Hexo\themes\yilia\source\js\love.js</code>:</strong></p><figure class="highlight js">
    <div class="code-block-header" lang="js">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params"><span class="variable language_">window</span>, <span class="variable language_">document</span>, <span class="literal">undefined</span></span>) {</span><br><span class="line">    <span class="keyword">var</span> hearts = [];</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> = (<span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> ||</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> ||</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> ||</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">oRequestAnimationFrame</span> ||</span><br><span class="line">            <span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span> ||</span><br><span class="line">            <span class="keyword">function</span> (<span class="params">callback</span>) {</span><br><span class="line">                <span class="built_in">setTimeout</span>(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">            }</span><br><span class="line">    })();</span><br><span class="line">    <span class="title function_">init</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="title function_">css</span>(</span><br><span class="line">            <span class="string">".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: absolute;}.heart:after{top: -5px;}.heart:before{left: -5px;}"</span></span><br><span class="line">        );</span><br><span class="line">        <span class="title function_">attachEvent</span>();</span><br><span class="line">        <span class="title function_">gameloop</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">gameloop</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; hearts.<span class="property">length</span>; i++) {</span><br><span class="line">            <span class="keyword">if</span> (hearts[i].<span class="property">alpha</span> &lt;= <span class="number">0</span>) {</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(hearts[i].<span class="property">el</span>);</span><br><span class="line">                hearts.<span class="title function_">splice</span>(i, <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            }</span><br><span class="line">            hearts[i].<span class="property">y</span>--;</span><br><span class="line">            hearts[i].<span class="property">scale</span> += <span class="number">0.004</span>;</span><br><span class="line">            hearts[i].<span class="property">alpha</span> -= <span class="number">0.013</span>;</span><br><span class="line">            hearts[i].<span class="property">el</span>.<span class="property">style</span>.<span class="property">cssText</span> = <span class="string">"left:"</span> + hearts[i].<span class="property">x</span> + <span class="string">"px;top:"</span> + hearts[i].<span class="property">y</span> + <span class="string">"px;opacity:"</span> + hearts[i]</span><br><span class="line">                .<span class="property">alpha</span> + <span class="string">";transform:scale("</span> + hearts[i].<span class="property">scale</span> + <span class="string">","</span> + hearts[i].<span class="property">scale</span> +</span><br><span class="line">                <span class="string">") rotate(45deg);background:"</span> + hearts[i].<span class="property">color</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(gameloop);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">attachEvent</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="keyword">var</span> old = <span class="keyword">typeof</span> <span class="variable language_">window</span>.<span class="property">onclick</span> === <span class="string">"function"</span> &amp;&amp; <span class="variable language_">window</span>.<span class="property">onclick</span>;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">event</span>) {</span><br><span class="line">            old &amp;&amp; <span class="title function_">old</span>();</span><br><span class="line">            <span class="title function_">createHeart</span>(event);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">createHeart</span>(<span class="params">event</span>) {</span><br><span class="line">        <span class="keyword">var</span> d = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">"div"</span>);</span><br><span class="line">        d.<span class="property">className</span> = <span class="string">"heart"</span>;</span><br><span class="line">        hearts.<span class="title function_">push</span>({</span><br><span class="line">            <span class="attr">el</span>: d,</span><br><span class="line">            <span class="attr">x</span>: event.<span class="property">clientX</span> - <span class="number">5</span>,</span><br><span class="line">            <span class="attr">y</span>: event.<span class="property">clientY</span> - <span class="number">5</span>,</span><br><span class="line">            <span class="attr">scale</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">alpha</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">color</span>: <span class="title function_">randomColor</span>()</span><br><span class="line">        });</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(d);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">css</span>(<span class="params">css</span>) {</span><br><span class="line">        <span class="keyword">var</span> style = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">"style"</span>);</span><br><span class="line">        style.<span class="property">type</span> = <span class="string">"text/css"</span>;</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            style.<span class="title function_">appendChild</span>(<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(css));</span><br><span class="line">        } <span class="keyword">catch</span> (ex) {</span><br><span class="line">            style.<span class="property">styleSheet</span>.<span class="property">cssText</span> = css;</span><br><span class="line">        }</span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">'head'</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(style);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">randomColor</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"rgb("</span> + (~~(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">255</span>)) + <span class="string">","</span> + (~~(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">255</span>)) + <span class="string">","</span> + (~~(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">255</span>)) +</span><br><span class="line">            <span class="string">")"</span>;</span><br><span class="line">    }</span><br><span class="line">})(<span class="variable language_">window</span>, <span class="variable language_">document</span>);</span><br></pre></td></tr></table></figure><p><strong>添加到<code>H:\Hexo\themes\yilia\layout\layout.ejs</code>的<code>&lt;/body&gt;</code>前</strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 《页面点击小红心 --&gt;</span></span><br><span class="line">&lt;% if (theme.love){ %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/love.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% } %&gt;</span><br><span class="line"><span class="comment">&lt;!-- 页面点击小红心》 --&gt;</span></span><br></pre></td></tr></table></figure><p><strong>开启配置<code>H:\Hexo\themes\yilia\_config.yml</code></strong></p><figure class="highlight sql">
    <div class="code-block-header" lang="sql">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 页面点击小红心</span><br><span class="line">love: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img data-src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465397103.png" alt src="/img/load.gif?v=a79c22516f"></p><h3 id="鼠标点击显示文字–需要引入jQuery"><a href="#鼠标点击显示文字–需要引入jQuery" class="headerlink" title="鼠标点击显示文字–需要引入jQuery"></a>鼠标点击显示文字–需要引入jQuery</h3><p><strong><code>H:\Hexo\themes\yilia\source\js\click_show_text.js</code></strong></p><figure class="highlight js">
    <div class="code-block-header" lang="js">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a_idx = <span class="number">0</span>;</span><br><span class="line"><span class="title function_">jQuery</span>(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params">$</span>) {</span><br><span class="line">    $(<span class="string">"body"</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params">e</span>) {</span><br><span class="line">        <span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Array</span></span><br><span class="line">        (<span class="string">"富强"</span>, <span class="string">"民主"</span>, <span class="string">"文明"</span>, <span class="string">"和谐"</span>, <span class="string">"自由"</span>, <span class="string">"平等"</span>, <span class="string">"公正"</span>, <span class="string">"法治"</span>, <span class="string">"爱国"</span>, <span class="string">"敬业"</span>, <span class="string">"诚信"</span>, <span class="string">"友善"</span>);</span><br><span class="line">        <span class="keyword">var</span> $i = $(<span class="string">"&lt;span/&gt;"</span>).<span class="title function_">text</span>(a[a_idx]);</span><br><span class="line">        a_idx = (a_idx + <span class="number">1</span>) % a.<span class="property">length</span>;</span><br><span class="line">        <span class="keyword">var</span> x = e.<span class="property">pageX</span>,</span><br><span class="line">        y = e.<span class="property">pageY</span>;</span><br><span class="line">        $i.<span class="title function_">css</span>({</span><br><span class="line">            <span class="string">"z-index"</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="string">"top"</span>: y - <span class="number">20</span>,</span><br><span class="line">            <span class="string">"left"</span>: x,</span><br><span class="line">            <span class="string">"position"</span>: <span class="string">"absolute"</span>,</span><br><span class="line">            <span class="string">"font-weight"</span>: <span class="string">"bold"</span>,</span><br><span class="line">            <span class="string">"color"</span>: <span class="string">"#FF0000"</span></span><br><span class="line">        });</span><br><span class="line">        $(<span class="string">"body"</span>).<span class="title function_">append</span>($i);</span><br><span class="line">        $i.<span class="title function_">animate</span>({</span><br><span class="line">            <span class="string">"top"</span>: y - <span class="number">180</span>,</span><br><span class="line">            <span class="string">"opacity"</span>: <span class="number">0</span></span><br><span class="line">        },</span><br><span class="line">			<span class="number">3000</span>,</span><br><span class="line">			<span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">			    $i.<span class="title function_">remove</span>();</span><br><span class="line">			});</span><br><span class="line">    });</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="string">'delay()'</span>, <span class="number">2000</span>);</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">delay</span>(<span class="params"></span>) {</span><br><span class="line">    $(<span class="string">".buryit"</span>).<span class="title function_">removeAttr</span>(<span class="string">"onclick"</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--单击显示文字--&gt;</span></span><br><span class="line">&lt;% if (theme.click_show_text){ %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/click_show_text.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\_config.yml</code></strong></p><figure class="highlight sql">
    <div class="code-block-header" lang="sql">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 鼠标点击显示文字</span><br><span class="line">click_show_text: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img data-src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476469928.png" alt src="/img/load.gif?v=a79c22516f"></p><h3 id="鼠标点击烟花爆炸效果"><a href="#鼠标点击烟花爆炸效果" class="headerlink" title="鼠标点击烟花爆炸效果"></a>鼠标点击烟花爆炸效果</h3><p><strong><code>H:\Hexo\themes\yilia\source\js\fireworks.js</code></strong></p><figure class="highlight js">
    <div class="code-block-header" lang="js">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateCoords</span>(<span class="params">e</span>) {</span><br><span class="line">    pointerX = (e.<span class="property">clientX</span> || e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientX</span>) - canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">left</span>, pointerY = e.<span class="property">clientY</span> || e.<span class="property">touches</span>[</span><br><span class="line">        <span class="number">0</span>].<span class="property">clientY</span> - canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">top</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setParticuleDirection</span>(<span class="params">e</span>) {</span><br><span class="line">    <span class="keyword">var</span> t = anime.<span class="title function_">random</span>(<span class="number">0</span>, <span class="number">360</span>) * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span>,</span><br><span class="line">        a = anime.<span class="title function_">random</span>(<span class="number">50</span>, <span class="number">180</span>),</span><br><span class="line">        n = [-<span class="number">1</span>, <span class="number">1</span>][anime.<span class="title function_">random</span>(<span class="number">0</span>, <span class="number">1</span>)] * a;</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="attr">x</span>: e.<span class="property">x</span> + n * <span class="title class_">Math</span>.<span class="title function_">cos</span>(t),</span><br><span class="line">        <span class="attr">y</span>: e.<span class="property">y</span> + n * <span class="title class_">Math</span>.<span class="title function_">sin</span>(t)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createParticule</span>(<span class="params">e, t</span>) {</span><br><span class="line">    <span class="keyword">var</span> a = {};</span><br><span class="line">    <span class="keyword">return</span> a.<span class="property">x</span> = e, a.<span class="property">y</span> = t, a.<span class="property">color</span> = colors[anime.<span class="title function_">random</span>(<span class="number">0</span>, colors.<span class="property">length</span> - <span class="number">1</span>)], a.<span class="property">radius</span> = anime.<span class="title function_">random</span>(<span class="number">16</span>, <span class="number">32</span>), a.<span class="property">endPos</span> =</span><br><span class="line">        <span class="title function_">setParticuleDirection</span>(a), a.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            ctx.<span class="title function_">beginPath</span>(), ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>, a.<span class="property">y</span>, a.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>, !<span class="number">0</span>), ctx.<span class="property">fillStyle</span> = a.<span class="property">color</span>, ctx.<span class="title function_">fill</span>()</span><br><span class="line">        }, a</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createCircle</span>(<span class="params">e, t</span>) {</span><br><span class="line">    <span class="keyword">var</span> a = {};</span><br><span class="line">    <span class="keyword">return</span> a.<span class="property">x</span> = e, a.<span class="property">y</span> = t, a.<span class="property">color</span> = <span class="string">"#F00"</span>, a.<span class="property">radius</span> = <span class="number">0.1</span>, a.<span class="property">alpha</span> = <span class="number">0.5</span>, a.<span class="property">lineWidth</span> = <span class="number">6</span>, a.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">        ctx.<span class="property">globalAlpha</span> = a.<span class="property">alpha</span>, ctx.<span class="title function_">beginPath</span>(), ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>, a.<span class="property">y</span>, a.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>, !<span class="number">0</span>), ctx.<span class="property">lineWidth</span> =</span><br><span class="line">            a.<span class="property">lineWidth</span>, ctx.<span class="property">strokeStyle</span> = a.<span class="property">color</span>, ctx.<span class="title function_">stroke</span>(), ctx.<span class="property">globalAlpha</span> = <span class="number">1</span></span><br><span class="line">    }, a</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">renderParticule</span>(<span class="params">e</span>) {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.<span class="property">animatables</span>.<span class="property">length</span>; t++) {</span><br><span class="line">        e.<span class="property">animatables</span>[t].<span class="property">target</span>.<span class="title function_">draw</span>()</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">animateParticules</span>(<span class="params">e, t</span>) {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="title function_">createCircle</span>(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) {</span><br><span class="line">        n.<span class="title function_">push</span>(<span class="title function_">createParticule</span>(e, t))</span><br><span class="line">    }</span><br><span class="line">    anime.<span class="title function_">timeline</span>().<span class="title function_">add</span>({</span><br><span class="line">        <span class="attr">targets</span>: n,</span><br><span class="line">        <span class="attr">x</span>: <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">            <span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">x</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">y</span>: <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">            <span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">y</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">radius</span>: <span class="number">0.1</span>,</span><br><span class="line">        <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        <span class="attr">easing</span>: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        <span class="attr">update</span>: renderParticule</span><br><span class="line">    }).<span class="title function_">add</span>({</span><br><span class="line">        <span class="attr">targets</span>: a,</span><br><span class="line">        <span class="attr">radius</span>: anime.<span class="title function_">random</span>(<span class="number">80</span>, <span class="number">160</span>),</span><br><span class="line">        <span class="attr">lineWidth</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">alpha</span>: {</span><br><span class="line">            <span class="attr">value</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">easing</span>: <span class="string">"linear"</span>,</span><br><span class="line">            <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">600</span>, <span class="number">800</span>)</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        <span class="attr">easing</span>: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        <span class="attr">update</span>: renderParticule,</span><br><span class="line">        <span class="attr">offset</span>: <span class="number">0</span></span><br><span class="line">    })</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">e, t</span>) {</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">        <span class="keyword">var</span> n = <span class="variable language_">this</span>,</span><br><span class="line">            i = <span class="variable language_">arguments</span>;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(a), a = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            e.<span class="title function_">apply</span>(n, i)</span><br><span class="line">        }, t)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> canvasEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">".fireworks"</span>);</span><br><span class="line"><span class="keyword">if</span> (canvasEl) {</span><br><span class="line">    <span class="keyword">var</span> ctx = canvasEl.<span class="title function_">getContext</span>(<span class="string">"2d"</span>),</span><br><span class="line">        numberOfParticules = <span class="number">30</span>,</span><br><span class="line">        pointerX = <span class="number">0</span>,</span><br><span class="line">        pointerY = <span class="number">0</span>,</span><br><span class="line">        tap = <span class="string">"mousedown"</span>,</span><br><span class="line">        colors = [<span class="string">"#FF1461"</span>, <span class="string">"#18FF92"</span>, <span class="string">"#5A87FF"</span>, <span class="string">"#FBF38C"</span>],</span><br><span class="line">        setCanvasSize = <span class="title function_">debounce</span>(<span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            canvasEl.<span class="property">width</span> = <span class="number">2</span> * <span class="variable language_">window</span>.<span class="property">innerWidth</span>, canvasEl.<span class="property">height</span> = <span class="number">2</span> * <span class="variable language_">window</span>.<span class="property">innerHeight</span>, canvasEl.<span class="property">style</span>.<span class="property">width</span> =</span><br><span class="line">                <span class="variable language_">window</span>.<span class="property">innerWidth</span> + <span class="string">"px"</span>, canvasEl.<span class="property">style</span>.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span> + <span class="string">"px"</span>, canvasEl.<span class="title function_">getContext</span>(</span><br><span class="line">                    <span class="string">"2d"</span>).<span class="title function_">scale</span>(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        }, <span class="number">500</span>),</span><br><span class="line">        render = <span class="title function_">anime</span>({</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">1</span> / <span class="number">0</span>,</span><br><span class="line">            <span class="attr">update</span>: <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">                ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvasEl.<span class="property">width</span>, canvasEl.<span class="property">height</span>)</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(tap, <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">        <span class="string">"sidebar"</span> !== e.<span class="property">target</span>.<span class="property">id</span> &amp;&amp; <span class="string">"toggle-sidebar"</span> !== e.<span class="property">target</span>.<span class="property">id</span> &amp;&amp; <span class="string">"A"</span> !== e.<span class="property">target</span>.<span class="property">nodeName</span> &amp;&amp; <span class="string">"IMG"</span> !==</span><br><span class="line">            e.<span class="property">target</span>.<span class="property">nodeName</span> &amp;&amp; (render.<span class="title function_">play</span>(), <span class="title function_">updateCoords</span>(e), <span class="title function_">animateParticules</span>(pointerX, pointerY))</span><br><span class="line">    }, !<span class="number">1</span>), <span class="title function_">setCanvasSize</span>(), <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">"resize"</span>, setCanvasSize, !<span class="number">1</span>)</span><br><span class="line">}</span><br><span class="line"><span class="meta">"use strict"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">updateCoords</span>(<span class="params">e</span>) {</span><br><span class="line">    pointerX = (e.<span class="property">clientX</span> || e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientX</span>) - canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">left</span>, pointerY = e.<span class="property">clientY</span> || e.<span class="property">touches</span>[</span><br><span class="line">        <span class="number">0</span>].<span class="property">clientY</span> - canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">top</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">setParticuleDirection</span>(<span class="params">e</span>) {</span><br><span class="line">    <span class="keyword">var</span> t = anime.<span class="title function_">random</span>(<span class="number">0</span>, <span class="number">360</span>) * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span>,</span><br><span class="line">        a = anime.<span class="title function_">random</span>(<span class="number">50</span>, <span class="number">180</span>),</span><br><span class="line">        n = [-<span class="number">1</span>, <span class="number">1</span>][anime.<span class="title function_">random</span>(<span class="number">0</span>, <span class="number">1</span>)] * a;</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">        <span class="attr">x</span>: e.<span class="property">x</span> + n * <span class="title class_">Math</span>.<span class="title function_">cos</span>(t),</span><br><span class="line">        <span class="attr">y</span>: e.<span class="property">y</span> + n * <span class="title class_">Math</span>.<span class="title function_">sin</span>(t)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createParticule</span>(<span class="params">e, t</span>) {</span><br><span class="line">    <span class="keyword">var</span> a = {};</span><br><span class="line">    <span class="keyword">return</span> a.<span class="property">x</span> = e, a.<span class="property">y</span> = t, a.<span class="property">color</span> = colors[anime.<span class="title function_">random</span>(<span class="number">0</span>, colors.<span class="property">length</span> - <span class="number">1</span>)], a.<span class="property">radius</span> = anime.<span class="title function_">random</span>(<span class="number">16</span>, <span class="number">32</span>), a.<span class="property">endPos</span> =</span><br><span class="line">        <span class="title function_">setParticuleDirection</span>(a), a.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            ctx.<span class="title function_">beginPath</span>(), ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>, a.<span class="property">y</span>, a.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>, !<span class="number">0</span>), ctx.<span class="property">fillStyle</span> = a.<span class="property">color</span>, ctx.<span class="title function_">fill</span>()</span><br><span class="line">        }, a</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createCircle</span>(<span class="params">e, t</span>) {</span><br><span class="line">    <span class="keyword">var</span> a = {};</span><br><span class="line">    <span class="keyword">return</span> a.<span class="property">x</span> = e, a.<span class="property">y</span> = t, a.<span class="property">color</span> = <span class="string">"#F00"</span>, a.<span class="property">radius</span> = <span class="number">0.1</span>, a.<span class="property">alpha</span> = <span class="number">0.5</span>, a.<span class="property">lineWidth</span> = <span class="number">6</span>, a.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">        ctx.<span class="property">globalAlpha</span> = a.<span class="property">alpha</span>, ctx.<span class="title function_">beginPath</span>(), ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>, a.<span class="property">y</span>, a.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>, !<span class="number">0</span>), ctx.<span class="property">lineWidth</span> =</span><br><span class="line">            a.<span class="property">lineWidth</span>, ctx.<span class="property">strokeStyle</span> = a.<span class="property">color</span>, ctx.<span class="title function_">stroke</span>(), ctx.<span class="property">globalAlpha</span> = <span class="number">1</span></span><br><span class="line">    }, a</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">renderParticule</span>(<span class="params">e</span>) {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.<span class="property">animatables</span>.<span class="property">length</span>; t++) {</span><br><span class="line">        e.<span class="property">animatables</span>[t].<span class="property">target</span>.<span class="title function_">draw</span>()</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">animateParticules</span>(<span class="params">e, t</span>) {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="title function_">createCircle</span>(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) {</span><br><span class="line">        n.<span class="title function_">push</span>(<span class="title function_">createParticule</span>(e, t))</span><br><span class="line">    }</span><br><span class="line">    anime.<span class="title function_">timeline</span>().<span class="title function_">add</span>({</span><br><span class="line">        <span class="attr">targets</span>: n,</span><br><span class="line">        <span class="attr">x</span>: <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">            <span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">x</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">y</span>: <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">            <span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">y</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">radius</span>: <span class="number">0.1</span>,</span><br><span class="line">        <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        <span class="attr">easing</span>: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        <span class="attr">update</span>: renderParticule</span><br><span class="line">    }).<span class="title function_">add</span>({</span><br><span class="line">        <span class="attr">targets</span>: a,</span><br><span class="line">        <span class="attr">radius</span>: anime.<span class="title function_">random</span>(<span class="number">80</span>, <span class="number">160</span>),</span><br><span class="line">        <span class="attr">lineWidth</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">alpha</span>: {</span><br><span class="line">            <span class="attr">value</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="attr">easing</span>: <span class="string">"linear"</span>,</span><br><span class="line">            <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">600</span>, <span class="number">800</span>)</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">1200</span>, <span class="number">1800</span>),</span><br><span class="line">        <span class="attr">easing</span>: <span class="string">"easeOutExpo"</span>,</span><br><span class="line">        <span class="attr">update</span>: renderParticule,</span><br><span class="line">        <span class="attr">offset</span>: <span class="number">0</span></span><br><span class="line">    })</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">e, t</span>) {</span><br><span class="line">    <span class="keyword">var</span> a;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">        <span class="keyword">var</span> n = <span class="variable language_">this</span>,</span><br><span class="line">            i = <span class="variable language_">arguments</span>;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(a), a = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            e.<span class="title function_">apply</span>(n, i)</span><br><span class="line">        }, t)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="keyword">var</span> canvasEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">".fireworks"</span>);</span><br><span class="line"><span class="keyword">if</span> (canvasEl) {</span><br><span class="line">    <span class="keyword">var</span> ctx = canvasEl.<span class="title function_">getContext</span>(<span class="string">"2d"</span>),</span><br><span class="line">        numberOfParticules = <span class="number">30</span>,</span><br><span class="line">        pointerX = <span class="number">0</span>,</span><br><span class="line">        pointerY = <span class="number">0</span>,</span><br><span class="line">        tap = <span class="string">"mousedown"</span>,</span><br><span class="line">        colors = [<span class="string">"#FF1461"</span>, <span class="string">"#18FF92"</span>, <span class="string">"#5A87FF"</span>, <span class="string">"#FBF38C"</span>],</span><br><span class="line">        setCanvasSize = <span class="title function_">debounce</span>(<span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            canvasEl.<span class="property">width</span> = <span class="number">2</span> * <span class="variable language_">window</span>.<span class="property">innerWidth</span>, canvasEl.<span class="property">height</span> = <span class="number">2</span> * <span class="variable language_">window</span>.<span class="property">innerHeight</span>, canvasEl.<span class="property">style</span>.<span class="property">width</span> =</span><br><span class="line">                <span class="variable language_">window</span>.<span class="property">innerWidth</span> + <span class="string">"px"</span>, canvasEl.<span class="property">style</span>.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span> + <span class="string">"px"</span>, canvasEl.<span class="title function_">getContext</span>(</span><br><span class="line">                    <span class="string">"2d"</span>).<span class="title function_">scale</span>(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line">        }, <span class="number">500</span>),</span><br><span class="line">        render = <span class="title function_">anime</span>({</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">1</span> / <span class="number">0</span>,</span><br><span class="line">            <span class="attr">update</span>: <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">                ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvasEl.<span class="property">width</span>, canvasEl.<span class="property">height</span>)</span><br><span class="line">            }</span><br><span class="line">        });</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(tap, <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">        <span class="string">"sidebar"</span> !== e.<span class="property">target</span>.<span class="property">id</span> &amp;&amp; <span class="string">"toggle-sidebar"</span> !== e.<span class="property">target</span>.<span class="property">id</span> &amp;&amp; <span class="string">"A"</span> !== e.<span class="property">target</span>.<span class="property">nodeName</span> &amp;&amp; <span class="string">"IMG"</span> !==</span><br><span class="line">            e.<span class="property">target</span>.<span class="property">nodeName</span> &amp;&amp; (render.<span class="title function_">play</span>(), <span class="title function_">updateCoords</span>(e), <span class="title function_">animateParticules</span>(pointerX, pointerY))</span><br><span class="line">    }, !<span class="number">1</span>), <span class="title function_">setCanvasSize</span>(), <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">"resize"</span>, setCanvasSize, !<span class="number">1</span>)</span><br><span class="line">};</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--鼠标点击烟花爆炸效果，需要引入jQuery--&gt;</span></span><br><span class="line">&lt;% if (theme.fireworks){ %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">"fireworks"</span> <span class="attr">style</span>=<span class="string">"position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/animejs/2.2.0/anime.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/fireworks.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\_config.yml</code></strong></p><figure class="highlight sql">
    <div class="code-block-header" lang="sql">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 鼠标点击烟花爆炸效果</span><br><span class="line">fireworks: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img data-src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465524759.png" alt src="/img/load.gif?v=a79c22516f"></p><h3 id="动态线条背景"><a href="#动态线条背景" class="headerlink" title="动态线条背景"></a>动态线条背景</h3><p><a target="_blank" rel="noopener" href="https://github.com/hustcc/canvas-nest.js">https://github.com/hustcc/canvas-nest.js</a></p><p><strong><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></strong></p><p><strong>直接方法</strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--动态线条背景--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span></span></span><br><span class="line"><span class="tag"><span class="attr">color</span>=<span class="string">"220,220,220"</span> <span class="attr">opacity</span>=<span class="string">'0.7'</span> <span class="attr">zIndex</span>=<span class="string">"-2"</span> <span class="attr">count</span>=<span class="string">"200"</span> <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>配置式：</strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--动态线条背景--&gt;</span></span><br><span class="line">&lt;% if (theme.canvas_nest.enable){ %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">color</span>=<span class="string">"&lt;%=theme.canvas_nest.color %&gt;"</span> <span class="attr">opacity</span>=<span class="string">"&lt;%=theme.canvas_nest.opacity %&gt;"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">zIndex</span>=<span class="string">"&lt;%=theme.canvas_nest.zIndex %&gt;"</span> <span class="attr">count</span>=<span class="string">"&lt;%=theme.canvas_nest.count %&gt;"</span> </span></span><br><span class="line"><span class="tag">        <span class="attr">src</span>=<span class="string">"//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\_config.yml</code></strong></p><figure class="highlight sql">
    <div class="code-block-header" lang="sql">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># https:<span class="operator">/</span><span class="operator">/</span>github.com<span class="operator">/</span>hustcc<span class="operator">/</span>canvas<span class="operator">-</span>nest.js</span><br><span class="line"># 配置详见： https:<span class="operator">/</span><span class="operator">/</span>github.com<span class="operator">/</span>hustcc<span class="operator">/</span>canvas<span class="operator">-</span>nest.js#configuration</span><br><span class="line"># 动态线条效果，会向鼠标集中</span><br><span class="line">canvas_nest:</span><br><span class="line">  enable: <span class="literal">true</span></span><br><span class="line">  color: <span class="string">'255, 235, 59'</span>        # color <span class="keyword">of</span> lines, <span class="keyword">default</span>: <span class="string">'0,0,0'</span>; RGB <span class="keyword">values</span>: (R,G,B).(note: use <span class="string">','</span> <span class="keyword">to</span> separate.)</span><br><span class="line">  pointColor: <span class="string">'156,39,176'</span>     # color <span class="keyword">of</span> points, <span class="keyword">default</span>: <span class="string">'0,0,0'</span>; RGB <span class="keyword">values</span>: (R,G,B).(note: use <span class="string">','</span> <span class="keyword">to</span> separate.)</span><br><span class="line">  opacity: <span class="string">'0.8'</span>               # the opacity <span class="keyword">of</span> line (<span class="number">0</span><span class="operator">~</span><span class="number">1</span>), <span class="keyword">default</span>: <span class="number">0.5</span>.</span><br><span class="line">  count: <span class="string">'99'</span>                  # the number <span class="keyword">of</span> lines, <span class="keyword">default</span>: <span class="number">99.</span></span><br><span class="line">  zIndex: <span class="string">'-1'</span>                 # z<span class="operator">-</span>index property <span class="keyword">of</span> the background, <span class="keyword">default</span>: <span class="number">-1.</span></span><br></pre></td></tr></table></figure><p><img data-src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573465565165.png" alt src="/img/load.gif?v=a79c22516f"></p><h3 id="雪花特效2-大雪花-有齿轮"><a href="#雪花特效2-大雪花-有齿轮" class="headerlink" title="雪花特效2.大雪花(有齿轮)"></a>雪花特效2.大雪花(有齿轮)</h3><p><strong><code>H:\Hexo\themes\yilia\source\js\snow2.js</code></strong></p><figure class="highlight js">
    <div class="code-block-header" lang="js">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*样式一*/</span></span><br><span class="line">(<span class="keyword">function</span> (<span class="params">$</span>) {</span><br><span class="line">    $.fn.<span class="property">snow</span> = <span class="keyword">function</span> (<span class="params">options</span>) {</span><br><span class="line">        <span class="keyword">var</span> $flake = $(<span class="string">'&lt;div id="snowbox" /&gt;'</span>).<span class="title function_">css</span>({</span><br><span class="line">                <span class="string">'position'</span>: <span class="string">'absolute'</span>,</span><br><span class="line">                <span class="string">'z-index'</span>: <span class="string">'9999'</span>,</span><br><span class="line">                <span class="string">'top'</span>: <span class="string">'-50px'</span></span><br><span class="line">            }).<span class="title function_">html</span>(<span class="string">'❄'</span>),</span><br><span class="line">            documentHeight = $(<span class="variable language_">document</span>).<span class="title function_">height</span>(),</span><br><span class="line">            documentWidth = $(<span class="variable language_">document</span>).<span class="title function_">width</span>(),</span><br><span class="line">            defaults = {</span><br><span class="line">                <span class="attr">minSize</span>: <span class="number">10</span>,</span><br><span class="line">                <span class="attr">maxSize</span>: <span class="number">20</span>,</span><br><span class="line">                <span class="attr">newOn</span>: <span class="number">1000</span>,</span><br><span class="line">                <span class="attr">flakeColor</span>: <span class="string">"#AFDAEF"</span> <span class="comment">/* 此处可以定义雪花颜色，若要白色可以改为#FFFFFF */</span></span><br><span class="line">            },</span><br><span class="line">            options = $.<span class="title function_">extend</span>({}, defaults, options);</span><br><span class="line">        <span class="keyword">var</span> interval = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            <span class="keyword">var</span> startPositionLeft = <span class="title class_">Math</span>.<span class="title function_">random</span>() * documentWidth - <span class="number">100</span>,</span><br><span class="line">                startOpacity = <span class="number">0.5</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>(),</span><br><span class="line">                sizeFlake = options.<span class="property">minSize</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>() * options.<span class="property">maxSize</span>,</span><br><span class="line">                endPositionTop = documentHeight - <span class="number">200</span>,</span><br><span class="line">                endPositionLeft = startPositionLeft - <span class="number">500</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">500</span>,</span><br><span class="line">                durationFall = documentHeight * <span class="number">10</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">5000</span>;</span><br><span class="line">            $flake.<span class="title function_">clone</span>().<span class="title function_">appendTo</span>(<span class="string">'body'</span>).<span class="title function_">css</span>({</span><br><span class="line">                <span class="attr">left</span>: startPositionLeft,</span><br><span class="line">                <span class="attr">opacity</span>: startOpacity,</span><br><span class="line">                <span class="string">'font-size'</span>: sizeFlake,</span><br><span class="line">                <span class="attr">color</span>: options.<span class="property">flakeColor</span></span><br><span class="line">            }).<span class="title function_">animate</span>({</span><br><span class="line">                <span class="attr">top</span>: endPositionTop,</span><br><span class="line">                <span class="attr">left</span>: endPositionLeft,</span><br><span class="line">                <span class="attr">opacity</span>: <span class="number">0.2</span></span><br><span class="line">            }, durationFall, <span class="string">'linear'</span>, <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">                $(<span class="variable language_">this</span>).<span class="title function_">remove</span>()</span><br><span class="line">            });</span><br><span class="line">        }, options.<span class="property">newOn</span>);</span><br><span class="line">    };</span><br><span class="line">})(jQuery);</span><br><span class="line">$(<span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">    $.fn.<span class="title function_">snow</span>({</span><br><span class="line">        <span class="attr">minSize</span>: <span class="number">5</span>,</span><br><span class="line">        <span class="comment">/* 定义雪花最小尺寸 */</span></span><br><span class="line">        <span class="attr">maxSize</span>: <span class="number">50</span>,</span><br><span class="line">        <span class="comment">/* 定义雪花最大尺寸 */</span></span><br><span class="line">        <span class="attr">newOn</span>: <span class="number">300</span> <span class="comment">/* 定义密集程度，数字越小越密集 */</span></span><br><span class="line">    });</span><br><span class="line">});</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 雪花特效2 --&gt;</span></span><br><span class="line">&lt;% if (theme.snow2){ %&gt;</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/snow2.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\_config.yml</code></strong></p><figure class="highlight sql">
    <div class="code-block-header" lang="sql">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 雪花特效<span class="number">2</span></span><br><span class="line">snow2: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img data-src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476600371.png" alt src="/img/load.gif?v=a79c22516f"></p><h3 id="雪花特效3-小雪花-无齿轮"><a href="#雪花特效3-小雪花-无齿轮" class="headerlink" title="雪花特效3.小雪花(无齿轮)"></a>雪花特效3.小雪花(无齿轮)</h3><p><strong><code>H:\Hexo\themes\yilia\source\js\snow3.js</code></strong></p><figure class="highlight js">
    <div class="code-block-header" lang="js">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*样式二*/</span></span><br><span class="line"><span class="comment">/* 控制下雪 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">snowFall</span>(<span class="params">snow</span>) {</span><br><span class="line">    <span class="comment">/* 可配置属性 */</span></span><br><span class="line">    snow = snow || {};</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">maxFlake</span> = snow.<span class="property">maxFlake</span> || <span class="number">200</span>; <span class="comment">/* 最多片数 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">flakeSize</span> = snow.<span class="property">flakeSize</span> || <span class="number">10</span>; <span class="comment">/* 雪花形状 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">fallSpeed</span> = snow.<span class="property">fallSpeed</span> || <span class="number">1</span>; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">}</span><br><span class="line"><span class="comment">/* 兼容写法 */</span></span><br><span class="line">requestAnimationFrame = <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">msRequestAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">oRequestAnimationFrame</span> ||</span><br><span class="line">    <span class="keyword">function</span> (<span class="params">callback</span>) {</span><br><span class="line">        <span class="built_in">setTimeout</span>(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">cancelAnimationFrame = <span class="variable language_">window</span>.<span class="property">cancelAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">mozCancelAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">webkitCancelAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">msCancelAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">oCancelAnimationFrame</span>;</span><br><span class="line"><span class="comment">/* 开始下雪 */</span></span><br><span class="line">snowFall.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">start</span> = <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">    <span class="comment">/* 创建画布 */</span></span><br><span class="line">    snowCanvas.<span class="title function_">apply</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="comment">/* 创建雪花形状 */</span></span><br><span class="line">    createFlakes.<span class="title function_">apply</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="comment">/* 画雪 */</span></span><br><span class="line">    drawSnow.<span class="title function_">apply</span>(<span class="variable language_">this</span>)</span><br><span class="line">}</span><br><span class="line"><span class="comment">/* 创建画布 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">snowCanvas</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="comment">/* 添加Dom结点 */</span></span><br><span class="line">    <span class="keyword">var</span> snowcanvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">"canvas"</span>);</span><br><span class="line">    snowcanvas.<span class="property">id</span> = <span class="string">"snowfall"</span>;</span><br><span class="line">    snowcanvas.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">    snowcanvas.<span class="property">height</span> = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span>;</span><br><span class="line">    snowcanvas.<span class="title function_">setAttribute</span>(<span class="string">"style"</span>, <span class="string">"position:absolute; top: 0; left: 0; z-index: 1; pointer-events: none;"</span>);</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">"body"</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(snowcanvas);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">canvas</span> = snowcanvas;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">ctx</span> = snowcanvas.<span class="title function_">getContext</span>(<span class="string">"2d"</span>);</span><br><span class="line">    <span class="comment">/* 窗口大小改变的处理 */</span></span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">onresize</span> = <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">        snowcanvas.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">        <span class="comment">/* snowcanvas.height = window.innerHeight */</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">/* 雪运动对象 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">flakeMove</span>(<span class="params">canvasWidth, canvasHeight, flakeSize, fallSpeed</span>) {</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * canvasWidth); <span class="comment">/* x坐标 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * canvasHeight); <span class="comment">/* y坐标 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span> = <span class="title class_">Math</span>.<span class="title function_">random</span>() * flakeSize + <span class="number">2</span>; <span class="comment">/* 形状 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">maxSize</span> = flakeSize; <span class="comment">/* 最大形状 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">speed</span> = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1</span> + fallSpeed; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">fallSpeed</span> = fallSpeed; <span class="comment">/* 坠落速度 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">velY</span> = <span class="variable language_">this</span>.<span class="property">speed</span>; <span class="comment">/* Y方向速度 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">velX</span> = <span class="number">0</span>; <span class="comment">/* X方向速度 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">stepSize</span> = <span class="title class_">Math</span>.<span class="title function_">random</span>() / <span class="number">30</span>; <span class="comment">/* 步长 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">step</span> = <span class="number">0</span> <span class="comment">/* 步数 */</span></span><br><span class="line">}</span><br><span class="line">flakeMove.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">update</span> = <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">var</span> x = <span class="variable language_">this</span>.<span class="property">x</span>,</span><br><span class="line">        y = <span class="variable language_">this</span>.<span class="property">y</span>;</span><br><span class="line">    <span class="comment">/* 左右摆动(余弦) */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">velX</span> *= <span class="number">0.98</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">velY</span> &lt;= <span class="variable language_">this</span>.<span class="property">speed</span>) {</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">velY</span> = <span class="variable language_">this</span>.<span class="property">speed</span></span><br><span class="line">    }</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">velX</span> += <span class="title class_">Math</span>.<span class="title function_">cos</span>(<span class="variable language_">this</span>.<span class="property">step</span> += <span class="number">.05</span>) * <span class="variable language_">this</span>.<span class="property">stepSize</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> += <span class="variable language_">this</span>.<span class="property">velY</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> += <span class="variable language_">this</span>.<span class="property">velX</span>;</span><br><span class="line">    <span class="comment">/* 飞出边界的处理 */</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">x</span> &gt;= canvas.<span class="property">width</span> || <span class="variable language_">this</span>.<span class="property">x</span> &lt;= <span class="number">0</span> || <span class="variable language_">this</span>.<span class="property">y</span> &gt;= canvas.<span class="property">height</span> || <span class="variable language_">this</span>.<span class="property">y</span> &lt;= <span class="number">0</span>) {</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">reset</span>(canvas.<span class="property">width</span>, canvas.<span class="property">height</span>)</span><br><span class="line">    }</span><br><span class="line">};</span><br><span class="line"><span class="comment">/* 飞出边界-放置最顶端继续坠落 */</span></span><br><span class="line">flakeMove.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">reset</span> = <span class="keyword">function</span> (<span class="params">width, height</span>) {</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">x</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * width);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">y</span> = <span class="number">0</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">size</span> = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="variable language_">this</span>.<span class="property">maxSize</span> + <span class="number">2</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">speed</span> = <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1</span> + <span class="variable language_">this</span>.<span class="property">fallSpeed</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">velY</span> = <span class="variable language_">this</span>.<span class="property">speed</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">velX</span> = <span class="number">0</span>;</span><br><span class="line">};</span><br><span class="line"><span class="comment">// 渲染雪花-随机形状（此处可修改雪花颜色！！！）</span></span><br><span class="line">flakeMove.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">render</span> = <span class="keyword">function</span> (<span class="params">ctx</span>) {</span><br><span class="line">    <span class="keyword">var</span> snowFlake = ctx.<span class="title function_">createRadialGradient</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>, <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">size</span>);</span><br><span class="line">    snowFlake.<span class="title function_">addColorStop</span>(<span class="number">0</span>, <span class="string">"rgba(255, 255, 255, 0.9)"</span>); <span class="comment">/* 此处是雪花颜色，默认是白色 */</span></span><br><span class="line">    snowFlake.<span class="title function_">addColorStop</span>(<span class="number">.5</span>, <span class="string">"rgba(255, 255, 255, 0.5)"</span>); <span class="comment">/* 若要改为其他颜色，请自行查 */</span></span><br><span class="line">    snowFlake.<span class="title function_">addColorStop</span>(<span class="number">1</span>, <span class="string">"rgba(255, 255, 255, 0)"</span>); <span class="comment">/* 找16进制的RGB 颜色代码。 */</span></span><br><span class="line">    ctx.<span class="title function_">save</span>();</span><br><span class="line">    ctx.<span class="property">fillStyle</span> = snowFlake;</span><br><span class="line">    ctx.<span class="title function_">beginPath</span>();</span><br><span class="line">    ctx.<span class="title function_">arc</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">size</span>, <span class="number">0</span>, <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="number">2</span>);</span><br><span class="line">    ctx.<span class="title function_">fill</span>();</span><br><span class="line">    ctx.<span class="title function_">restore</span>();</span><br><span class="line">};</span><br><span class="line"><span class="comment">/* 创建雪花-定义形状 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createFlakes</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">var</span> maxFlake = <span class="variable language_">this</span>.<span class="property">maxFlake</span>,</span><br><span class="line">        flakes = <span class="variable language_">this</span>.<span class="property">flakes</span> = [],</span><br><span class="line">        canvas = <span class="variable language_">this</span>.<span class="property">canvas</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; maxFlake; i++) {</span><br><span class="line">        flakes.<span class="title function_">push</span>(<span class="keyword">new</span> <span class="title function_">flakeMove</span>(canvas.<span class="property">width</span>, canvas.<span class="property">height</span>, <span class="variable language_">this</span>.<span class="property">flakeSize</span>, <span class="variable language_">this</span>.<span class="property">fallSpeed</span>))</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">/* 画雪 */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">drawSnow</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">var</span> maxFlake = <span class="variable language_">this</span>.<span class="property">maxFlake</span>,</span><br><span class="line">        flakes = <span class="variable language_">this</span>.<span class="property">flakes</span>;</span><br><span class="line">    ctx = <span class="variable language_">this</span>.<span class="property">ctx</span>, canvas = <span class="variable language_">this</span>.<span class="property">canvas</span>, that = <span class="variable language_">this</span>;</span><br><span class="line">    <span class="comment">/* 清空雪花 */</span></span><br><span class="line">    ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvas.<span class="property">width</span>, canvas.<span class="property">height</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> e = <span class="number">0</span>; e &lt; maxFlake; e++) {</span><br><span class="line">        flakes[e].<span class="title function_">update</span>();</span><br><span class="line">        flakes[e].<span class="title function_">render</span>(ctx);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">/*  一帧一帧的画 */</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">loop</span> = <span class="title function_">requestAnimationFrame</span>(<span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">        drawSnow.<span class="title function_">apply</span>(that);</span><br><span class="line">    });</span><br><span class="line">}</span><br><span class="line"><span class="comment">/* 调用及控制方法 */</span></span><br><span class="line"><span class="keyword">var</span> snow = <span class="keyword">new</span> <span class="title function_">snowFall</span>({</span><br><span class="line">    <span class="attr">maxFlake</span>: <span class="number">60</span></span><br><span class="line">});</span><br><span class="line">snow.<span class="title function_">start</span>();</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 雪花特效3 --&gt;</span></span><br><span class="line">&lt;% if (theme.snow3){ %&gt;</span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/snow3.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\_config.yml</code></strong></p><figure class="highlight sql">
    <div class="code-block-header" lang="sql">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 雪花特效<span class="number">3</span></span><br><span class="line">snow3: <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img data-src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573476685309.png" alt src="/img/load.gif?v=a79c22516f"></p><h3 id="彩带1-鼠标点击自动替换彩带"><a href="#彩带1-鼠标点击自动替换彩带" class="headerlink" title="彩带1.鼠标点击自动替换彩带"></a>彩带1.鼠标点击自动替换彩带</h3><p><strong><code>H:\Hexo\themes\yilia\source\js\ribbon.js</code></strong></p><figure class="highlight js">
    <div class="code-block-header" lang="js">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Copyright (c) 2016 hustcc</span></span><br><span class="line"><span class="comment"> * License: MIT</span></span><br><span class="line"><span class="comment"> * Version: v1.0.1</span></span><br><span class="line"><span class="comment"> * GitHub: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="comment">**/</span></span><br><span class="line"><span class="comment">/*jshint -W030 */</span></span><br><span class="line">! <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">attr</span>(<span class="params">node, attr, default_value</span>) {</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Number</span>(node.<span class="title function_">getAttribute</span>(attr)) || default_value;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="comment">// get user config</span></span><br><span class="line">  <span class="keyword">var</span> scripts = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">'script'</span>),</span><br><span class="line">    script = scripts[scripts.<span class="property">length</span> - <span class="number">1</span>]; <span class="comment">// 当前加载的script</span></span><br><span class="line">  config = {</span><br><span class="line">    <span class="attr">z</span>: <span class="title function_">attr</span>(script, <span class="string">"zIndex"</span>, -<span class="number">1</span>), <span class="comment">// z-index</span></span><br><span class="line">    <span class="attr">a</span>: <span class="title function_">attr</span>(script, <span class="string">"alpha"</span>, <span class="number">0.6</span>), <span class="comment">// alpha</span></span><br><span class="line">    <span class="attr">s</span>: <span class="title function_">attr</span>(script, <span class="string">"size"</span>, <span class="number">90</span>), <span class="comment">// size</span></span><br><span class="line">  };</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'canvas'</span>),</span><br><span class="line">    g2d = canvas.<span class="title function_">getContext</span>(<span class="string">'2d'</span>),</span><br><span class="line">    pr = <span class="variable language_">window</span>.<span class="property">devicePixelRatio</span> || <span class="number">1</span>,</span><br><span class="line">    width = <span class="variable language_">window</span>.<span class="property">innerWidth</span>,</span><br><span class="line">    height = <span class="variable language_">window</span>.<span class="property">innerHeight</span>,</span><br><span class="line">    f = config.<span class="property">s</span>,</span><br><span class="line">    q, t,</span><br><span class="line">    m = <span class="title class_">Math</span>,</span><br><span class="line">    r = <span class="number">0</span>,</span><br><span class="line">    pi = m.<span class="property">PI</span>*<span class="number">2</span>,</span><br><span class="line">    cos = m.<span class="property">cos</span>,</span><br><span class="line">    random = m.<span class="property">random</span>;</span><br><span class="line">  canvas.<span class="property">width</span> = width * pr;</span><br><span class="line">  canvas.<span class="property">height</span> = height * pr;</span><br><span class="line">  g2d.<span class="title function_">scale</span>(pr, pr);</span><br><span class="line">  g2d.<span class="property">globalAlpha</span> = config.<span class="property">a</span>;</span><br><span class="line">  canvas.<span class="property">style</span>.<span class="property">cssText</span> = <span class="string">'opacity: '</span> + config.<span class="property">a</span> + <span class="string">';position:fixed;top:0;left:0;z-index: '</span> + config.<span class="property">z</span> + <span class="string">';width:100%;height:100%;pointer-events:none;'</span>;</span><br><span class="line">  <span class="comment">// create canvas</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">'body'</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(canvas);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">redraw</span>(<span class="params"></span>) {</span><br><span class="line">    g2d.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, width, height);</span><br><span class="line">    q = [{<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: height * <span class="number">0.7</span> + f}, {<span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: height * <span class="number">0.7</span> - f}];</span><br><span class="line">    <span class="keyword">while</span>(q[<span class="number">1</span>].<span class="property">x</span> &lt; width + f) <span class="title function_">draw</span>(q[<span class="number">0</span>], q[<span class="number">1</span>]);</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">draw</span>(<span class="params">i, j</span>) {</span><br><span class="line">    g2d.<span class="title function_">beginPath</span>();</span><br><span class="line">    g2d.<span class="title function_">moveTo</span>(i.<span class="property">x</span>, i.<span class="property">y</span>);</span><br><span class="line">    g2d.<span class="title function_">lineTo</span>(j.<span class="property">x</span>, j.<span class="property">y</span>);</span><br><span class="line">    <span class="keyword">var</span> k = j.<span class="property">x</span> + (<span class="title function_">random</span>()*<span class="number">2</span>-<span class="number">0.25</span>)*f, n = <span class="title function_">line</span>(j.<span class="property">y</span>);</span><br><span class="line">    g2d.<span class="title function_">lineTo</span>(k, n);</span><br><span class="line">    g2d.<span class="title function_">closePath</span>();</span><br><span class="line">    r -= pi / -<span class="number">50</span>;</span><br><span class="line">    g2d.<span class="property">fillStyle</span> = <span class="string">'#'</span>+(<span class="title function_">cos</span>(r)*<span class="number">127</span>+<span class="number">128</span>&lt;&lt;<span class="number">16</span> | <span class="title function_">cos</span>(r+pi/<span class="number">3</span>)*<span class="number">127</span>+<span class="number">128</span>&lt;&lt;<span class="number">8</span> | <span class="title function_">cos</span>(r+pi/<span class="number">3</span>*<span class="number">2</span>)*<span class="number">127</span>+<span class="number">128</span>).<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line">    g2d.<span class="title function_">fill</span>();</span><br><span class="line">    q[<span class="number">0</span>] = q[<span class="number">1</span>];</span><br><span class="line">    q[<span class="number">1</span>] = {<span class="attr">x</span>: k, <span class="attr">y</span>: n};</span><br><span class="line">  }</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">line</span>(<span class="params">p</span>){</span><br><span class="line">    t = p + (<span class="title function_">random</span>() * <span class="number">2</span> - <span class="number">1.1</span>) * f;</span><br><span class="line">    <span class="keyword">return</span> (t &gt; height || t &lt; <span class="number">0</span>) ? <span class="title function_">line</span>(p) : t;</span><br><span class="line">  }</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">onclick</span> = redraw;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="property">ontouchstart</span> = redraw;</span><br><span class="line">  <span class="title function_">redraw</span>();</span><br><span class="line">}();</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--彩带1.点击自动替换彩带--&gt;</span></span><br><span class="line">&lt;% if (theme.ribbon){ %&gt;</span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="https://g.joyinshare.com/hc/ribbon.min.js" type="text/javascript"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/ribbon.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\_config.yml</code></strong></p><figure class="highlight sql">
    <div class="code-block-header" lang="sql">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># https:<span class="operator">/</span><span class="operator">/</span>github.com<span class="operator">/</span>hustcc<span class="operator">/</span>ribbon.js</span><br><span class="line"># 彩带<span class="number">1.</span>点击自动替换彩带</span><br><span class="line">ribbon: <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img data-src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478268322.png" alt src="/img/load.gif?v=a79c22516f"></p><h3 id="彩带2-自动飘动"><a href="#彩带2-自动飘动" class="headerlink" title="彩带2.自动飘动"></a>彩带2.自动飘动</h3><p><strong><code>H:\Hexo\themes\yilia\source\js\ribbon_flow.js</code></strong></p><figure class="highlight js">
    <div class="code-block-header" lang="js">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> (<span class="params">name, factory</span>) {</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">window</span> === <span class="string">"object"</span>) {</span><br><span class="line">        <span class="variable language_">window</span>[name] = <span class="title function_">factory</span>()</span><br><span class="line">    }</span><br><span class="line">})(<span class="string">"Ribbons"</span>, <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">var</span> _w = <span class="variable language_">window</span>,</span><br><span class="line">        _b = <span class="variable language_">document</span>.<span class="property">body</span>,</span><br><span class="line">        _d = <span class="variable language_">document</span>.<span class="property">documentElement</span>;</span><br><span class="line">    <span class="keyword">var</span> random = <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">arguments</span>.<span class="property">length</span> === <span class="number">1</span>) {</span><br><span class="line">            <span class="keyword">if</span> (<span class="title class_">Array</span>.<span class="title function_">isArray</span>(<span class="variable language_">arguments</span>[<span class="number">0</span>])) {</span><br><span class="line">                <span class="keyword">var</span> index = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title function_">random</span>(<span class="number">0</span>, <span class="variable language_">arguments</span>[<span class="number">0</span>].<span class="property">length</span> - <span class="number">1</span>));</span><br><span class="line">                <span class="keyword">return</span> <span class="variable language_">arguments</span>[<span class="number">0</span>][index]</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> <span class="title function_">random</span>(<span class="number">0</span>, <span class="variable language_">arguments</span>[<span class="number">0</span>])</span><br><span class="line">        } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">arguments</span>.<span class="property">length</span> === <span class="number">2</span>) {</span><br><span class="line">            <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">random</span>() * (<span class="variable language_">arguments</span>[<span class="number">1</span>] - <span class="variable language_">arguments</span>[<span class="number">0</span>]) + <span class="variable language_">arguments</span>[<span class="number">0</span>]</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">var</span> screenInfo = <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">        <span class="keyword">var</span> width = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, _w.<span class="property">innerWidth</span> || _d.<span class="property">clientWidth</span> || _b.<span class="property">clientWidth</span> || <span class="number">0</span>),</span><br><span class="line">            height = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, _w.<span class="property">innerHeight</span> || _d.<span class="property">clientHeight</span> || _b.<span class="property">clientHeight</span> || <span class="number">0</span>),</span><br><span class="line">            scrollx = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, _w.<span class="property">pageXOffset</span> || _d.<span class="property">scrollLeft</span> || _b.<span class="property">scrollLeft</span> || <span class="number">0</span>) - (_d.<span class="property">clientLeft</span> || <span class="number">0</span>),</span><br><span class="line">            scrolly = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, _w.<span class="property">pageYOffset</span> || _d.<span class="property">scrollTop</span> || _b.<span class="property">scrollTop</span> || <span class="number">0</span>) - (_d.<span class="property">clientTop</span> || <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> {</span><br><span class="line">            <span class="attr">width</span>: width,</span><br><span class="line">            <span class="attr">height</span>: height,</span><br><span class="line">            <span class="attr">ratio</span>: width / height,</span><br><span class="line">            <span class="attr">centerx</span>: width / <span class="number">2</span>,</span><br><span class="line">            <span class="attr">centery</span>: height / <span class="number">2</span>,</span><br><span class="line">            <span class="attr">scrollx</span>: scrollx,</span><br><span class="line">            <span class="attr">scrolly</span>: scrolly</span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">var</span> mouseInfo = <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">        <span class="keyword">var</span> screen = <span class="title function_">screenInfo</span>(e),</span><br><span class="line">            mousex = e ? <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, e.<span class="property">pageX</span> || e.<span class="property">clientX</span> || <span class="number">0</span>) : <span class="number">0</span>,</span><br><span class="line">            mousey = e ? <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="number">0</span>, e.<span class="property">pageY</span> || e.<span class="property">clientY</span> || <span class="number">0</span>) : <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> {</span><br><span class="line">            <span class="attr">mousex</span>: mousex,</span><br><span class="line">            <span class="attr">mousey</span>: mousey,</span><br><span class="line">            <span class="attr">centerx</span>: mousex - screen.<span class="property">width</span> / <span class="number">2</span>,</span><br><span class="line">            <span class="attr">centery</span>: mousey - screen.<span class="property">height</span> / <span class="number">2</span></span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Point</span> = <span class="keyword">function</span> (<span class="params">x, y</span>) {</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">set</span>(x, y)</span><br><span class="line">    };</span><br><span class="line">    <span class="title class_">Point</span>.<span class="property"><span class="keyword">prototype</span></span> = {</span><br><span class="line">        <span class="attr">constructor</span>: <span class="title class_">Point</span>,</span><br><span class="line">        <span class="attr">set</span>: <span class="keyword">function</span> (<span class="params">x, y</span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> = x || <span class="number">0</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> = y || <span class="number">0</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">copy</span>: <span class="keyword">function</span> (<span class="params">point</span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> = point.<span class="property">x</span> || <span class="number">0</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> = point.<span class="property">y</span> || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">multiply</span>: <span class="keyword">function</span> (<span class="params">x, y</span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> *= x || <span class="number">1</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> *= y || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">divide</span>: <span class="keyword">function</span> (<span class="params">x, y</span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> /= x || <span class="number">1</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> /= y || <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">add</span>: <span class="keyword">function</span> (<span class="params">x, y</span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> += x || <span class="number">0</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> += y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">subtract</span>: <span class="keyword">function</span> (<span class="params">x, y</span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> -= x || <span class="number">0</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> -= y || <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">clampX</span>: <span class="keyword">function</span> (<span class="params">min, max</span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> = <span class="title class_">Math</span>.<span class="title function_">max</span>(min, <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="variable language_">this</span>.<span class="property">x</span>, max));</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">clampY</span>: <span class="keyword">function</span> (<span class="params">min, max</span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> = <span class="title class_">Math</span>.<span class="title function_">max</span>(min, <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="variable language_">this</span>.<span class="property">y</span>, max));</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">flipX</span>: <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">x</span> *= -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">flipY</span>: <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">y</span> *= -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span></span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">Factory</span> = <span class="keyword">function</span> (<span class="params">options</span>) {</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_canvas</span> = <span class="literal">null</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_context</span> = <span class="literal">null</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_sto</span> = <span class="literal">null</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_width</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_height</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_scroll</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_ribbons</span> = [];</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_options</span> = {</span><br><span class="line">            <span class="attr">colorSaturation</span>: <span class="string">"80%"</span>,</span><br><span class="line">            <span class="attr">colorBrightness</span>: <span class="string">"60%"</span>,</span><br><span class="line">            <span class="attr">colorAlpha</span>: <span class="number">0.65</span>,</span><br><span class="line">            <span class="attr">colorCycleSpeed</span>: <span class="number">6</span>,</span><br><span class="line">            <span class="attr">verticalPosition</span>: <span class="string">"center"</span>,</span><br><span class="line">            <span class="attr">horizontalSpeed</span>: <span class="number">150</span>,</span><br><span class="line">            <span class="attr">ribbonCount</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="attr">strokeSize</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="attr">parallaxAmount</span>: -<span class="number">0.5</span>,</span><br><span class="line">            <span class="attr">animateSections</span>: <span class="literal">true</span></span><br><span class="line">        };</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_onDraw</span> = <span class="variable language_">this</span>.<span class="property">_onDraw</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_onResize</span> = <span class="variable language_">this</span>.<span class="property">_onResize</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_onScroll</span> = <span class="variable language_">this</span>.<span class="property">_onScroll</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setOptions</span>(options);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">init</span>()</span><br><span class="line">    };</span><br><span class="line">    <span class="title class_">Factory</span>.<span class="property"><span class="keyword">prototype</span></span> = {</span><br><span class="line">        <span class="attr">constructor</span>: <span class="title class_">Factory</span>,</span><br><span class="line">        <span class="attr">setOptions</span>: <span class="keyword">function</span> (<span class="params">options</span>) {</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">typeof</span> options === <span class="string">"object"</span>) {</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> options) {</span><br><span class="line">                    <span class="keyword">if</span> (options.<span class="title function_">hasOwnProperty</span>(key)) {</span><br><span class="line">                        <span class="variable language_">this</span>.<span class="property">_options</span>[key] = options[key]</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">init</span>: <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span> = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">"canvas"</span>);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"display"</span>] = <span class="string">"block"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"position"</span>] = <span class="string">"fixed"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"margin"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"padding"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"border"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"outline"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"left"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"top"</span>] = <span class="string">"0"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"width"</span>] = <span class="string">"100%"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"height"</span>] = <span class="string">"100%"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">style</span>[<span class="string">"z-index"</span>] = <span class="string">"-1"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">_onResize</span>();</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span> = <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="title function_">getContext</span>(<span class="string">"2d"</span>);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">_width</span>, <span class="variable language_">this</span>.<span class="property">_height</span>);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="property">globalAlpha</span> = <span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">colorAlpha</span>;</span><br><span class="line">                <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">"resize"</span>, <span class="variable language_">this</span>.<span class="property">_onResize</span>);</span><br><span class="line">                <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">"scroll"</span>, <span class="variable language_">this</span>.<span class="property">_onScroll</span>);</span><br><span class="line">                <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(<span class="variable language_">this</span>.<span class="property">_canvas</span>)</span><br><span class="line">            } <span class="keyword">catch</span> (e) {</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">"Canvas Context Error: "</span> + e.<span class="title function_">toString</span>());</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            }</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">_onDraw</span>()</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">addRibbon</span>: <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            <span class="keyword">var</span> dir = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title function_">random</span>(<span class="number">1</span>, <span class="number">9</span>)) &gt; <span class="number">5</span> ? <span class="string">"right"</span> : <span class="string">"left"</span>,</span><br><span class="line">                stop = <span class="number">1000</span>,</span><br><span class="line">                hide = <span class="number">200</span>,</span><br><span class="line">                min = <span class="number">0</span> - hide,</span><br><span class="line">                max = <span class="variable language_">this</span>.<span class="property">_width</span> + hide,</span><br><span class="line">                movex = <span class="number">0</span>,</span><br><span class="line">                movey = <span class="number">0</span>,</span><br><span class="line">                startx = dir === <span class="string">"right"</span> ? min : max,</span><br><span class="line">                starty = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title function_">random</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">_height</span>));</span><br><span class="line">            <span class="keyword">if</span> (<span class="regexp">/^(top|min)$/i</span>.<span class="title function_">test</span>(<span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">verticalPosition</span>)) {</span><br><span class="line">                starty = <span class="number">0</span> + hide</span><br><span class="line">            } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/^(middle|center)$/i</span>.<span class="title function_">test</span>(<span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">verticalPosition</span>)) {</span><br><span class="line">                starty = <span class="variable language_">this</span>.<span class="property">_height</span> / <span class="number">2</span></span><br><span class="line">            } <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/^(bottom|max)$/i</span>.<span class="title function_">test</span>(<span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">verticalPosition</span>)) {</span><br><span class="line">                starty = <span class="variable language_">this</span>.<span class="property">_height</span> - hide</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">var</span> ribbon = [],</span><br><span class="line">                point1 = <span class="keyword">new</span> <span class="title class_">Point</span>(startx, starty),</span><br><span class="line">                point2 = <span class="keyword">new</span> <span class="title class_">Point</span>(startx, starty),</span><br><span class="line">                point3 = <span class="literal">null</span>,</span><br><span class="line">                color = <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="title function_">random</span>(<span class="number">0</span>, <span class="number">360</span>)),</span><br><span class="line">                delay = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) {</span><br><span class="line">                <span class="keyword">if</span> (stop &lt;= <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">                stop--;</span><br><span class="line">                movex = <span class="title class_">Math</span>.<span class="title function_">round</span>((<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1</span> - <span class="number">0.2</span>) * <span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">horizontalSpeed</span>);</span><br><span class="line">                movey = <span class="title class_">Math</span>.<span class="title function_">round</span>((<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">1</span> - <span class="number">0.5</span>) * (<span class="variable language_">this</span>.<span class="property">_height</span> * <span class="number">0.25</span>));</span><br><span class="line">                point3 = <span class="keyword">new</span> <span class="title class_">Point</span>();</span><br><span class="line">                point3.<span class="title function_">copy</span>(point2);</span><br><span class="line">                <span class="keyword">if</span> (dir === <span class="string">"right"</span>) {</span><br><span class="line">                    point3.<span class="title function_">add</span>(movex, movey);</span><br><span class="line">                    <span class="keyword">if</span> (point2.<span class="property">x</span> &gt;= max) <span class="keyword">break</span></span><br><span class="line">                } <span class="keyword">else</span> <span class="keyword">if</span> (dir === <span class="string">"left"</span>) {</span><br><span class="line">                    point3.<span class="title function_">subtract</span>(movex, movey);</span><br><span class="line">                    <span class="keyword">if</span> (point2.<span class="property">x</span> &lt;= min) <span class="keyword">break</span></span><br><span class="line">                }</span><br><span class="line">                ribbon.<span class="title function_">push</span>({</span><br><span class="line">                    <span class="attr">point1</span>: <span class="keyword">new</span> <span class="title class_">Point</span>(point1.<span class="property">x</span>, point1.<span class="property">y</span>),</span><br><span class="line">                    <span class="attr">point2</span>: <span class="keyword">new</span> <span class="title class_">Point</span>(point2.<span class="property">x</span>, point2.<span class="property">y</span>),</span><br><span class="line">                    <span class="attr">point3</span>: point3,</span><br><span class="line">                    <span class="attr">color</span>: color,</span><br><span class="line">                    <span class="attr">delay</span>: delay,</span><br><span class="line">                    <span class="attr">dir</span>: dir,</span><br><span class="line">                    <span class="attr">alpha</span>: <span class="number">0</span>,</span><br><span class="line">                    <span class="attr">phase</span>: <span class="number">0</span></span><br><span class="line">                });</span><br><span class="line">                point1.<span class="title function_">copy</span>(point2);</span><br><span class="line">                point2.<span class="title function_">copy</span>(point3);</span><br><span class="line">                delay += <span class="number">4</span>;</span><br><span class="line">                color += <span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">colorCycleSpeed</span></span><br><span class="line">            }</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_ribbons</span>.<span class="title function_">push</span>(ribbon)</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">_drawRibbonSection</span>: <span class="keyword">function</span> (<span class="params">section</span>) {</span><br><span class="line">            <span class="keyword">if</span> (section) {</span><br><span class="line">                <span class="keyword">if</span> (section.<span class="property">phase</span> &gt;= <span class="number">1</span> &amp;&amp; section.<span class="property">alpha</span> &lt;= <span class="number">0</span>) {</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span> (section.<span class="property">delay</span> &lt;= <span class="number">0</span>) {</span><br><span class="line">                    section.<span class="property">phase</span> += <span class="number">0.02</span>;</span><br><span class="line">                    section.<span class="property">alpha</span> = <span class="title class_">Math</span>.<span class="title function_">sin</span>(section.<span class="property">phase</span>) * <span class="number">1</span>;</span><br><span class="line">                    section.<span class="property">alpha</span> = section.<span class="property">alpha</span> &lt;= <span class="number">0</span> ? <span class="number">0</span> : section.<span class="property">alpha</span>;</span><br><span class="line">                    section.<span class="property">alpha</span> = section.<span class="property">alpha</span> &gt;= <span class="number">1</span> ? <span class="number">1</span> : section.<span class="property">alpha</span>;</span><br><span class="line">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">animateSections</span>) {</span><br><span class="line">                        <span class="keyword">var</span> mod = <span class="title class_">Math</span>.<span class="title function_">sin</span>(<span class="number">1</span> + section.<span class="property">phase</span> * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">2</span>) * <span class="number">0.1</span>;</span><br><span class="line">                        <span class="keyword">if</span> (section.<span class="property">dir</span> === <span class="string">"right"</span>) {</span><br><span class="line">                            section.<span class="property">point1</span>.<span class="title function_">add</span>(mod, <span class="number">0</span>);</span><br><span class="line">                            section.<span class="property">point2</span>.<span class="title function_">add</span>(mod, <span class="number">0</span>);</span><br><span class="line">                            section.<span class="property">point3</span>.<span class="title function_">add</span>(mod, <span class="number">0</span>)</span><br><span class="line">                        } <span class="keyword">else</span> {</span><br><span class="line">                            section.<span class="property">point1</span>.<span class="title function_">subtract</span>(mod, <span class="number">0</span>);</span><br><span class="line">                            section.<span class="property">point2</span>.<span class="title function_">subtract</span>(mod, <span class="number">0</span>);</span><br><span class="line">                            section.<span class="property">point3</span>.<span class="title function_">subtract</span>(mod, <span class="number">0</span>)</span><br><span class="line">                        }</span><br><span class="line">                        section.<span class="property">point1</span>.<span class="title function_">add</span>(<span class="number">0</span>, mod);</span><br><span class="line">                        section.<span class="property">point2</span>.<span class="title function_">add</span>(<span class="number">0</span>, mod);</span><br><span class="line">                        section.<span class="property">point3</span>.<span class="title function_">add</span>(<span class="number">0</span>, mod)</span><br><span class="line">                    }</span><br><span class="line">                } <span class="keyword">else</span> {</span><br><span class="line">                    section.<span class="property">delay</span> -= <span class="number">0.5</span></span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">var</span> s = <span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">colorSaturation</span>,</span><br><span class="line">                    l = <span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">colorBrightness</span>,</span><br><span class="line">                    c = <span class="string">"hsla("</span> + section.<span class="property">color</span> + <span class="string">", "</span> + s + <span class="string">", "</span> + l + <span class="string">", "</span> + section.<span class="property">alpha</span> + <span class="string">" )"</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">save</span>();</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">parallaxAmount</span> !== <span class="number">0</span>) {</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">translate</span>(<span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">_scroll</span> * <span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">parallaxAmount</span>)</span><br><span class="line">                }</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">beginPath</span>();</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">moveTo</span>(section.<span class="property">point1</span>.<span class="property">x</span>, section.<span class="property">point1</span>.<span class="property">y</span>);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">lineTo</span>(section.<span class="property">point2</span>.<span class="property">x</span>, section.<span class="property">point2</span>.<span class="property">y</span>);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">lineTo</span>(section.<span class="property">point3</span>.<span class="property">x</span>, section.<span class="property">point3</span>.<span class="property">y</span>);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="property">fillStyle</span> = c;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">fill</span>();</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">strokeSize</span> &gt; <span class="number">0</span>) {</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="property">lineWidth</span> = <span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">strokeSize</span>;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="property">strokeStyle</span> = c;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="property">lineCap</span> = <span class="string">"round"</span>;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">stroke</span>()</span><br><span class="line">                }</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">restore</span>()</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        },</span><br><span class="line">        <span class="attr">_onDraw</span>: <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, t = <span class="variable language_">this</span>.<span class="property">_ribbons</span>.<span class="property">length</span>; i &lt; t; ++i) {</span><br><span class="line">                <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">_ribbons</span>[i]) {</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">_ribbons</span>.<span class="title function_">splice</span>(i, <span class="number">1</span>)</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="variable language_">this</span>.<span class="property">_width</span>, <span class="variable language_">this</span>.<span class="property">_height</span>);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">0</span>; a &lt; <span class="variable language_">this</span>.<span class="property">_ribbons</span>.<span class="property">length</span>; ++a) {</span><br><span class="line">                <span class="keyword">var</span> ribbon = <span class="variable language_">this</span>.<span class="property">_ribbons</span>[a],</span><br><span class="line">                    numSections = ribbon.<span class="property">length</span>,</span><br><span class="line">                    numDone = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> b = <span class="number">0</span>; b &lt; numSections; ++b) {</span><br><span class="line">                    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">_drawRibbonSection</span>(ribbon[b])) {</span><br><span class="line">                        numDone++</span><br><span class="line">                    }</span><br><span class="line">                }</span><br><span class="line">                <span class="keyword">if</span> (numDone &gt;= numSections) {</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">_ribbons</span>[a] = <span class="literal">null</span></span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_ribbons</span>.<span class="property">length</span> &lt; <span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">ribbonCount</span>) {</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">addRibbon</span>()</span><br><span class="line">            }</span><br><span class="line">            <span class="title function_">requestAnimationFrame</span>(<span class="variable language_">this</span>.<span class="property">_onDraw</span>)</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">_onResize</span>: <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">            <span class="keyword">var</span> screen = <span class="title function_">screenInfo</span>(e);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_width</span> = screen.<span class="property">width</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_height</span> = screen.<span class="property">height</span>;</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_canvas</span>) {</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">width</span> = <span class="variable language_">this</span>.<span class="property">_width</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">_canvas</span>.<span class="property">height</span> = <span class="variable language_">this</span>.<span class="property">_height</span>;</span><br><span class="line">                <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">_context</span>) {</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">_context</span>.<span class="property">globalAlpha</span> = <span class="variable language_">this</span>.<span class="property">_options</span>.<span class="property">colorAlpha</span></span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        },</span><br><span class="line">        <span class="attr">_onScroll</span>: <span class="keyword">function</span> (<span class="params">e</span>) {</span><br><span class="line">            <span class="keyword">var</span> screen = <span class="title function_">screenInfo</span>(e);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">_scroll</span> = screen.<span class="property">scrolly</span></span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Factory</span></span><br><span class="line">});</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Ribbons</span>({</span><br><span class="line">    <span class="attr">colorSaturation</span>: <span class="string">"60%"</span>,</span><br><span class="line">    <span class="attr">colorBrightness</span>: <span class="string">"50%"</span>,</span><br><span class="line">    <span class="attr">colorAlpha</span>: <span class="number">0.5</span>,</span><br><span class="line">    <span class="attr">colorCycleSpeed</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="attr">verticalPosition</span>: <span class="string">"random"</span>,</span><br><span class="line">    <span class="attr">horizontalSpeed</span>: <span class="number">200</span>,</span><br><span class="line">    <span class="attr">ribbonCount</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">strokeSize</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">parallaxAmount</span>: -<span class="number">0.2</span>,</span><br><span class="line">    <span class="attr">animateSections</span>: <span class="literal">true</span></span><br><span class="line">});</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--彩带2.自动飘动--&gt;</span></span><br><span class="line">&lt;% if (theme.ribbon_flow){ %&gt;</span><br><span class="line">    <span class="comment">&lt;!-- &lt;script src="https://g.joyinshare.com/hc/piao.js" type="text/javascript"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/ribbon_flow.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\_config.yml</code></strong></p><figure class="highlight sql">
    <div class="code-block-header" lang="sql">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 彩带<span class="number">2.</span>自动飘动</span><br><span class="line">ribbon_flow: <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="代码雨"><a href="#代码雨" class="headerlink" title="代码雨"></a>代码雨</h3><p><strong>存在问题：位置不对</strong><br><strong><code>H:\Hexo\themes\yilia\source\js\code_rain.js</code></strong></p><figure class="highlight js">
    <div class="code-block-header" lang="js">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>){</span><br><span class="line">    <span class="comment">//获取画布对象</span></span><br><span class="line">    <span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">"code_rain_canvas"</span>);</span><br><span class="line">    <span class="comment">//获取画布的上下文</span></span><br><span class="line">    <span class="keyword">var</span> context =canvas.<span class="title function_">getContext</span>(<span class="string">"2d"</span>);</span><br><span class="line">    <span class="keyword">var</span> s = <span class="variable language_">window</span>.<span class="property">screen</span>;</span><br><span class="line">    <span class="keyword">var</span> W = canvas.<span class="property">width</span> = s.<span class="property">width</span>;</span><br><span class="line">    <span class="keyword">var</span> H = canvas.<span class="property">height</span>;</span><br><span class="line">    <span class="comment">//获取浏览器屏幕的宽度和高度</span></span><br><span class="line">    <span class="comment">//var W = window.innerWidth;</span></span><br><span class="line">    <span class="comment">//var H = window.innerHeight;</span></span><br><span class="line">    <span class="comment">//设置canvas的宽度和高度</span></span><br><span class="line">    canvas.<span class="property">width</span> = W;</span><br><span class="line">    canvas.<span class="property">height</span> = H;</span><br><span class="line">    <span class="comment">//每个文字的字体大小</span></span><br><span class="line">    <span class="keyword">var</span> fontSize = <span class="number">12</span>;</span><br><span class="line">    <span class="comment">//计算列</span></span><br><span class="line">    <span class="keyword">var</span> colunms = <span class="title class_">Math</span>.<span class="title function_">floor</span>(W /fontSize);	</span><br><span class="line">    <span class="comment">//记录每列文字的y轴坐标</span></span><br><span class="line">    <span class="keyword">var</span> drops = [];</span><br><span class="line">    <span class="comment">//给每一个文字初始化一个起始点的位置</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;colunms;i++){</span><br><span class="line">        drops.<span class="title function_">push</span>(<span class="number">0</span>);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">//运动的文字</span></span><br><span class="line">    <span class="keyword">var</span> str =<span class="string">"WELCOME TO WWW.ITRHX.COM"</span>;</span><br><span class="line">    <span class="comment">//4:fillText(str,x,y);原理就是去更改y的坐标位置</span></span><br><span class="line">    <span class="comment">//绘画的函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">draw</span>(<span class="params"></span>){</span><br><span class="line">        context.<span class="property">fillStyle</span> = <span class="string">"rgba(238,238,238,.08)"</span>;<span class="comment">//遮盖层</span></span><br><span class="line">        context.<span class="title function_">fillRect</span>(<span class="number">0</span>,<span class="number">0</span>,W,H);</span><br><span class="line">        <span class="comment">//给字体设置样式</span></span><br><span class="line">        context.<span class="property">font</span> = <span class="string">"600 "</span>+fontSize+<span class="string">"px  Georgia"</span>;</span><br><span class="line">        <span class="comment">//给字体添加颜色</span></span><br><span class="line">        context.<span class="property">fillStyle</span> = [<span class="string">"#33B5E5"</span>, <span class="string">"#0099CC"</span>, <span class="string">"#AA66CC"</span>, <span class="string">"#9933CC"</span>, <span class="string">"#99CC00"</span>, <span class="string">"#669900"</span>, <span class="string">"#FFBB33"</span>, <span class="string">"#FF8800"</span>, <span class="string">"#FF4444"</span>, <span class="string">"#CC0000"</span>][<span class="built_in">parseInt</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">10</span>)];<span class="comment">//randColor();可以rgb,hsl, 标准色，十六进制颜色</span></span><br><span class="line">        <span class="comment">//写入画布中</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;colunms;i++){</span><br><span class="line">            <span class="keyword">var</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * str.<span class="property">length</span>);</span><br><span class="line">            <span class="keyword">var</span> x = i*fontSize;</span><br><span class="line">            <span class="keyword">var</span> y = drops[i] *fontSize;</span><br><span class="line">            context.<span class="title function_">fillText</span>(str[index],x,y);</span><br><span class="line">            <span class="comment">//如果要改变时间，肯定就是改变每次他的起点</span></span><br><span class="line">            <span class="keyword">if</span>(y &gt;= canvas.<span class="property">height</span> &amp;&amp; <span class="title class_">Math</span>.<span class="title function_">random</span>() &gt; <span class="number">0.99</span>){</span><br><span class="line">                drops[i] = <span class="number">0</span>;</span><br><span class="line">            }</span><br><span class="line">            drops[i]++;</span><br><span class="line">        }</span><br><span class="line">    };</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">randColor</span>(<span class="params"></span>){<span class="comment">//随机颜色</span></span><br><span class="line">        <span class="keyword">var</span> r = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">var</span> g = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">var</span> b = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">256</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"rgb("</span>+r+<span class="string">","</span>+g+<span class="string">","</span>+b+<span class="string">")"</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="title function_">draw</span>();</span><br><span class="line">    <span class="built_in">setInterval</span>(draw,<span class="number">35</span>);</span><br><span class="line">};</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\layout\layout.ejs</code></strong></p><figure class="highlight html">
    <div class="code-block-header" lang="html">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--代码雨--&gt;</span></span><br><span class="line">&lt;% if (theme.code_rain){ %&gt;</span><br><span class="line">      <span class="comment">&lt;!-- 数字雨 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">"code_rain_canvas"</span> <span class="attr">width</span>=<span class="string">"1440"</span> <span class="attr">height</span>=<span class="string">"900"</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/code_rain.js"</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">            <span class="selector-id">#code_rain_canvas</span> {</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">              <span class="attribute">position</span>: fixed;</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">              <span class="attribute">right</span>: <span class="number">0px</span>;</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">              <span class="attribute">bottom</span>: <span class="number">0px</span>;</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">              <span class="attribute">min-width</span>: <span class="number">100%</span>;</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">              <span class="attribute">min-height</span>: <span class="number">100%</span>;</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">              <span class="attribute">height</span>: auto;</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">              <span class="attribute">width</span>: auto;</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">              <span class="attribute">z-index</span>: <span class="number">4</span>;</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">            }</span></span></span></span><br><span class="line"><span class="language-css"><span class="language-xml"><span class="language-handlebars">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">    </span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></table></figure><p><strong><code>H:\Hexo\themes\yilia\_config.yml</code></strong></p><figure class="highlight sql">
    <div class="code-block-header" lang="sql">
      <span class="copy-code">COPY</span>
    </div>
    <table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 代码雨</span><br><span class="line">code_rain: <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><img data-src="http://bucket836.oss-cn-shenzhen.aliyuncs.com/image-1573478303678.png" alt src="/img/load.gif?v=a79c22516f"></p><br><h3 id="【转载】-https-www-yansheng-xyz-article-cf9c6a5e-html"><a href="#【转载】-https-www-yansheng-xyz-article-cf9c6a5e-html" class="headerlink" title="【转载】:https://www.yansheng.xyz/article/cf9c6a5e.html"></a>【转载】:<a target="_blank" rel="noopener" href="https://www.yansheng.xyz/article/cf9c6a5e.html">https://www.yansheng.xyz/article/cf9c6a5e.html</a></h3></div><div class="article-end"><div class="article-meta"><div class="article-tags"><div class="article-tags-name">Tags:</div><a class="article-tags-item" href="/tags/%E6%95%99%E7%A8%8B/">教程 </a><a class="article-tags-item" href="/tags/Hexo/">Hexo </a><a class="article-tags-item" href="/tags/Yilia/">Yilia</a></div></div><div class="post-copyright"><div class="post-copyright-icon"><svg class="copyright-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm117.134 346.753c-1.592 1.867-39.776 45.731-109.851 45.731-84.692 0-144.484-63.26-144.484-145.567 0-81.303 62.004-143.401 143.762-143.401 66.957 0 101.965 37.315 103.422 38.904a12 12 0 0 1 1.238 14.623l-22.38 34.655c-4.049 6.267-12.774 7.351-18.234 2.295-.233-.214-26.529-23.88-61.88-23.88-46.116 0-73.916 33.575-73.916 76.082 0 39.602 25.514 79.692 74.277 79.692 38.697 0 65.28-28.338 65.544-28.625 5.132-5.565 14.059-5.033 18.508 1.053l24.547 33.572a12.001 12.001 0 0 1-.553 14.866z"/></svg></div><div class="post-copyright-author"><span class="post-copyright-meta">Authorship: </span><span class="post-copyright-info"><a href="https://blog.imlete.cn">Lete乐特</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">Article Link: </span><span class="post-copyright-info"><a href="https://blog.imlete.cn/article/f923c9fe.html">https://blog.imlete.cn/article/f923c9fe.html</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">Copyright: </span><span class="post-copyright-info">All posts on this blog are licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> license unless otherwise stated. Please cite <a href="https://blog.imlete.cn" target="_blank">Lete乐特 's Blog</a> !</span></div></div></div></article></main><aside tabindex="-1"><div class="sidebar-block sidebar-sticky toc-wrap" tabindex="-1"><div class="toc-btn"><svg class="toc-btn-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 2.3 26.8 24.6 47.5 51.6 47.6h416.5v4z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z"/><path d="M566.407 808.3c26.9-0.1 49.3-20.8 51.6-47.6-1.9-27.7-23.9-49.7-51.6-51.6h-412.6c-28.2-1.4-52.6 19.5-55.5 47.6 1.9 27.7 23.9 49.7 51.6 51.6h416.5z m309.3-249.9c26.9-0.1 49.3-20.8 51.6-47.6-2.2-26.8-24.6-47.5-51.6-47.6h-721.9c-27.7-2.8-52.5 17.4-55.3 45.1-0.1 0.8-0.1 1.7-0.2 2.5 0.9 27.2 23.6 48.5 50.7 47.6H875.707z m-103.1-245.9c26.9-0.1 49.3-20.8 51.6-47.6-0.4-28.3-23.2-51.1-51.5-51.6h-618.9c-29.5-1.1-54.3 21.9-55.5 51.4v0.2c1.4 27.8 25.2 49.2 53 47.8 0.8 0 1.7-0.1 2.5-0.2h618.8z"/></svg></div><div class="sidebar-title toc-title">Catalog</div><div class="sidebar-body"><ul class="toc-list"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%95%88%E7%9B%AE%E5%BD%95"><span class="toc-number">1.</span> <span class="toc-text">特效目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A5%97%E8%B7%AF%E8%AF%B4%E6%98%8E"><span class="toc-number">2.</span> <span class="toc-text">套路说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E5%87%BA%E7%8E%B0%E7%88%B1%E5%BF%83%E7%89%B9%E6%95%88"><span class="toc-number">3.</span> <span class="toc-text">鼠标点击出现爱心特效</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E6%98%BE%E7%A4%BA%E6%96%87%E5%AD%97%E2%80%93%E9%9C%80%E8%A6%81%E5%BC%95%E5%85%A5jQuery"><span class="toc-number">4.</span> <span class="toc-text">鼠标点击显示文字–需要引入jQuery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E7%83%9F%E8%8A%B1%E7%88%86%E7%82%B8%E6%95%88%E6%9E%9C"><span class="toc-number">5.</span> <span class="toc-text">鼠标点击烟花爆炸效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E7%BA%BF%E6%9D%A1%E8%83%8C%E6%99%AF"><span class="toc-number">6.</span> <span class="toc-text">动态线条背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%882-%E5%A4%A7%E9%9B%AA%E8%8A%B1-%E6%9C%89%E9%BD%BF%E8%BD%AE"><span class="toc-number">7.</span> <span class="toc-text">雪花特效2.大雪花(有齿轮)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9B%AA%E8%8A%B1%E7%89%B9%E6%95%883-%E5%B0%8F%E9%9B%AA%E8%8A%B1-%E6%97%A0%E9%BD%BF%E8%BD%AE"><span class="toc-number">8.</span> <span class="toc-text">雪花特效3.小雪花(无齿轮)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A9%E5%B8%A61-%E9%BC%A0%E6%A0%87%E7%82%B9%E5%87%BB%E8%87%AA%E5%8A%A8%E6%9B%BF%E6%8D%A2%E5%BD%A9%E5%B8%A6"><span class="toc-number">9.</span> <span class="toc-text">彩带1.鼠标点击自动替换彩带</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BD%A9%E5%B8%A62-%E8%87%AA%E5%8A%A8%E9%A3%98%E5%8A%A8"><span class="toc-number">10.</span> <span class="toc-text">彩带2.自动飘动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E9%9B%A8"><span class="toc-number">11.</span> <span class="toc-text">代码雨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E3%80%90%E8%BD%AC%E8%BD%BD%E3%80%91-https-www-yansheng-xyz-article-cf9c6a5e-html"><span class="toc-number">12.</span> <span class="toc-text">【转载】:https://www.yansheng.xyz/article/cf9c6a5e.html</span></a></li></ol></ul></div></div></aside></div><footer class="footer main-width"><div class="copyright">© 2020 - 2024 Lete乐特</div><div class="framework-info"><span>Framework</span> <a href="https://hexo.io" target="_blank">Hexo</a> <span class="footer-separator">|</span> <span>Theme</span> <a href="https://github.com/Lete114/hexo-theme-MengD" target="_blank">MengD</a></div><div class="custom">我相信我可以，但我一直在路上，所以我有无限的可能！！</div></footer></div></body></html>